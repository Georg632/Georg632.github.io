import{$ as f,A as Te,Aa as Z,Ad as rt,Ba as Ge,Bd as nt,C as O,Ca as J,Da as z,Dd as at,E as l,Ed as E,F as I,Fa as Le,G as H,Ga as je,Gb as se,Gd as lt,I as Ie,Ia as u,Ja as X,Ka as ee,Kd as ut,L as P,La as Re,Mb as a,N as He,Nb as q,O as h,Ob as Ke,P as Be,Pb as $,Pc as it,Qa as ze,Qb as Ze,R as x,Ra as Xe,S as Me,Sa as qe,U as we,Ua as y,W as Pe,Wa as $e,Wd as W,X as Se,Z as r,_ as V,aa as N,b as Ce,c as K,ca as Oe,cb as D,db as n,eb as m,fa as _,fb as We,fc as Je,ga as G,gc as et,ge as ct,ha as L,hb as M,ib as s,ja as Ee,jb as te,ka as ke,la as Fe,lb as Qe,ma as B,mb as oe,mc as tt,n as ye,na as b,oa as C,oc as ot,pa as j,pb as T,qb as ie,s as xe,sb as Ue,t as Ae,ta as Ve,ua as R,ub as Ye,v as De,va as A,wa as g,wd as st,ya as v,z as F,za as Ne}from"./chunk-LVDE5XHT.js";import{a as w,b as Y}from"./chunk-X37JSKTG.js";function pt(){return{transformValueToSearch:e=>typeof e=="string"?e:String(e),transformOptionToString:e=>typeof e=="string"?e:String(e),transformOptionToValue:void 0,requireSelection:!1,showClearBtn:!1,debounceTime:150}}var mt=new O("HlmAutocompleteConfig");function Yt(e){return{provide:mt,useValue:w(w({},pt()),e)}}function dt(){return l(mt,{optional:!0})??pt()}var Dt={hasBackdrop:!1,scrollStrategy:"reposition"},Q=(()=>{class e extends E{align=s("center");sideOffset=s(0,{transform:ie});offsetX=s(0,{transform:ie});_positionStrategy;constructor(){super(),this.setAriaDescribedBy(""),this.setAriaLabelledBy(""),m(()=>{let t=this.align();D(()=>{this.mutableAttachPositions.set([{originX:t,originY:"bottom",overlayX:t,overlayY:"top"},{originX:t,originY:"top",overlayX:t,overlayY:"bottom"}])}),D(()=>{this.applySideOffset(this.sideOffset())})}),m(()=>{let t=this.sideOffset();D(()=>{this.applySideOffset(t)})}),m(()=>{let t=this.offsetX();D(()=>{this.applyOffsetX(t)})}),m(()=>{let t=this.mutableAttachTo(),o=this.mutableAttachPositions();!t||!o||o.length===0||D(()=>{this._positionStrategy?this._positionStrategy.setOrigin(t):this._positionStrategy=this.positionBuilder.flexibleConnectedTo(t).withPush(!1),this._positionStrategy.withPositions(o),this.mutablePositionStrategy.set(this._positionStrategy)})})}applySideOffset(t){this.mutableAttachPositions.update(o=>o.map(i=>Y(w({},i),{offsetY:i.originY==="top"?-t:t})))}applyOffsetX(t){this.mutableAttachPositions.update(o=>o.map(i=>Y(w({},i),{offsetX:t})))}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","brnPopover",""],["brn-popover"]],inputs:{align:[1,"align"],sideOffset:[1,"sideOffset"],offsetX:[1,"offsetX"]},exportAs:["brnPopover"],features:[y([{provide:E,useExisting:F(()=>e)},at(Dt)]),V]})}return e})(),ft=(()=>{class e extends lt{static \u0275fac=(()=>{let t;return function(i){return(t||(t=He(e)))(i||e)}})();static \u0275dir=r({type:e,selectors:[["","brnPopoverContent",""]],features:[y([nt(()=>e)]),V]})}return e})(),gt=(()=>{class e extends ut{_host=l(h,{host:!0});brnPopoverTriggerFor=s(void 0,{alias:"brnPopoverTriggerFor"});constructor(){super(),m(()=>{let t=this.brnPopoverTriggerFor();D(()=>{t&&(t.mutableAttachTo.set(this._host.nativeElement),t.mutableCloseOnOutsidePointerEvents.set(!0),this.mutableBrnDialogTriggerFor().set(t))})}),this._brnDialog&&(this._brnDialog.mutableAttachTo.set(this._host.nativeElement),this._brnDialog.mutableCloseOnOutsidePointerEvents.set(!0))}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["button","brnPopoverTrigger",""],["button","brnPopoverTriggerFor",""]],hostAttrs:["aria-haspopup","dialog"],hostVars:5,hostBindings:function(o,i){o&2&&(A("id",i.id())("type",i.type()),_("aria-expanded",i.state()==="open"?"true":"false")("data-state",i.state())("aria-controls",i.dialogId))},inputs:{brnPopoverTriggerFor:[1,"brnPopoverTriggerFor"]},features:[V]})}return e})();var ne=new O("BrnAutocompleteItemToken");function Tt(e){return{provide:ne,useExisting:e}}var ht=new O("BrnAutocompleteToken");function It(e){return{provide:ht,useExisting:e}}function ae(){return l(ht)}var k=(()=>{class e{static _id=0;_injector=l(Ie);id=s(`brn-autocomplete-${++e._id}`);valueChange=M();selectionCleared=M();_brnPopover=l(Q,{optional:!0});_focus=P("first");items=Qe(ne,{descendants:!0});keyManager=new ct(this.items,this._injector);isExpanded=n(()=>this._brnPopover?.stateComputed()==="open");constructor(){this.keyManager.withVerticalOrientation().withHomeAndEnd().withWrap().skipPredicate(t=>t.disabled),m(()=>{let t=this.items(),o=this._focus();D(()=>{if(!t.length)return;let i=this.keyManager.activeItem;(!i||!t.includes(i))&&(o==="first"?this.keyManager.setFirstItemActive():this.keyManager.setLastItemActive())})}),this.keyManager.change.pipe(se()).subscribe(()=>{let t=this.keyManager.activeItem?.value();t&&this.valueChange.emit(t)})}selectActiveItem(){this._brnPopover?.stateComputed()==="open"&&this.keyManager.activeItem?.selected.emit()}open(t="first"){this._brnPopover?.open(),this._focus.set(t)}close(){this._brnPopover?.close()}toggle(){this.isExpanded()?this.close():this.open()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","brnAutocomplete",""]],contentQueries:function(o,i,p){o&1&&Ge(p,i.items,ne,5),o&2&&z()},hostVars:1,hostBindings:function(o,i){o&1&&g("keydown.enter",function(){return i.selectActiveItem()}),o&2&&A("id",i.id())},inputs:{id:[1,"id"]},outputs:{valueChange:"valueChange",selectionCleared:"selectionCleared"},features:[y([It(e)])]})}return e})(),vt=(()=>{class e{_templateRef=l(Me);_viewContainerRef=l(Pe);_autocomplete=ae();_visible=n(()=>this._autocomplete.items().length>0);constructor(){m(()=>{this._visible()?this._viewContainerRef.clear():this._viewContainerRef.createEmbeddedView(this._templateRef)})}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","brnAutocompleteEmpty",""]]})}return e})(),_t=(()=>{class e{static _id=0;id=s(`brn-autocomplete-group-${++e._id}`);static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","brnAutocompleteGroup",""]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(o,i){o&2&&A("id",i.id())},inputs:{id:[1,"id"]}})}return e})(),bt=(()=>{class e{static _id=0;_platform=l(Be);_elementRef=l(h);_autocomplete=ae();id=s(`brn-autocomplete-item-${++e._id}`);value=s.required();_disabled=s(!1,{alias:"disabled",transform:T});get disabled(){return this._disabled()}_active=P(!1);selected=M();getLabel(){return this._elementRef.nativeElement.textContent?.trim()??""}setActiveStyles(){this._active.set(!0),Ye(this._platform)&&this._elementRef.nativeElement.scrollIntoView({block:"nearest"})}setInactiveStyles(){this._active.set(!1)}onClick(){this._autocomplete.keyManager.setActiveItem(this),this.selected.emit()}activate(){this._disabled()||this._autocomplete.keyManager.setActiveItem(this)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["button","brnAutocompleteItem",""]],hostAttrs:["type","button","role","option","tabIndex","-1"],hostVars:6,hostBindings:function(o,i){o&1&&g("click",function(){return i.onClick()})("mouseenter",function(){return i.activate()}),o&2&&(A("id",i.id()),_("disabled",i._disabled()?!0:null)("data-disabled",i._disabled()?"":null)("data-value",i.value())("aria-selected",i._active())("data-selected",i._active()?"":null))},inputs:{id:[1,"id"],value:[1,"value"],_disabled:[1,"disabled","_disabled"]},outputs:{selected:"selected"},features:[y([Tt(e)])]})}return e})(),Ct=(()=>{class e{static _id=0;id=s(`brn-autocomplete-list-${++e._id}`);static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","brnAutocompleteList",""]],hostAttrs:["role","listbox"],hostVars:1,hostBindings:function(o,i){o&2&&A("id",i.id())},inputs:{id:[1,"id"]}})}return e})(),yt=(()=>{class e{_autocomplete=ae();_isExpanded=this._autocomplete.isExpanded;_activeDescendant=P(void 0);constructor(){this._autocomplete.keyManager.change.pipe(Ae(this._autocomplete.keyManager.activeItemIndex),se()).subscribe(()=>{this._activeDescendant.set(this._autocomplete.keyManager.activeItem?.id())})}onKeyDown(t){t.key==="Enter"&&t.preventDefault(),this._isExpanded()||(t.key==="ArrowDown"&&this._autocomplete.open("first"),t.key==="ArrowUp"&&this._autocomplete.open("last"),t.key==="Escape"&&this._autocomplete.selectionCleared.emit()),this._autocomplete.keyManager.onKeydown(t)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["input","brnAutocompleteSearchInput",""]],hostAttrs:["role","combobox","aria-autocomplete","list"],hostVars:2,hostBindings:function(o,i){o&1&&g("keydown",function(S){return i.onKeyDown(S)}),o&2&&_("aria-activedescendant",i._activeDescendant())("aria-expanded",i._isExpanded())}})}return e})();var le=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmPopover",""],["hlm-popover"]],features:[f([{directive:Q,inputs:["align","align","autoFocus","autoFocus","closeDelay","closeDelay","closeOnOutsidePointerEvents","closeOnOutsidePointerEvents","sideOffset","sideOffset","state","state","offsetX","offsetX"],outputs:["stateChanged","stateChanged","closed","closed"]}])]})}return e})();var ue=(()=>{class e{_stateProvider=rt({host:!0});state=this._stateProvider.state??P("closed");_renderer=l(we);_element=l(h);constructor(){m(()=>{this._renderer.setAttribute(this._element.nativeElement,"data-state",this.state())})}userClass=s("",{alias:"class"});_computedClass=n(()=>a("border-border bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative w-72 rounded-md border p-4 shadow-md outline-none",this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmPopoverContent",""],["","brnPopoverContent","","hlm",""]],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return e})();var Ht=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["button","hlmPopoverTrigger",""],["button","hlmPopoverTriggerFor",""]],hostAttrs:["data-slot","popover-trigger"],features:[f([{directive:gt,inputs:["id","id","brnPopoverTriggerFor","hlmPopoverTriggerFor","type","type"]}])]})}return e})();var ce=(()=>{class e{userClass=s("",{alias:"class"});_computedClass=n(()=>a("py-6 text-center text-sm",this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmAutocompleteEmpty",""]],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return e})();var pe=(()=>{class e{userClass=s("",{alias:"class"});_computedClass=n(()=>a("text-foreground block overflow-hidden p-1",this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmAutocompleteGroup",""],["hlm-autocomplete-group"]],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[f([{directive:_t,inputs:["id","id"]}])]})}return e})();var me=(()=>{class e{userClass=s("",{alias:"class"});_computedClass=n(()=>a("data-[selected]:bg-accent data-[selected=true]:text-accent-foreground [&>ng-icon:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-start text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[hidden]:hidden [&>ng-icon]:pointer-events-none [&>ng-icon]:shrink-0 [&>ng-icon:not([class*='text-'])]:text-base",this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["button","hlmAutocompleteItem",""],["button","hlm-autocomplete-item",""]],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[f([{directive:bt,inputs:["value","value","disabled","disabled","id","id"],outputs:["selected","selected"]}])]})}return e})();var de=(()=>{class e{userClass=s("",{alias:"class"});_computedClass=n(()=>a("block max-h-60 overflow-x-hidden overflow-y-auto",this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmAutocompleteList",""],["hlm-autocomplete-list"]],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[f([{directive:Ct,inputs:["id","id"]}])]})}return e})();var fe=(()=>{class e{userClass=s("",{alias:"class"});_computedClass=n(()=>a("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[>.ng-invalid.ng-touched]:ring-destructive/20 has-[>.ng-invalid.ng-touched]:border-destructive dark:has-[>.ng-invalid.ng-touched]:ring-destructive/40",this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmInputGroup",""],["hlm-input-group"]],hostAttrs:["data-slot","input-group","role","group"],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return e})();var Mt=q("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>ng-icon:not([class*='text-'])]:text-base",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5 [.border-b]:pb-3","block-end":"order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5 [.border-t]:pt-3"}},defaultVariants:{align:"inline-start"}}),ge=(()=>{class e{align=s("inline-start");userClass=s("",{alias:"class"});_computedClass=n(()=>a(Mt({align:this.align()}),this.userClass()));static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["hlm-input-group-addon"],["","hlmInputGroupAddon",""]],hostAttrs:["role","group","data-slot","input-group-addon"],hostVars:3,hostBindings:function(o,i){o&2&&(_("data-align",i.align()),u(i._computedClass()))},inputs:{align:[1,"align"],userClass:[1,"class","userClass"]}})}return e})();var wt=q("flex items-center gap-2 text-sm shadow-none",{variants:{size:{xs:"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>ng-icon]:px-2 [&>ng-icon:not([class*='text-'])]:text-sm",sm:"h-8 gap-1.5 rounded-md px-2.5 has-[>ng-icon]:px-2.5","icon-xs":"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>ng-icon]:p-0","icon-sm":"size-8 p-0 has-[>ng-icon]:p-0"}},defaultVariants:{size:"xs"}}),he=(()=>{class e{_hlmButton=l($);size=s("xs");userClass=s("",{alias:"class"});type=s("button");_computedClass=n(()=>a(wt({size:this.size()}),this.userClass()));constructor(){m(()=>{this._hlmButton.setClass(this._computedClass())})}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["button","hlmInputGroupButton",""]],hostVars:2,hostBindings:function(o,i){o&2&&(A("type",i.type()),_("data-size",i.size()))},inputs:{size:[1,"size"],userClass:[1,"class","userClass"],type:[1,"type"]},features:[y([Ke({variant:"ghost"})]),f([{directive:$,inputs:["variant","variant"]}])]})}return e})();var ve=(()=>{class e{_hlmInput=l(W);userClass=s("",{alias:"class"});_computedClass=n(()=>a("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",this.userClass()));constructor(){m(()=>{this._hlmInput.setClass(this._computedClass())})}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["input","hlmInputGroupInput",""]],hostAttrs:["data-slot","input-group-control"],hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[f([W])]})}return e})();var _e=(()=>{class e{_host=l(h,{host:!0});_brnDialog=l(E,{optional:!0});disabledTrigger=s(!1,{transform:T});constructor(){this._brnDialog&&this._brnDialog.mutableAttachTo.set(this._host.nativeElement)}open(){this.disabledTrigger()||this._brnDialog?.open()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=r({type:e,selectors:[["","hlmAutocompleteTrigger",""]],hostBindings:function(o,i){o&1&&g("click",function(){return i.open()})},inputs:{disabledTrigger:[1,"disabledTrigger"]}})}return e})();var Ot=["input"],Et=[[["","loading",""]],[["","empty",""]]],kt=["[loading]","[empty]"],Ft=e=>({$implicit:e});function Vt(e,c){if(e&1){let t=R();b(0,"button",13),g("click",function(){I(t);let i=v();return H(i._selectionCleared())}),j(1,"ng-icon",14),C()}if(e&2){let t=v();B("disabled",t._disabled())}}function Nt(e,c){e&1&&Ve(0)}function Gt(e,c){if(e&1&&N(0,Nt,1,0,"ng-container",19),e&2){let t=v().$implicit;B("ngTemplateOutlet",c)("ngTemplateOutletContext",$e(2,Ft,t))}}function Lt(e,c){if(e&1&&X(0),e&2){let t=v().$implicit,o=v(2);Re(" ",o.transformOptionToString()(t)," ")}}function jt(e,c){if(e&1){let t=R();b(0,"button",18),g("selected",function(){let i=I(t).$implicit,p=v(2);return H(p._optionSelected(i))}),G(1,Gt,1,4,"ng-container")(2,Lt,1,1),C()}if(e&2){let t,o=c.$implicit,i=v(2),p=qe(0);u(i._computedAutocompleteItemClass()),B("value",p?p(o):o),x(),L((t=i.optionTemplate())?1:2,t)}}function Rt(e,c){if(e&1&&X(0),e&2){let t=v(4);ee(t.loadingText())}}function zt(e,c){e&1&&Z(0,0,null,Rt,1,1)}function Xt(e,c){if(e&1&&X(0),e&2){let t=v(4);ee(t.emptyText())}}function qt(e,c){e&1&&Z(0,1,null,Xt,1,1)}function $t(e,c){if(e&1&&(b(0,"div",20),G(1,zt,2,0)(2,qt,2,0),C()),e&2){let t=v(2);u(t._computedAutocompleteEmptyClass()),x(),L(t.loading()?1:2)}}function Wt(e,c){if(e&1&&(b(0,"div",15)(1,"hlm-autocomplete-list")(2,"hlm-autocomplete-group"),ke(3,jt,3,4,"button",16,Ee),C()(),N(5,$t,3,3,"div",17),C()),e&2){let t=v();Le("width",t._elementRef.nativeElement.offsetWidth,"px"),x(),u(t._computedAutocompleteListClass()),je("hidden",t.filteredOptions().length===0),x(2),Fe(t.filteredOptions())}}var Qt={provide:Ze,useExisting:F(()=>xt),multi:!0},xt=(()=>{class e{static _id=0;_config=dt();_brnAutocomplete=te.required(k);_inputRef=te.required("input",{read:h});_elementRef=l(h);userClass=s("",{alias:"class"});_computedClass=n(()=>a("block w-full",this.userClass()));autocompleteSearchClass=s("");_computedAutocompleteSearchClass=n(()=>a("",this.autocompleteSearchClass()));autocompleteInputClass=s("");_computedAutocompleteInputClass=n(()=>a("",this.autocompleteInputClass()));autocompleteListClass=s("");_computedAutocompleteListClass=n(()=>a("",this.autocompleteListClass()));autocompleteItemClass=s("");_computedAutocompleteItemClass=n(()=>a("",this.autocompleteItemClass()));autocompleteEmptyClass=s("");_computedAutocompleteEmptyClass=n(()=>a("",this.autocompleteEmptyClass()));filteredOptions=s([]);value=oe();debounceTime=s(this._config.debounceTime);search=oe("");_search=st(this.search,this.debounceTime());transformValueToSearch=s(this._config.transformValueToSearch);requireSelection=s(this._config.requireSelection,{transform:T});transformOptionToString=s(this._config.transformOptionToString);transformOptionToValue=s(this._config.transformOptionToValue);displayWith=s(void 0);_displaySearchValue=n(()=>{let t=this.displayWith();return t||this.transformValueToSearch()});optionTemplate=s();loading=s(!1,{transform:T});showClearBtn=s(this._config.showClearBtn,{transform:T});searchPlaceholderText=s("Select an option");loadingText=s("Loading options...");emptyText=s("No options found");ariaLabelToggleButton=s("Toggle options");inputId=s(`hlm-autocomplete-input-${++e._id}`);disabled=s(!1,{transform:T});_disabled=We(()=>this.disabled());valueChange=M();searchChange=M();_onChange;_onTouched;constructor(){m(()=>{let t=this._search();this.searchChange.emit(t)})}_searchChanged(t){let o=t.target.value;this.search.set(o??""),!this._brnAutocomplete().isExpanded()&&o.length>0&&this._brnAutocomplete().open()}_toggleOptions(){(this._search()||this.filteredOptions().length>0)&&this._brnAutocomplete().toggle(),this._inputRef().nativeElement.focus()}_selectionCleared(){this.value.set(void 0),this._onChange?.(null),this.valueChange.emit(null),this.search.set("")}_optionSelected(t){let o=this.transformOptionToValue(),i=o?o(t):t;this.value.set(i),this._onChange?.(i),this.valueChange.emit(i);let p=this._displaySearchValue()(i);this.search.set(p??""),this._brnAutocomplete().close()}writeValue(t){this.value.set(t||void 0);let o=t?this._displaySearchValue()(t):"";this.search.set(o)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled.set(t)}_closed(){if(this.requireSelection()){let t=this.value(),o=t?this._displaySearchValue()(t):"";this.search.set(o??"")}}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=Se({type:e,selectors:[["hlm-autocomplete"]],viewQuery:function(o,i){o&1&&(J(i._brnAutocomplete,k,5),J(i._inputRef,Ot,5,h)),o&2&&z(2)},hostVars:2,hostBindings:function(o,i){o&2&&u(i._computedClass())},inputs:{userClass:[1,"class","userClass"],autocompleteSearchClass:[1,"autocompleteSearchClass"],autocompleteInputClass:[1,"autocompleteInputClass"],autocompleteListClass:[1,"autocompleteListClass"],autocompleteItemClass:[1,"autocompleteItemClass"],autocompleteEmptyClass:[1,"autocompleteEmptyClass"],filteredOptions:[1,"filteredOptions"],value:[1,"value"],debounceTime:[1,"debounceTime"],search:[1,"search"],transformValueToSearch:[1,"transformValueToSearch"],requireSelection:[1,"requireSelection"],transformOptionToString:[1,"transformOptionToString"],transformOptionToValue:[1,"transformOptionToValue"],displayWith:[1,"displayWith"],optionTemplate:[1,"optionTemplate"],loading:[1,"loading"],showClearBtn:[1,"showClearBtn"],searchPlaceholderText:[1,"searchPlaceholderText"],loadingText:[1,"loadingText"],emptyText:[1,"emptyText"],ariaLabelToggleButton:[1,"ariaLabelToggleButton"],inputId:[1,"inputId"],disabled:[1,"disabled"]},outputs:{value:"valueChange",search:"searchChange",valueChange:"valueChange",searchChange:"searchChange"},features:[y([Qt,Je({lucideSearch:it,lucideChevronDown:tt,lucideCircleX:ot})])],ngContentSelectors:kt,decls:14,vars:13,consts:[["popover",""],["input",""],["align","start","autoFocus","first-heading","sideOffset","5","closeDelay","100","closeOnOutsidePointerEvents","true",3,"closed"],["brnAutocomplete","",3,"selectionCleared"],["hlmInputGroup","","hlmAutocompleteTrigger","",3,"disabledTrigger"],["brnAutocompleteSearchInput","","hlmInputGroupInput","","type","text","autocomplete","off",3,"input","id","placeholder","disabled","value"],["hlmInputGroupAddon",""],["name","lucideSearch"],["hlmInputGroupAddon","","align","inline-end"],["hlmInputGroupButton","","type","button","tabindex","-1","aria-label","clear","size","icon-xs",3,"disabled"],["hlmInputGroupButton","","type","button","tabindex","-1","size","icon-xs",3,"click","disabled"],["name","lucideChevronDown"],["hlmPopoverContent","","class","p-0",3,"width",4,"brnPopoverContent"],["hlmInputGroupButton","","type","button","tabindex","-1","aria-label","clear","size","icon-xs",3,"click","disabled"],["name","lucideCircleX"],["hlmPopoverContent","",1,"p-0"],["hlm-autocomplete-item","",3,"class","value"],["hlmAutocompleteEmpty","",3,"class",4,"brnAutocompleteEmpty"],["hlm-autocomplete-item","",3,"selected","value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["hlmAutocompleteEmpty",""]],template:function(o,i){if(o&1){let p=R();Ne(Et),ze(0),b(1,"hlm-popover",2,0),g("closed",function(){return I(p),H(i._closed())}),b(3,"div",3),g("selectionCleared",function(){return I(p),H(i._selectionCleared())}),b(4,"div",4)(5,"input",5,1),g("input",function(At){return I(p),H(i._searchChanged(At))}),C(),b(7,"div",6),j(8,"ng-icon",7),C(),b(9,"div",8),G(10,Vt,2,1,"button",9),b(11,"button",10),g("click",function(){return I(p),H(i._toggleOptions())}),j(12,"ng-icon",11),C()()(),N(13,Wt,6,6,"div",12),C()()}o&2&&(Xe(i.transformOptionToValue()),x(4),u(i._computedAutocompleteSearchClass()),B("disabledTrigger",!i._search()||i._disabled()),x(),u(i._computedAutocompleteInputClass()),B("id",i.inputId())("placeholder",i.searchPlaceholderText())("disabled",i._disabled())("value",i.search()),x(5),L(i.showClearBtn()&&i.value()!==void 0?10:-1),x(),B("disabled",i._disabled()),_("aria-label",i.ariaLabelToggleButton()))},dependencies:[Ue,k,vt,yt,ce,pe,me,de,_e,ft,le,ue,et,fe,ge,he,ve],encapsulation:2,changeDetection:0})}return e})();var be=class{_box;_destroyed=new K;_resizeSubject=new K;_resizeObserver;_elementObservables=new Map;constructor(c){this._box=c,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(c){return this._elementObservables.has(c)||this._elementObservables.set(c,new Ce(t=>{let o=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(c,{box:this._box}),()=>{this._resizeObserver?.unobserve(c),o.unsubscribe(),this._elementObservables.delete(c)}}).pipe(ye(t=>t.some(o=>o.target===c)),xe({bufferSize:1,refCount:!0}),De(this._destroyed))),this._elementObservables.get(c)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},As=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=l(Oe);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,o){let i=o?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new be(i)),this._observers.get(i).observe(t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{ft as a,le as b,ue as c,Ht as d,Yt as e,xt as f,As as g};
