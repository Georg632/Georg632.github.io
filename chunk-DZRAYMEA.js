import{a as Cr,b as Br,c as Ze,d as Ue,e as jr,f as Y,g as he,l as Ge,m as qe,n as de,o as We,p as Ke,q as Xe,r as $e,s as Ye,t as ce,u as Qe,w as br,x as Hr}from"./chunk-FDUDMXNP.js";import{a as Dr,b as pe,c as we,d as ue,e as Ar,f as It,g as ge,h as Vr,i as Sr,k as Tt}from"./chunk-PIENPCF7.js";import{$ as Ne,$a as Dt,A as Nt,Ab as cr,Ba as C,Bb as $,Ca as Z,Cb as s,Da as U,Db as qt,E as gt,Ea as Jo,Eb as pr,F as vt,Fa as oe,Fb as ft,G as z,Ga as re,H as jt,Ha as B,Hb as wr,Ia as w,J as lt,Ja as u,Jb as D,K as et,Ka as L,Kb as Vt,M as j,N as a,Oa as ne,P as zt,Pa as ot,Pb as ur,Q as I,Qa as E,Qb as gr,R as T,Ra as M,Rb as ie,Sa as _,Sb as se,Ta as A,Tb as vr,U as G,Ua as b,Va as tr,X as Ee,Xa as er,Y as g,Ya as or,Z as Oe,Za as rr,_ as Re,_a as Gt,a as Wo,aa as Qo,ab as nr,ba as Jt,bb as At,ca as F,cb as rt,d as O,da as Zt,db as p,eb as H,ec as St,fa as bt,fb as Q,fc as kr,gb as q,gc as mr,h as Ct,hb as xt,hc as xr,i as it,ib as Mt,j as Ko,ja as v,jb as _t,jc as ae,k as Le,ka as te,kb as ir,kc as le,la as ze,lb as sr,m as Xo,ma as ht,mb as ar,mc as h,n as $o,nb as lr,nc as W,oa as Ht,ob as f,oc as Mr,pb as hr,pc as dt,qa as x,qc as _r,rb as R,rc as fr,s as Pe,sa as d,sb as N,t as Ot,ta as kt,tb as dr,ua as y,uc as yr,v as Rt,va as mt,vb as P,w as Bt,wa as Ut,wb as l,x as Fe,xa as ee,xb as m,y as Yo,yb as X,z as Qt}from"./chunk-AFQS5RQS.js";import{a as V,b as ut}from"./chunk-BUCGFPOZ.js";var Rs=new j("Ng Glyph Config");var Ns=new j("NgGlyphsToken");function Pn(o){return o==null?"":/^\d+$/.test(o)?`${o}px`:o}var Fn=new j("Ng Icon Pre Processor"),En=new j("Ng Icon Post Processor");function On(){return a(Fn,{optional:!0})??(o=>o)}function Rn(){return a(En,{optional:!0})??(()=>{})}var Nn=new j("Ng Icon Logger"),Je=class{log(n){console.log(n)}warn(n){console.warn(n)}error(n){console.error(n)}};function zn(){return a(Nn,{optional:!0})??new Je}var Zn=new j("Ng Icon Config");function Un(){return a(Zn,{optional:!0})??{}}var Gn=new j("Ng Icon Loader Token");var qn=new j("Ng Icon Cache Token");function Wn(){return a(Gn,{optional:!0})}function Kn(){return a(qn,{optional:!0})}function K(o){return[{provide:to,useFactory:(n=a(to,{optional:!0,skipSelf:!0}))=>V(V({},n?.reduce((t,e)=>V(V({},t),e),{})),o),multi:!0}]}var to=new j("Icons Token");function Xn(){return a(to,{optional:!0})??[]}function $n(o){return typeof o=="string"?Promise.resolve(o):Ko(o)?o.toPromise():o}function Yn(o){return o.replace(/([^a-zA-Z0-9])+(.)?/g,(n,t,e)=>e?e.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,n=>n.toLowerCase())}var Qn=0,J=(()=>{let n=class n{constructor(){this.config=Un(),this.icons=Xn(),this.loader=Wn(),this.cache=Kn(),this.preProcessor=On(),this.postProcessor=Rn(),this.injector=a(G),this.renderer=a(ht),this.platform=a(bt),this.elementRef=a(F),this.uniqueId=Qn++,this.logger=zn(),this.name=s(),this.svg=s(),this.size=s(this.config.size,{transform:Pn}),this.strokeWidth=s(this.config.strokeWidth),this.color=s(this.config.color),m(()=>this.updateIcon()),a(new cr("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}async updateIcon(){let e=this.name(),r=this.svg();if(r!==void 0){this.setSvg(r);return}if(e===void 0)return;let i=Yn(e);for(let c of[...this.icons].reverse())if(c[i]){this.setSvg(c[i]);return}if(this.loader){let c=await this.requestIconFromLoader(e);if(c!==null){this.setSvg(c);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)}setSvg(e){if(vr(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let r=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(r,"innerHTML",this.preProcessor(e)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let r=/ID_PLACEHOLDER_(\d+)/g,i=new Map,c=new Set(e.match(r));if(c===null)return e;for(let S of c){let yt=S.replace("ID_PLACEHOLDER_",""),Pt=`ng-icon-${this.uniqueId}-${i.size}`;i.set(yt,Pt),e=e.replace(new RegExp(S,"g"),Pt)}return e}requestIconFromLoader(e){return new Promise(r=>{zt(this.injector,async()=>{if(this.cache){let S=this.cache.get(e);if(typeof S=="string"){r(S);return}if(S instanceof Promise){let yt=await S;r(yt);return}}let i=$n(this.loader(e));this.cache?.set(e,i);let c=await i;this.cache?.set(e,c),r(c)})})}};n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=x({type:n,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(r,i){r&2&&At("--ng-icon__stroke-width",i.strokeWidth())("--ng-icon__size",i.size())("--ng-icon__color",i.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0});let o=n;return o})();var Ir='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m6 9 6 6 6-6"></path></svg>';var Tr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg>';var Lr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"></path><circle cx="16.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>';var Pr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M12 2v4"></path><path d="m16.2 7.8 2.9-2.9"></path><path d="M18 12h4"></path><path d="m16.2 16.2 2.9 2.9"></path><path d="M12 18v4"></path><path d="m4.9 19.1 2.9-2.9"></path><path d="M2 12h4"></path><path d="m4.9 4.9 2.9 2.9"></path></svg>';var Fr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>';var Er='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg>';var Or='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>';var Rr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m15 11-1 9"></path><path d="m19 11-4-7"></path><path d="M2 11h20"></path><path d="m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4"></path><path d="M4.5 15.5h15"></path><path d="m5 11 4-7"></path><path d="m9 11 1 9"></path></svg>',Nr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path></svg>';var zr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>';var Zr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>';var Ur='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>';var Jn={size:"base"},ti=new j("HlmIconConfig");function Gr(){return a(ti,{optional:!0})??Jn}var tt=(()=>{class o{_config=Gr();size=s(this._config.size);_computedSize=l(()=>{let t=this.size();switch(t){case"xs":return"12px";case"sm":return"16px";case"base":return"24px";case"lg":return"32px";case"xl":return"48px";default:return t}});static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["ng-icon","hlmIcon",""],["ng-icon","hlm",""]],hostVars:2,hostBindings:function(e,r){e&2&&At("--ng-icon__size",r._computedSize())},inputs:{size:[1,"size"]}})}return o})();var qr=(()=>{class o{static _uniqueId=0;id=s(`brn-toggle-${++o._uniqueId}`);value=s();disabled=s(!1,{transform:D});state=ft("off");type=s("button");ariaLabel=s(null,{alias:"aria-label"});_isOn=l(()=>this.state()==="on");toggle(){this.disabled()||this.state.set(this._isOn()?"off":"on")}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["button","brnToggle",""]],hostVars:7,hostBindings:function(e,r){e&1&&M("click",function(){return r.toggle()}),e&2&&(E("id",r.id())("type",r.type()),C("disabled",r.disabled()?!0:null)("data-disabled",r.disabled()?!0:null)("data-state",r.state())("aria-pressed",r._isOn())("aria-label",r.ariaLabel()||null))},inputs:{id:[1,"id"],value:[1,"value"],disabled:[1,"disabled"],state:[1,"state"],type:[1,"type"],ariaLabel:[1,"aria-label","ariaLabel"]},outputs:{state:"stateChange"}})}return o})();var oi=W('hover:bg-muted hover:text-muted-foreground focus-visible:border-ring data-[state=on]:bg-accent data-[state=on]:text-accent-foreground focus-visible:ring-ring/50 inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_ng-icon]:pointer-events-none [&_ng-icon]:shrink-0 [&_ng-icon:not([class*="text-"])]:text-base',{variants:{variant:{default:"bg-transparent",outline:"border-input hover:bg-accent hover:text-accent-foreground border bg-transparent shadow-xs"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}}),oo=(()=>{class o{variant=s("default");size=s("default");userClass=s("",{alias:"class"});_computedClass=l(()=>h(oi({variant:this.variant(),size:this.size()}),this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["button","hlmToggle",""]],hostAttrs:["data-slot","toggle"],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{variant:[1,"variant"],size:[1,"size"],userClass:[1,"class","userClass"]},features:[y([{directive:qr,inputs:["id","id","value","value","disabled","disabled","state","state","aria-label","aria-label","type","type"],outputs:["stateChange","stateChange"]}])]})}return o})();var Wr=(()=>{class o{variant=s("default");size=s("default");disabled=s(!1);state=ft("off");isAnimating=g(!1);animationDirection=g("");constructor(){m(()=>{let t=this.state();this.animationDirection()===""&&t==="off"||(t==="on"?this.animationDirection.set("fill"):this.animationDirection.set("empty"),this.isAnimating.set(!0),setTimeout(()=>{this.isAnimating.set(!1)},800))})}animationClass=l(()=>{if(!this.isAnimating())return"";let t=this.animationDirection();return t==="fill"?"animate-bounce-shake":t==="empty"?"animate-empty":""});buttonClass=l(()=>{let t=this.state(),e=this.animationClass(),r="";return t==="on"?r="bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:hover:bg-green-900/50 border-green-300 dark:border-green-700":r="bg-muted/50 hover:bg-muted dark:bg-muted/20 dark:hover:bg-muted/40 border-muted-foreground/20",`${e} ${r}`});iconClass=l(()=>{let t=this.state(),e=this.isAnimating();if(t==="on"){let r="text-green-600 dark:text-green-400";return e&&this.animationDirection()==="fill"?`${r} animate-fill`:r}return"text-muted-foreground/60"});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["gh-shopping-basket-toggle"]],inputs:{variant:[1,"variant"],size:[1,"size"],disabled:[1,"disabled"],state:[1,"state"]},outputs:{state:"stateChange"},features:[f([K({lucideShoppingBasket:Rr})])],decls:2,vars:9,consts:[["hlmToggle","",1,"relative","overflow-hidden","transition-all","duration-300",3,"stateChange","variant","size","disabled","state"],["hlm","",1,"transition-all","duration-500",3,"name"]],template:function(e,r){e&1&&(w(0,"button",0),_t("stateChange",function(c){return Mt(r.state,c)||(r.state=c),c}),L(1,"ng-icon",1),u()),e&2&&(p(r.buttonClass()),B("variant",r.variant())("size",r.size())("disabled",r.disabled()),xt("state",r.state),v(),p(r.iconClass()),B("name","lucideShoppingBasket"))},dependencies:[oo,tt,J],styles:["@keyframes _ngcontent-%COMP%_bounce-shake{0%,to{transform:translateY(0) rotate(0) scale(1)}10%{transform:translateY(-8px) rotate(-5deg) scale(1.1)}20%{transform:translateY(-8px) rotate(5deg) scale(1.1)}30%{transform:translateY(-8px) rotate(-5deg) scale(1.1)}40%{transform:translateY(0) rotate(0) scale(1)}50%{transform:scale(.95)}60%{transform:scale(1.05)}70%{transform:scale(.98)}80%{transform:scale(1.02)}90%{transform:scale(1)}}@keyframes _ngcontent-%COMP%_fill-basket{0%{opacity:1}50%{opacity:.6;filter:brightness(1.5)}to{opacity:1}}@keyframes _ngcontent-%COMP%_empty-basket{0%{transform:scale(1);opacity:1}30%{transform:scale(.8) rotate(-10deg);opacity:.7}60%{transform:scale(1.1) rotate(10deg);opacity:.8}to{transform:scale(1) rotate(0);opacity:1}}.animate-bounce-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce-shake .8s ease-in-out}.animate-fill[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fill-basket .5s ease-in-out}.animate-empty[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_empty-basket .6s ease-in-out}[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}return o})();function ke(o){let n=new j(o);return[(i={})=>a(n,i),i=>({provide:n,useValue:i}),i=>({provide:n,useExisting:lt(i)}),n]}var[Kr,Xa,Xr,$a]=ke("@spartan-ng SET_CLASS_TO_CUSTOM_ELEMENT_TOKEN");function $r(o,n){let e=mr(o).pipe(Bt(n),Qt());return xr(e,{initialValue:o()})}var[Ya,Qa,Ja,t2]=ke("@spartan-ng EXPOSES_SIDE_TOKEN"),[Yr,e2,me,o2]=ke("@spartan-ng EXPOSES_STATE_TOKEN"),[r2,n2,i2,s2]=ke("@spartan-ng SET_TABLE_CLASSES_TOKEN");var ii=["*"],ro={attachPositions:[],autoFocus:"first-tabbable",closeDelay:100,closeOnBackdropClick:!0,closeOnOutsidePointerEvents:!1,disableClose:!1,hasBackdrop:!0,positionStrategy:null,restoreFocus:!0,role:"dialog",scrollStrategy:null},Qr=new j("brn-dialog-default-options",{providedIn:"root",factory:()=>ro});function Jr(o){return{provide:Qr,useValue:V(V({},ro),o)}}function si(){return a(Qr,{optional:!0})??ro}var xe=(o,n="")=>{if(typeof o=="string"){let t=o.trim().split(" ");return t.length===0?[n]:t}return o??[]},nt=class{_cdkDialogRef;_open;state;dialogId;_options;_closing$=new O;closing$=this._closing$.asObservable();closed$;_previousTimeout;get open(){return this.state()==="open"}constructor(n,t,e,r,i){this._cdkDialogRef=n,this._open=t,this.state=e,this.dialogId=r,this._options=i,this.closed$=this._cdkDialogRef.closed.pipe(Fe(1))}close(n,t=this._options?.closeDelay??0){!this.open||this._options?.disableClose||(this._closing$.next(),this._open.set(!1),this._previousTimeout&&clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._cdkDialogRef.close(n)},t))}setPanelClass(n){this._cdkDialogRef.config.panelClass=xe(n)}setOverlayClass(n){this._cdkDialogRef.config.backdropClass=xe(n)}setAriaDescribedBy(n){this._cdkDialogRef.config.ariaDescribedBy=n}setAriaLabelledBy(n){this._cdkDialogRef.config.ariaLabelledBy=n}setAriaLabel(n){this._cdkDialogRef.config.ariaLabel=n}},ai=0;var tn=(o={})=>a(br,o),li=(()=>{class o{_overlayCloseDispatcher=a(Ke);_cdkDialog=a(Hr);_rendererFactory=a(ze);_renderer=this._rendererFactory.createRenderer(null,null);_positionBuilder=a(ce);_sso=a(de);_injector=a(G);open(t,e,r,i){if(i?.id&&this._cdkDialog.getDialogById(i.id))throw new Error(`Dialog with ID: ${i.id} already exists`);let c=i?.positionStrategy??(i?.attachTo&&i?.attachPositions&&i?.attachPositions?.length>0?this._positionBuilder?.flexibleConnectedTo(i.attachTo).withPositions(i.attachPositions??[]):this._positionBuilder.global().centerHorizontally().centerVertically()),S,yt,Pt=ut(V({},r),{close:(Et=void 0)=>S.close(Et,i?.closeDelay)}),Ft=new O,Uo=g(!0),Ie=l(()=>Uo()?"open":"closed"),Yt=++ai,wt=this._cdkDialog.open(t,{id:i?.id??`brn-dialog-${Yt}`,role:i?.role,viewContainerRef:e,templateContext:()=>({$implicit:Pt}),data:Pt,hasBackdrop:i?.hasBackdrop,panelClass:xe(i?.panelClass),backdropClass:xe(i?.backdropClass,"bg-transparent"),positionStrategy:c,scrollStrategy:i?.scrollStrategy??this._sso?.block(),restoreFocus:i?.restoreFocus,disableClose:!0,autoFocus:i?.autoFocus??"first-tabbable",ariaDescribedBy:i?.ariaDescribedBy??`brn-dialog-description-${Yt}`,ariaLabelledBy:i?.ariaLabelledBy??`brn-dialog-title-${Yt}`,ariaLabel:i?.ariaLabel,ariaModal:i?.ariaModal,providers:Et=>{S=new nt(Et,Uo,Ie,Yt,i),zt(this._injector,()=>{yt=m(()=>{Go&&this._renderer.setAttribute(Go,"data-state",Ie()),qo&&this._renderer.setAttribute(qo,"data-state",Ie())})});let Te=[{provide:nt,useValue:S}];return i?.providers&&(typeof i.providers=="function"&&Te.push(...i.providers()),Array.isArray(i.providers)&&Te.push(...i.providers)),Te}}),Go=wt.overlayRef.overlayElement,qo=wt.overlayRef.backdropElement;return i?.closeOnOutsidePointerEvents&&wt.outsidePointerEvents.pipe(z(Ft)).subscribe(()=>{this._overlayCloseDispatcher._attachedOverlays.at(-1)===wt.overlayRef&&S.close(void 0,i?.closeDelay)}),i?.closeOnBackdropClick&&wt.backdropClick.pipe(z(Ft)).subscribe(()=>{S.close(void 0,i?.closeDelay)}),i?.disableClose||wt.keydownEvents.pipe(Ot(Et=>Et.key==="Escape"),z(Ft)).subscribe(()=>{S.close(void 0,i?.closeDelay)}),wt.closed.pipe(z(Ft)).subscribe(()=>{yt?.destroy(),Ft.next()}),S}static \u0275fac=function(e){return new(e||o)};static \u0275prov=et({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),st=(()=>{class o{_dialogService=a(li);_vcr=a(Ht);positionBuilder=a(ce);ssos=a(de);_injector=a(G);_defaultOptions=si();_context={};stateComputed=l(()=>this._dialogRef()?.state()??"closed");_contentTemplate;_dialogRef=g(void 0);_dialogStateEffectRef;_backdropClass=g(null);_panelClass=g(null);closed=$();stateChanged=$();state=s(null);role=s(this._defaultOptions.role);hasBackdrop=s(this._defaultOptions.hasBackdrop,{transform:D});positionStrategy=s(this._defaultOptions.positionStrategy);mutablePositionStrategy=X(()=>this.positionStrategy());scrollStrategy=s(this._defaultOptions.scrollStrategy);_options=l(()=>{let t=this.scrollStrategy(),e;return t==="close"?e=this.ssos.close():t==="reposition"?e=this.ssos.reposition():e=t,{role:this.role(),hasBackdrop:this.hasBackdrop(),positionStrategy:this.mutablePositionStrategy(),scrollStrategy:e,restoreFocus:this.restoreFocus(),closeOnOutsidePointerEvents:this.mutableCloseOnOutsidePointerEvents(),closeOnBackdropClick:this.closeOnBackdropClick(),attachTo:this.mutableAttachTo(),attachPositions:this.mutableAttachPositions(),autoFocus:this.autoFocus(),closeDelay:this.closeDelay(),disableClose:this.disableClose(),backdropClass:this._backdropClass()??"",panelClass:this._panelClass()??"",ariaDescribedBy:this._mutableAriaDescribedBy(),ariaLabelledBy:this._mutableAriaLabelledBy(),ariaLabel:this._mutableAriaLabel(),ariaModal:this._mutableAriaModal()}});constructor(){m(()=>{let t=this.state();t==="open"&&P(()=>this.open()),t==="closed"&&P(()=>this.close())})}restoreFocus=s(this._defaultOptions.restoreFocus);closeOnOutsidePointerEvents=s(this._defaultOptions.closeOnOutsidePointerEvents,{transform:D});mutableCloseOnOutsidePointerEvents=X(()=>this.closeOnOutsidePointerEvents());closeOnBackdropClick=s(this._defaultOptions.closeOnBackdropClick,{transform:D});attachTo=s(null);mutableAttachTo=X(()=>this.attachTo());attachPositions=s(this._defaultOptions.attachPositions);mutableAttachPositions=X(()=>this.attachPositions());autoFocus=s(this._defaultOptions.autoFocus);closeDelay=s(this._defaultOptions.closeDelay,{transform:Vt});disableClose=s(this._defaultOptions.disableClose,{transform:D});ariaDescribedBy=s(null,{alias:"aria-describedby"});_mutableAriaDescribedBy=X(()=>this.ariaDescribedBy());ariaLabelledBy=s(null,{alias:"aria-labelledby"});_mutableAriaLabelledBy=X(()=>this.ariaLabelledBy());ariaLabel=s(null,{alias:"aria-label"});_mutableAriaLabel=X(()=>this.ariaLabel());ariaModal=s(!0,{alias:"aria-modal",transform:D});_mutableAriaModal=X(()=>this.ariaModal());open(){if(!this._contentTemplate||this._dialogRef())return;this._dialogStateEffectRef?.destroy();let t=this._dialogService.open(this._contentTemplate,this._vcr,this._context,this._options());this._dialogRef.set(t),zt(this._injector,()=>{this._dialogStateEffectRef=m(()=>{let e=t.state();P(()=>this.stateChanged.emit(e))})}),t.closed$.pipe(Fe(1)).subscribe(e=>{this._dialogRef.set(void 0),this.closed.emit(e)})}close(t,e){this._dialogRef()?.close(t,e??this._options().closeDelay)}registerTemplate(t){this._contentTemplate=t}setOverlayClass(t){this._backdropClass.set(t),this._dialogRef()?.setOverlayClass(t)}setPanelClass(t){this._panelClass.set(t??""),this._dialogRef()?.setPanelClass(t)}setContext(t){this._context=V(V({},this._context),t)}setAriaDescribedBy(t){this._mutableAriaDescribedBy.set(t),this._dialogRef()?.setAriaDescribedBy(t)}setAriaLabelledBy(t){this._mutableAriaLabelledBy.set(t),this._dialogRef()?.setAriaLabelledBy(t)}setAriaLabel(t){this._mutableAriaLabel.set(t),this._dialogRef()?.setAriaLabel(t)}setAriaModal(t){this._mutableAriaModal.set(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["brn-dialog"]],inputs:{state:[1,"state"],role:[1,"role"],hasBackdrop:[1,"hasBackdrop"],positionStrategy:[1,"positionStrategy"],scrollStrategy:[1,"scrollStrategy"],restoreFocus:[1,"restoreFocus"],closeOnOutsidePointerEvents:[1,"closeOnOutsidePointerEvents"],closeOnBackdropClick:[1,"closeOnBackdropClick"],attachTo:[1,"attachTo"],attachPositions:[1,"attachPositions"],autoFocus:[1,"autoFocus"],closeDelay:[1,"closeDelay"],disableClose:[1,"disableClose"],ariaDescribedBy:[1,"aria-describedby","ariaDescribedBy"],ariaLabelledBy:[1,"aria-labelledby","ariaLabelledBy"],ariaLabel:[1,"aria-label","ariaLabel"],ariaModal:[1,"aria-modal","ariaModal"]},outputs:{closed:"closed",stateChanged:"stateChanged"},exportAs:["brnDialog"],ngContentSelectors:ii,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})(),no=(()=>{class o{_brnDialogRef=a(nt);delay=s(void 0,{transform:Ze});close(){this._brnDialogRef.close(void 0,this.delay())}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["button","brnDialogClose",""]],hostBindings:function(e,r){e&1&&M("click",function(){return r.close()})},inputs:{delay:[1,"delay"]}})}return o})(),Me=(()=>{class o{_brnDialog=a(st,{optional:!0});_brnDialogRef=a(nt,{optional:!0});_template=a(te);state=l(()=>this._brnDialog?.stateComputed()??this._brnDialogRef?.state()??"closed");className=s(void 0,{alias:"class"});context=s(void 0);constructor(){this._brnDialog&&(this._brnDialog.registerTemplate(this._template),m(()=>{let t=this.context();!this._brnDialog||!t||P(()=>this._brnDialog?.setContext(t))}),m(()=>{if(!this._brnDialog)return;let t=this.className();P(()=>this._brnDialog?.setPanelClass(t))}))}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnDialogContent",""]],inputs:{className:[1,"class","className"],context:[1,"context"]},features:[f([me(()=>o)])]})}return o})(),en=(()=>{class o{_brnDialogRef=a(nt);_id=g(`brn-dialog-description-${this._brnDialogRef?.dialogId}`);constructor(){m(()=>{this._brnDialogRef.setAriaDescribedBy(this._id())})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnDialogDescription",""]],hostVars:1,hostBindings:function(e,r){e&2&&E("id",r._id())}})}return o})(),on=(()=>{class o{_brnDialog=a(st);className=s(void 0,{alias:"class"});setClassToCustomElement(t){this._brnDialog.setOverlayClass(t)}constructor(){m(()=>{if(!this._brnDialog)return;let t=this.className();P(()=>this._brnDialog.setOverlayClass(t))})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["brn-dialog-overlay"]],inputs:{className:[1,"class","className"]},features:[f([Xr(()=>o)])],decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0})}return o})(),rn=(()=>{class o{_brnDialogRef=a(nt);_id=g(`brn-dialog-title-${this._brnDialogRef?.dialogId}`);constructor(){m(()=>{this._brnDialogRef.setAriaLabelledBy(this._id())})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnDialogTitle",""]],hostVars:1,hostBindings:function(e,r){e&2&&E("id",r._id())}})}return o})();var so=(()=>{class o{_listeners=[];notify(t,e){for(let r of this._listeners)r(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(e){return new(e||o)};static \u0275prov=et({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var hi=200,_e=class{_letterKeyStream=new O;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new O;selectedItem=this._selectedItem;constructor(n,t){let e=typeof t?.debounceInterval=="number"?t.debounceInterval:hi;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(n),this._setupKeyHandler(e)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let t=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(jt(t=>this._pressedLetters.push(t)),Bt(n),Ot(()=>this._pressedLetters.length>0),Le(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let e=1;e<this._items.length+1;e++){let r=(this._selectedItemIndex+e)%this._items.length,i=this._items[r];if(!this._skipPredicateFn?.(i)&&i.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(i);break}}this._pressedLetters=[]})}};var Lt=class{_items;_activeItemIndex=g(-1);_activeItem=g(null);_wrap=!1;_typeaheadSubscription=Wo.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,t){this._items=n,n instanceof Zt?this._itemChangesSubscription=n.changes.subscribe(e=>this._itemsChanged(e.toArray())):Ee(n)&&(this._effectRef=m(()=>this._itemsChanged(n()),{injector:t}))}tabOut=new O;change=new O;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new _e(t,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:e=>this._skipPredicateFn(e)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(e=>{this.setActiveItem(e)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,t=10){return this._pageUpAndDown={enabled:n,delta:t},this}setActiveItem(n){let t=this._activeItem();this.updateActiveItem(n),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(n){let t=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(i=>!n[i]||this._allowedModifierKeys.indexOf(i)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let i=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(i>0?i:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let i=this._activeItemIndex()+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(i<c?i:c-1,-1);break}else return;default:(r||Y(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let t=this._getItemsArray(),e=typeof n=="number"?n:t.indexOf(n),r=t[e];this._activeItem.set(r??null),this._activeItemIndex.set(e),this._typeahead?.setCurrentSelectedItemIndex(e)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let t=this._getItemsArray();for(let e=1;e<=t.length;e++){let r=(this._activeItemIndex()+n*e+t.length)%t.length,i=t[r];if(!this._skipPredicateFn(i)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex()+n,n)}_setActiveItemByIndex(n,t){let e=this._getItemsArray();if(e[n]){for(;this._skipPredicateFn(e[n]);)if(n+=t,!e[n])return;this.setActiveItem(n)}}_getItemsArray(){return Ee(this._items)?this._items():this._items instanceof Zt?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let t=this._activeItem();if(t){let e=n.indexOf(t);e>-1&&e!==this._activeItemIndex()&&(this._activeItemIndex.set(e),this._typeahead?.setCurrentSelectedItemIndex(e))}}};var fe=class extends Lt{_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}};var ye=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],features:[f([{provide:so,useClass:so}])]})}return o})(),wo=new j("cdk-menu"),ct=(function(o){return o[o.nextItem=0]="nextItem",o[o.previousItem=1]="previousItem",o[o.currentItem=2]="currentItem",o})(ct||{}),pt=new j("cdk-menu-stack"),pi={provide:pt,deps:[[new Re,new Ne,new Oe(pt)]],useFactory:o=>o||new sn},wi=o=>({provide:pt,deps:[[new Re,new Ne,new Oe(pt)]],useFactory:n=>n||sn.inline(o)}),sn=(()=>{class o{id=a(Ge).getId("cdk-menu-stack-");_elements=[];_close=new O;_empty=new O;_hasFocus=new O;closed=this._close;hasFocus=this._hasFocus.pipe(gt(!1),Bt(0),Qt());emptied=this._empty;_inlineMenuOrientation=null;static inline(t){let e=new o;return e._inlineMenuOrientation=t,e}push(t){this._elements.push(t)}close(t,e){let{focusNextOnEmpty:r,focusParentTrigger:i}=V({},e);if(this._elements.indexOf(t)>=0){let c;do c=this._elements.pop(),this._close.next({item:c,focusParentTrigger:i});while(c!==t);this.isEmpty()&&this._empty.next(r)}}closeSubMenuOf(t){let e=!1;if(this._elements.indexOf(t)>=0)for(e=this.peek()!==t;this.peek()!==t;)this._close.next({item:this._elements.pop()});return e}closeAll(t){let{focusNextOnEmpty:e,focusParentTrigger:r}=V({},t);if(!this.isEmpty()){for(;!this.isEmpty();){let i=this._elements.pop();i&&this._close.next({item:i,focusParentTrigger:r})}this._empty.next(e)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(t){this._hasFocus.next(t)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=et({token:o,factory:o.\u0275fac})}return o})(),uo=new j("cdk-menu-trigger"),ui=new j("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=a(G);return()=>qe(o)}}),gi=(()=>{class o{static _openMenuTrigger;update(t){o._openMenuTrigger!==t&&(o._openMenuTrigger?.close(),o._openMenuTrigger=t)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=et({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),vi=(()=>{class o{injector=a(G);viewContainerRef=a(Ht);menuStack=a(pt);menuScrollStrategy=a(ui);menuPosition;opened=new Ut;closed=new Ut;menuTemplateRef;menuData;overlayRef=null;destroyed=new O;stopOutsideClicksListener=Pe(this.closed,this.destroyed);childMenu;_menuPortal;_childMenuInjector;ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(t){this.childMenu=t}getMenuContentPortal(){let t=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||t)&&(this._menuPortal=new Cr(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(t){for(let e=t;e;e=e?.parentElement??null)if(e.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||G.create({providers:[{provide:uo,useValue:this},{provide:pt,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,hostVars:2,hostBindings:function(e,r){e&2&&C("aria-controls",r.childMenu==null?null:r.childMenu.id)("data-cdk-menu-stack-id",r.menuStack.id)}})}return o})();var go=new j("cdk-menu-aim");function an(o,n){if(!n.isTrusted)return!1;let t=o.nativeElement,e=n.keyCode;return t.nodeName==="BUTTON"&&!t.disabled?e===13||e===32:t.nodeName==="A"?e===13:!1}var Wt=(()=>{class o extends vi{_elementRef=a(F);_ngZone=a(ee);_changeDetectorRef=a(wr);_inputModalityDetector=a(Ue);_directionality=a(he,{optional:!0});_renderer=a(ht);_injector=a(G);_cleanupMouseenter;_menuTracker=a(gi);_parentMenu=a(wo,{optional:!0});_menuAim=a(go,{optional:!0});constructor(){super(),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){this._parentMenu||this._menuTracker.update(this),!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||Qe(this._injector,this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}ngOnChanges(t){t.menuPosition&&this.overlayRef&&this.overlayRef.updatePositionStrategy(this._getOverlayPositionStrategy())}ngOnDestroy(){this._cleanupMouseenter(),super.ngOnDestroy()}_toggleOnKeydown(t){let e=this._parentMenu?.orientation==="vertical";switch(t.keyCode){case 32:case 13:!Y(t)&&!an(this._elementRef,t)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:Y(t)||this._parentMenu&&e&&this._directionality?.value!=="rtl"&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:Y(t)||this._parentMenu&&e&&this._directionality?.value==="rtl"&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:Y(t)||e||(t.preventDefault(),this.open(),t.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(t){this._parentMenu||this.menuStack.setHasFocus(t)}_subscribeToMouseEnter(){this._cleanupMouseenter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{if(this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()){let t=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(t):t()}}))}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new We({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return Xe(this._injector,this._elementRef).withLockedPosition().withFlexibleDimensions(!1).withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?$e:Ye)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(z(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(z(this.stopOutsideClicksListener)).subscribe(t=>{let e=Br(t),r=this._elementRef.nativeElement;e!==r&&!r.contains(e)&&(this.isElementInsideMenuStack(e)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(z(this.destroyed)).subscribe(t=>{t||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:t})=>{t&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){let t=this._elementRef.nativeElement;t.nodeName==="BUTTON"&&!t.getAttribute("type")&&t.setAttribute("type","button")}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(e,r){e&1&&M("focusin",function(){return r._setHasFocus(!0)})("focusout",function(){return r._setHasFocus(!1)})("keydown",function(c){return r._toggleOnKeydown(c)})("click",function(){return r._handleClick()}),e&2&&C("aria-haspopup",r.menuTemplateRef?"menu":null)("aria-expanded",r.menuTemplateRef==null?null:r.isOpen())},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],features:[f([{provide:uo,useExisting:o},pi]),kt,Qo]})}return o})(),Kt=(()=>{class o{_dir=a(he,{optional:!0});_elementRef=a(F);_ngZone=a(ee);_inputModalityDetector=a(Ue);_renderer=a(ht);_cleanupMouseEnter;_menuAim=a(go,{optional:!0});_menuStack=a(pt);_parentMenu=a(wo,{optional:!0});_menuTrigger=a(Wt,{optional:!0,self:!0});disabled=!1;typeaheadLabel;triggered=new Ut;get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}_tabindex=-1;closeOnSpacebarTrigger=!0;destroyed=new O;constructor(){this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this._cleanupMouseEnter?.(),this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(t){let{keepOpen:e}=V({},t);!this.disabled&&!this.hasMenu&&(this.triggered.next(),e||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(t){this.disabled||(!t||!this._menuStack.isEmpty())&&(this._tabindex=0)}_handleClick(t){this.disabled?(t.preventDefault(),t.stopPropagation()):this.trigger()}_onKeydown(t){switch(t.keyCode){case 32:case 13:if(!Y(t)&&!an(this._elementRef,t)){let e=this._elementRef.nativeElement.nodeName;e!=="A"&&e!=="BUTTON"&&t.preventDefault(),this.trigger({keepOpen:t.keyCode===32&&!this.closeOnSpacebarTrigger})}break;case 39:Y(t)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(t):this._backArrowPressed(t));break;case 37:Y(t)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(t):this._forwardArrowPressed(t));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(t){let e=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(t.preventDefault(),this._menuStack.close(e,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?ct.previousItem:ct.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(t){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(t.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:ct.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){let t=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._cleanupMouseEnter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu&&(this._menuAim?this._menuAim.toggle(t):t())}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let t=this._elementRef.nativeElement;t.nodeName==="BUTTON"&&!t.getAttribute("type")&&t.setAttribute("type","button")}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:4,hostBindings:function(e,r){e&1&&M("blur",function(){return r._resetTabIndex()})("focus",function(){return r._setTabIndex()})("click",function(c){return r._handleClick(c)})("keydown",function(c){return r._onKeydown(c)}),e&2&&(E("tabIndex",r._tabindex),C("aria-disabled",r.disabled||null),rt("cdk-menu-item-disabled",r.disabled))},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",D],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"]})}return o})(),po=class{_renderer;_items;_eventCleanups;_itemsSubscription;entered=new O;exited=new O;activeElement;previousElement;constructor(n,t){this._renderer=n,this._items=t,this._bindEvents(),this.entered.subscribe(e=>this.activeElement=e),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._cleanupEvents(),this._itemsSubscription?.unsubscribe()}_bindEvents(){this._itemsSubscription=this._items.changes.pipe(gt(this._items)).subscribe(()=>{this._cleanupEvents(),this._eventCleanups=[],this._items.forEach(n=>{let t=n._elementRef.nativeElement;this._eventCleanups.push(this._renderer.listen(t,"mouseenter",()=>{this.entered.next(n)}),this._renderer.listen(t,"mouseout",()=>{this.exited.next(n)}))})})}_cleanupEvents(){this._eventCleanups?.forEach(n=>n()),this._eventCleanups=void 0}},ki=(()=>{class o extends ye{_focusMonitor=a(jr);ngZone=a(ee);_renderer=a(ht);nativeElement=a(F).nativeElement;menuStack=a(pt);menuAim=a(go,{optional:!0,self:!0});dir=a(he,{optional:!0});_allItems;id=a(Ge).getId("cdk-menu-");items=new Zt;orientation="vertical";isInline=!1;keyManager;destroyed=new O;triggerItem;pointerTracker;_menuStackHasFocus=g(!1);_tabIndexSignal=l(()=>{let t=this._menuStackHasFocus()?-1:0;return this.isInline?t:null});ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setItems(),this._setKeyManager(),this._handleFocus(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.nativeElement),this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setFirstItemActive()}focusLastItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setLastItemActive()}setActiveMenuItem(t){this.keyManager?.setActiveItem(t)}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(t,e){let{focusParentTrigger:r}=V({},e),i=this.keyManager,c=this.triggerItem;t===c?.getMenuTrigger()?.getMenu()&&(c?.getMenuTrigger()?.close(),r&&(c?i.setActiveItem(c):i.setFirstItemActive()))}_setItems(){this._allItems.changes.pipe(gt(this._allItems),z(this.destroyed)).subscribe(t=>{this.items.reset(t.filter(e=>e._parentMenu===this)),this.items.notifyOnChanges()})}_setKeyManager(){this.keyManager=new fe(this.items).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){let t=Pe(this.items.changes,this.destroyed);this.items.changes.pipe(gt(this.items),Xo(e=>e.filter(r=>r.hasMenu).map(r=>r.getMenuTrigger().opened.pipe(Yo(r),z(t)))),$o(),vt(e=>(this.triggerItem=e,e.getMenuTrigger().closed)),z(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(z(this.destroyed)).subscribe(({item:t,focusParentTrigger:e})=>this.closeOpenMenu(t,{focusParentTrigger:e}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(z(this.destroyed)).subscribe(t=>{this._menuStackHasFocus.set(t)})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new po(this._renderer,this.items)}),this.menuAim.initialize(this,this.pointerTracker))}_handleFocus(){this._focusMonitor.monitor(this.nativeElement,!1).pipe(z(this.destroyed)).subscribe(t=>{t!==null&&t!=="mouse"&&this.focusFirstItem(t)})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Jt(o)))(r||o)}})();static \u0275dir=d({type:o,contentQueries:function(e,r,i){if(e&1&&tr(i,Kt,5),e&2){let c;er(c=or())&&(r._allItems=c)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(e,r){e&1&&M("focusin",function(){return r.menuStack.setHasFocus(!0)})("focusout",function(){return r.menuStack.setHasFocus(!1)}),e&2&&(E("tabIndex",r._getTabIndex())("id",r.id),C("aria-orientation",r.orientation)("data-cdk-menu-stack-id",r.menuStack.id))},inputs:{id:"id"},features:[kt]})}return o})(),Ce=(()=>{class o extends ki{_parentTrigger=a(uo,{optional:!0});closed=new Ut;orientation="vertical";isInline=!this._parentTrigger;constructor(){super(),this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(t){let e=this.keyManager;switch(t.keyCode){case 37:case 39:Y(t)||(t.preventDefault(),e.setFocusOrigin("keyboard"),e.onKeydown(t));break;case 27:Y(t)||(t.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:ct.currentItem,focusParentTrigger:!0}));break;case 9:Y(t,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:e.onKeydown(t)}}_toggleMenuFocus(t){let e=this.keyManager;switch(t){case ct.nextItem:e.setFocusOrigin("keyboard"),e.setNextItemActive();break;case ct.previousItem:e.setFocusOrigin("keyboard"),e.setPreviousItemActive();break;case ct.currentItem:e.activeItem&&(e.setFocusOrigin("keyboard"),e.setActiveItem(e.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(z(this.destroyed)).subscribe(t=>this._toggleMenuFocus(t))}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(e,r){e&1&&M("keydown",function(c){return r._handleKeyEvent(c)}),e&2&&rt("cdk-menu-inline",r.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],features:[f([{provide:ye,useExisting:o},{provide:wo,useExisting:o},wi("vertical")]),kt]})}return o})();var fi=(o,n)=>{let t=o==="start"?"top":o==="end"?"bottom":"center",e=(r,i,c,S)=>[{originX:r,originY:i,overlayX:c,overlayY:S},{originX:c,originY:S,overlayX:r,overlayY:i}];switch(n){case"top":return e(o,"top",o,"bottom");case"bottom":return e(o,"bottom",o,"top");case"left":return e("start",t,"end",t);case"right":return e("end",t,"start",t)}};var ln=(()=>{class o{_host=a(Ce);_state=g("open");_side=g("top");constructor(){this.setSideWithDarkMagic(),this._host.closed.pipe(St()).subscribe(()=>this._state.set("closed"))}setSideWithDarkMagic(){let t=this._host.menuStack.peek()===void 0;setTimeout(()=>{let e=this._host._parentTrigger._spartanLastPosition;if(!e){this._side.set(t?"top":"left");return}let r=t?e.originY:e.originX==="end"?"right":"left";this._side.set(r)})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnMenu",""],["","brnSubMenu",""]],hostVars:2,hostBindings:function(e,r){e&2&&C("data-state",r._state())("data-side",r._side())},features:[y([Ce])]})}return o})();var hn=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnMenuGroup",""]],features:[y([ye])]})}return o})(),dn=(()=>{class o{_cdkMenuItem=a(Kt);disabled=s(this._cdkMenuItem.disabled,{transform:D});triggered=kr(this._cdkMenuItem.triggered);constructor(){m(()=>this._cdkMenuItem.disabled=this.disabled())}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnMenuItem",""]],hostVars:2,hostBindings:function(e,r){e&2&&(E("disabled",r.disabled()),C("data-disabled",r.disabled()?"":null))},inputs:{disabled:[1,"disabled"]},outputs:{triggered:"triggered"},features:[y([Kt])]})}return o})();var cn=(()=>{class o{_cdkTrigger=a(Wt,{host:!0});align=s("center");side=s("bottom");constructor(){this._cdkTrigger.opened.pipe(St()).subscribe(()=>setTimeout(()=>this._cdkTrigger._spartanLastPosition=this._cdkTrigger.overlayRef._positionStrategy._lastPosition)),m(()=>{let t=this.align(),e=this.side();this._cdkTrigger.menuPosition=fi(t,e)})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnMenuTriggerFor",""]],inputs:{align:[1,"align"],side:[1,"side"]},features:[y([{directive:Wt,inputs:["cdkMenuTriggerFor","brnMenuTriggerFor","cdkMenuTriggerData","brnMenuTriggerData"],outputs:["cdkMenuOpened","brnMenuOpened","cdkMenuClosed","brnMenuClosed"]}])]})}return o})();var pn="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 bg-black/50",Be=(()=>{class o{_classSettable=Kr({optional:!0,host:!0});userClass=s("",{alias:"class"});_computedClass=l(()=>h(pn,this.userClass()));constructor(){m(()=>{let t=this._computedClass();P(()=>this._classSettable?.setClassToCustomElement(t))})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmDialogOverlay",""],["brn-dialog-overlay","hlm",""]],inputs:{userClass:[1,"class","userClass"]}})}return o})();var ko=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 flex items-center justify-center rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none [&_ng-icon]:shrink-0",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmDialogClose",""],["","brnDialogClose","","hlm",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();var yi=["*"];function Ci(o,n){if(o&1&&ne(0,0),o&2){let t=_();B("ngComponentOutlet",t.component)}}function Bi(o,n){o&1&&b(0)}var je=(()=>{class o{_dialogRef=a(nt);_dialogContext=tn({optional:!0});state=l(()=>this._dialogRef?.state()??"closed");component=this._dialogContext?.$component;_dynamicComponentClass=this._dialogContext?.$dynamicComponentClass;userClass=s("",{alias:"class"});_computedClass=l(()=>h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 relative z-50 mx-auto grid w-full max-w-[calc(100%-2rem)] gap-4 rounded-lg border p-6 shadow-lg data-[state=closed]:duration-200 data-[state=open]:duration-200 sm:mx-0 sm:max-w-lg",this.userClass(),this._dynamicComponentClass));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-dialog-content"]],hostVars:3,hostBindings:function(e,r){e&2&&(C("data-state",r.state()),p(r._computedClass()))},inputs:{userClass:[1,"class","userClass"]},features:[f([K({lucideX:Ur})])],ngContentSelectors:yi,decls:6,vars:1,consts:[[3,"ngComponentOutlet"],["brnDialogClose","","hlm",""],[1,"sr-only"],["hlm","","size","sm","name","lucideX"]],template:function(e,r){e&1&&(A(),Z(0,Ci,1,1,"ng-container",0)(1,Bi,1,0),w(2,"button",1)(3,"span",2),H(4,"Close"),u(),L(5,"ng-icon",3),u()),e&2&&U(r.component?0:1)},dependencies:[ur,no,ko,J,tt],encapsulation:2,changeDetection:0})}return o})();var mo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("text-muted-foreground text-sm",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmDialogDescription",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([en])]})}return o})();var ji=["*"],xo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-dialog-footer"]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:ji,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var bi=["*"],Mo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("flex flex-col gap-2 text-center sm:text-left",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-dialog-header"]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},ngContentSelectors:bi,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var _o=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("text-lg leading-none font-semibold",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmDialogTitle",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([rn])]})}return o})();var wn=(()=>{class o{ngControl=null;errorState=g(!1);static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o})}return o})();var un=(()=>{class o{isInvalid(t,e){return!!(t&&t.invalid&&(t.touched||e instanceof It&&e.submitted))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=et({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),be=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;errorState=g(!1);matcher=null;constructor(n,t,e,r){this._defaultMatcher=n,this.ngControl=t,this._parentFormGroup=e,this._parentForm=r}updateErrorState(){let n=this.errorState(),t=this._parentFormGroup||this._parentForm,e=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,i=e?.isInvalid(r,t)??!1;i!==n&&this.errorState.set(i)}};var Di=W("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input focus-visible:border-ring focus-visible:ring-ring/50 flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-[3px] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",{variants:{error:{auto:"[&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:ring-destructive/20 dark:[&.ng-invalid.ng-touched]:ring-destructive/40",true:"border-destructive focus-visible:border-destructive focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40"}},defaultVariants:{error:"auto"}}),at=(()=>{class o{_injector=a(G);_additionalClasses=g("");_errorStateTracker;_defaultErrorStateMatcher=a(un);_parentForm=a(It,{optional:!0});_parentFormGroup=a(Sr,{optional:!0});userClass=s("",{alias:"class"});_computedClass=l(()=>h(Di({error:this._state().error}),this.userClass(),this._additionalClasses()));error=s("auto");_state=X(()=>({error:this.error()}));ngControl=this._injector.get(we,null);errorState=l(()=>this._errorStateTracker.errorState());constructor(){this._errorStateTracker=new be(this._defaultErrorStateMatcher,this.ngControl,this._parentFormGroup,this._parentForm),m(()=>{let t=this._errorStateTracker.errorState();P(()=>{if(this.ngControl){let e=t&&this.ngControl.invalid&&(this.ngControl.touched||this.ngControl.dirty);this._errorStateTracker.errorState.set(!!e),this.setError(e?!0:"auto")}})})}ngDoCheck(){this._errorStateTracker.updateErrorState()}setError(t){this._state.set({error:t})}setClass(t){this._additionalClasses.set(t)}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmInput",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"],error:[1,"error"]},features:[f([{provide:wn,useExisting:lt(()=>o)}])]})}return o})();var Ai=0,gn=(()=>{class o{_ngControl=a(we,{optional:!0});id=s(`brn-label-${++Ai}`);_isBrowser=se(a(bt));_element=a(F).nativeElement;_changes;_dataDisabled=g("auto");dataDisabled=this._dataDisabled.asReadonly();ngOnInit(){this._isBrowser&&(this._changes=new MutationObserver(t=>{t.forEach(e=>{if(e.attributeName!=="data-disabled")return;let r=e.target.attributes.getNamedItem(e.attributeName)?.value==="true";this._dataDisabled.set(r??"auto")})}),this._changes?.observe(this._element,{attributes:!0,childList:!0,characterData:!0}))}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnLabel",""]],hostVars:9,hostBindings:function(e,r){e&2&&(E("id",r.id()),rt("ng-invalid",(r._ngControl==null?null:r._ngControl.invalid)||null)("ng-dirty",(r._ngControl==null?null:r._ngControl.dirty)||null)("ng-valid",(r._ngControl==null?null:r._ngControl.valid)||null)("ng-touched",(r._ngControl==null?null:r._ngControl.touched)||null))},inputs:{id:[1,"id"]}})}return o})();var yo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 peer-data-[disabled]:cursor-not-allowed peer-data-[disabled]:opacity-50 has-[[disabled]]:cursor-not-allowed has-[[disabled]]:opacity-50",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmLabel",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([{directive:gn,inputs:["id","id"]}])]})}return o})();var Ii=["*"],Ti=W("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-top overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",{variants:{variant:{default:"my-0.5",menubar:"my-2"}},defaultVariants:{variant:"default"}}),Co=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h(Ti({variant:this.variant()}),this.userClass()));variant=s("default");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-menu"]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"],variant:[1,"variant"]},features:[y([ln])],ngContentSelectors:Ii,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var Li=["*"],Bo=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-menu-group"]],hostAttrs:[1,"block"],features:[y([hn])],ngContentSelectors:Li,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var jo=(()=>{class o{variant=s("default");inset=s(!1,{transform:D});userClass=s("",{alias:"class"});_computedClass=l(()=>h("hover:bg-accent focus-visible:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[ng-icon]:!text-destructive [&_ng-icon]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_ng-icon]:pointer-events-none [&_ng-icon]:shrink-0",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmMenuItem",""]],hostVars:4,hostBindings:function(e,r){e&2&&(C("data-variant",r.variant())("data-inset",r.inset()?"":null),p(r._computedClass()))},inputs:{variant:[1,"variant"],inset:[1,"inset"],userClass:[1,"class","userClass"]},features:[y([{directive:dn,inputs:["disabled","disabled"],outputs:["triggered","triggered"]}])]})}return o})();var Pi=["*"],bo=(()=>{class o{inset=s(!1,{transform:D});userClass=s("",{alias:"class"});_computedClass=l(()=>h("block px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-menu-label"]],hostVars:3,hostBindings:function(e,r){e&2&&(C("data-inset",r.inset()?"":null),p(r._computedClass()))},inputs:{inset:[1,"inset"],userClass:[1,"class","userClass"]},ngContentSelectors:Pi,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var Ho=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("bg-border -mx-1 my-1 block h-px",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-menu-separator"]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0})}return o})();var Xt=(()=>{class o{icon=s("lucideLoader");ariaLabel=s("Loading",{alias:"aria-label"});userClass=s("",{alias:"class"});_computedClass=l(()=>h("text-base motion-safe:animate-spin",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-spinner"]],hostAttrs:["role","status",1,"inline-flex"],hostVars:1,hostBindings:function(e,r){e&2&&C("aria-label",r.ariaLabel())},inputs:{icon:[1,"icon"],ariaLabel:[1,"aria-label","ariaLabel"],userClass:[1,"class","userClass"]},features:[f([K({lucideLoader:Pr})])],decls:1,vars:3,consts:[[3,"name"]],template:function(e,r){e&1&&L(0,"ng-icon",0),e&2&&(p(r._computedClass()),B("name",r.icon()))},dependencies:[J],encapsulation:2,changeDetection:0})}return o})();var Oi=["passwordDialog"];function Ri(o,n){if(o&1){let t=ot();w(0,"hlm-menu",6)(1,"hlm-menu-label",10),H(2),u(),L(3,"hlm-menu-separator"),w(4,"hlm-menu-group")(5,"button",11),M("click",function(){I(t);let r=_();return T(r.handleChangePassword())}),L(6,"ng-icon",12),w(7,"span"),H(8),R(9,"transloco"),u()(),w(10,"button",11),M("click",function(){I(t);let r=_();return T(r.handleLogout())}),L(11,"ng-icon",13),w(12,"span"),H(13),R(14,"transloco"),u()()()()}if(o&2){let t=_();v(2),q(" ",t.userEmail()," "),v(6),Q(N(9,3,"shoppingList.avatar.changePassword")),v(5),Q(N(14,5,"shoppingList.avatar.logout"))}}function Ni(o,n){o&1&&(w(0,"p",20),H(1),R(2,"transloco"),u()),o&2&&(v(),q(" ",N(2,1,"shoppingList.avatar.passwordMinLength")," "))}function zi(o,n){o&1&&(w(0,"p",20),H(1),R(2,"transloco"),u()),o&2&&(v(),q(" ",N(2,1,"shoppingList.avatar.passwordsMismatch")," "))}function Zi(o,n){if(o&1&&(w(0,"div",23)(1,"p",20),H(2),u()()),o&2){let t=_(2);v(2),Q(t.passwordError())}}function Ui(o,n){o&1&&(w(0,"div",24)(1,"p",27),H(2),R(3,"transloco"),u()()),o&2&&(v(2),q(" ",N(3,1,"shoppingList.avatar.passwordChangeSuccess")," "))}function Gi(o,n){o&1&&(L(0,"hlm-spinner",28),w(1,"span"),H(2),R(3,"transloco"),u()),o&2&&(v(2),Q(N(3,1,"shoppingList.avatar.updating")))}function qi(o,n){o&1&&(w(0,"span"),H(1),R(2,"transloco"),u()),o&2&&(v(),Q(N(2,1,"shoppingList.avatar.updatePassword")))}function Wi(o,n){if(o&1){let t=ot();w(0,"hlm-dialog-content")(1,"hlm-dialog-header")(2,"h3",14),H(3),R(4,"transloco"),u(),w(5,"p",15),H(6),R(7,"transloco"),u()(),w(8,"div",16)(9,"div",17)(10,"label",18),H(11),R(12,"transloco"),u(),w(13,"input",19),R(14,"transloco"),_t("ngModelChange",function(r){I(t);let i=_();return Mt(i.newPassword,r)||(i.newPassword=r),T(r)}),M("keydown.enter",function(){I(t);let r=_();return T(r.submitPasswordChange())}),u(),Z(15,Ni,3,3,"p",20),u(),w(16,"div",17)(17,"label",21),H(18),R(19,"transloco"),u(),w(20,"input",22),R(21,"transloco"),_t("ngModelChange",function(r){I(t);let i=_();return Mt(i.confirmPassword,r)||(i.confirmPassword=r),T(r)}),M("keydown.enter",function(){I(t);let r=_();return T(r.submitPasswordChange())}),u(),Z(22,zi,3,3,"p",20),u(),Z(23,Zi,3,1,"div",23),Z(24,Ui,4,3,"div",24),w(25,"hlm-dialog-footer")(26,"button",25),M("click",function(){I(t);let r=_();return T(r.closePasswordDialog())}),H(27),R(28,"transloco"),u(),w(29,"button",26),M("click",function(){I(t);let r=_();return T(r.submitPasswordChange())}),Z(30,Gi,4,3)(31,qi,3,3,"span"),u()()()()}if(o&2){let t=_();v(3),Q(N(4,18,"shoppingList.avatar.changePassword")),v(3),q(" ",N(7,20,"shoppingList.avatar.passwordDialogDescription")," "),v(5),q(" ",N(12,22,"shoppingList.avatar.newPassword")," "),v(2),xt("ngModel",t.newPassword),B("placeholder",N(14,24,"shoppingList.avatar.newPasswordPlaceholder"))("disabled",t.isChangingPassword()),v(2),U(t.newPassword()&&!t.isPasswordValid()?15:-1),v(3),q(" ",N(19,26,"shoppingList.avatar.confirmPassword")," "),v(2),xt("ngModel",t.confirmPassword),B("placeholder",N(21,28,"shoppingList.avatar.confirmPasswordPlaceholder"))("disabled",t.isChangingPassword()),v(2),U(t.confirmPassword()&&!t.passwordsMatch()?22:-1),v(),U(t.passwordError()?23:-1),v(),U(t.passwordSuccess()?24:-1),v(2),B("disabled",t.isChangingPassword()),v(),q(" ",N(28,30,"common.cancel")," "),v(2),B("disabled",t.isChangingPassword()||!t.isPasswordValid()||!t.passwordsMatch()||!t.newPassword()||!t.confirmPassword()),v(),U(t.isChangingPassword()?30:31)}}var xn=(()=>{class o{authService=a(fr);passwordDialog=qt.required("passwordDialog");user=this.authService.user;userEmail=l(()=>this.user()?.email??"");userInitials=l(()=>{let t=this.userEmail();if(!t)return"?";let e=t.indexOf("@");return e===-1?t.substring(0,1).toUpperCase():t.substring(0,e)});newPassword=g("");confirmPassword=g("");isChangingPassword=g(!1);passwordError=g("");passwordSuccess=g(!1);passwordsMatch=l(()=>{let t=this.newPassword(),e=this.confirmPassword();return!t||!e?!0:t===e});isPasswordValid=l(()=>this.newPassword().length>=6);handleLogout(){this.authService.logout()}handleChangePassword(){this.resetPasswordForm(),this.passwordDialog().open()}closePasswordDialog(){this.passwordDialog().close(),this.resetPasswordForm()}resetPasswordForm(){this.newPassword.set(""),this.confirmPassword.set(""),this.passwordError.set(""),this.passwordSuccess.set(!1)}async submitPasswordChange(){if(!this.isPasswordValid()){this.passwordError.set("Password must be at least 6 characters");return}if(!this.passwordsMatch()){this.passwordError.set("Passwords do not match");return}this.isChangingPassword.set(!0),this.passwordError.set("");try{await this.authService.updatePassword(this.newPassword()),this.passwordSuccess.set(!0),setTimeout(()=>{this.closePasswordDialog()},1500)}catch(t){this.passwordError.set(t?.message||"Failed to update password")}finally{this.isChangingPassword.set(!1)}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["gh-user-avatar"]],viewQuery:function(e,r){e&1&&Gt(r.passwordDialog,Oi,5),e&2&&Dt()},features:[f([K({lucideUser:Zr,lucideLogOut:Fr,lucideKeyRound:Lr})])],decls:11,vars:2,consts:[["menu",""],["passwordDialog",""],[1,"group","flex","items-center","gap-2","px-3","py-1.5","rounded-full","border","border-border","bg-background","hover:bg-accent","transition-all","duration-200","hover:shadow-md",3,"brnMenuTriggerFor"],[1,"relative","flex","items-center","justify-center","w-8","h-8","rounded-full","bg-gradient-to-br","from-primary/20","to-primary/5","border","border-primary/20"],["hlm","","name","lucideUser","size","sm",1,"text-primary"],[1,"text-sm","font-medium","text-foreground","group-hover:text-primary","transition-colors"],[1,"w-56"],["closeDelay","100",3,"closed"],["hlm",""],[4,"brnDialogContent"],[1,"text-xs","text-muted-foreground","font-normal","truncate","px-2"],["hlmMenuItem","",3,"click"],["hlmMenuItemIcon","","name","lucideKeyRound","size","sm"],["hlmMenuItemIcon","","name","lucideLogOut","size","sm"],["hlmDialogTitle",""],["hlmDialogDescription",""],[1,"space-y-4"],[1,"space-y-2"],["hlmLabel","","for","newPassword"],["hlmInput","","type","password","id","newPassword",3,"ngModelChange","keydown.enter","ngModel","placeholder","disabled"],[1,"text-sm","text-destructive"],["hlmLabel","","for","confirmPassword"],["hlmInput","","type","password","id","confirmPassword",3,"ngModelChange","keydown.enter","ngModel","placeholder","disabled"],[1,"p-3","rounded-md","bg-destructive/10","border","border-destructive/20"],[1,"p-3","rounded-md","bg-green-500/10","border","border-green-500/20"],["hlmBtn","","type","button","variant","outline",3,"click","disabled"],["hlmBtn","","type","button",3,"click","disabled"],[1,"text-sm","text-green-600","dark:text-green-400"],["size","small"]],template:function(e,r){if(e&1){let i=ot();w(0,"button",2)(1,"div",3),L(2,"ng-icon",4),u(),w(3,"span",5),H(4),u()(),mt(5,Ri,15,7,"ng-template",6,0,dr),w(7,"brn-dialog",7,1),M("closed",function(){return I(i),T(r.closePasswordDialog())}),L(9,"brn-dialog-overlay",8),mt(10,Wi,32,32,"hlm-dialog-content",9),u()}if(e&2){let i=nr(6);B("brnMenuTriggerFor",i),v(4),q(" ",r.userInitials()," ")}},dependencies:[le,Tt,pe,ue,ge,jo,Bo,bo,Ho,Co,tt,J,dt,at,yo,je,mo,xo,Mo,Be,_o,Xt,cn,st,on,Me,ae],encapsulation:2,changeDetection:0})}return o})();var He=(()=>{class o{supabase=a(yr);itemsSignal=g([]);items=this.itemsSignal;count=l(()=>this.itemsSignal().length);userId=g(null);constructor(){this.supabase.supabase.auth.getSession().then(({data:t})=>{let e=t?.session?.user??null;e&&(this.userId.set(e.id),this.loadItemsForUser(e.id))}).catch(()=>{}),this.supabase.supabase.auth.onAuthStateChange((t,e)=>{let r=e?.user?.id??null;this.userId.set(r),r?this.loadItemsForUser(r):this.itemsSignal.set([])}),m(()=>{let t=this.userId();t&&this.loadItemsForUser(t)})}loadItemsForUser(t){Ct(this.supabase.supabase.from("shopping_list_item").select("*").eq("creator_id",t).order("created_at",{ascending:!1})).pipe(Rt(()=>it({data:[],error:null}))).subscribe(e=>{e?.error||this.itemsSignal.set(e?.data??[])})}addItem(t,e){return Ct(this.supabase.supabase.auth.getUser()).pipe(vt(r=>{let i=r?.data?.user?.id??r?.data?.id??null;return i?Ct(this.supabase.supabase.from("shopping_list_item").insert({product_name:t,additional_info:e,creator_id:i,active:!0,active_changed:new Date().toISOString()}).select().single()):it({error:new Error("Not authenticated")})}),Rt(r=>it({error:r})),jt(r=>{if(r?.error)throw r.error;let i=r?.data;i&&this.itemsSignal.update(c=>[i,...c])}),vt(r=>{if(r?.error)throw r.error;return it(r.data)}))}updateItem(t,e){return Ct(this.supabase.supabase.from("shopping_list_item").update(e).eq("id",t).select().single()).pipe(Rt(r=>it({error:r})),jt(r=>{if(r?.error)throw r.error;let i=r?.data;i&&this.itemsSignal.update(c=>c.map(S=>S.id===t?i:S))}),vt(r=>{if(r?.error)throw r.error;return it(r.data)}))}deleteItem(t){return Ct(this.supabase.supabase.from("shopping_list_item").delete().eq("id",t)).pipe(Rt(e=>it({error:e})),jt(e=>{if(e?.error)throw e.error;this.itemsSignal.update(r=>r.filter(i=>i.id!==t))}),vt(e=>{if(e?.error)throw e.error;return it(void 0)}))}toggleItem(t,e){return this.updateItem(t,{active:e,active_changed:new Date().toISOString()})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=et({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var $t=class extends Lt{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}};var Ki=["*"],Xi={hasBackdrop:!1,scrollStrategy:"reposition"},De=(()=>{class o extends st{align=s("center");sideOffset=s(0,{transform:Vt});offsetX=s(0,{transform:Vt});_positionStrategy;constructor(){super(),this.setAriaDescribedBy(""),this.setAriaLabelledBy(""),m(()=>{let t=this.align();P(()=>{this.mutableAttachPositions.set([{originX:t,originY:"bottom",overlayX:t,overlayY:"top"},{originX:t,originY:"top",overlayX:t,overlayY:"bottom"}])}),P(()=>{this.applySideOffset(this.sideOffset())})}),m(()=>{let t=this.sideOffset();P(()=>{this.applySideOffset(t)})}),m(()=>{let t=this.offsetX();P(()=>{this.applyOffsetX(t)})}),m(()=>{let t=this.mutableAttachTo(),e=this.mutableAttachPositions();!t||!e||e.length===0||P(()=>{this._positionStrategy?this._positionStrategy.setOrigin(t):this._positionStrategy=this.positionBuilder.flexibleConnectedTo(t).withPush(!1),this._positionStrategy.withPositions(e),this.mutablePositionStrategy.set(this._positionStrategy)})})}applySideOffset(t){this.mutableAttachPositions.update(e=>e.map(r=>ut(V({},r),{offsetY:r.originY==="top"?-t:t})))}applyOffsetX(t){this.mutableAttachPositions.update(e=>e.map(r=>ut(V({},r),{offsetX:t})))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["brn-popover"]],inputs:{align:[1,"align"],sideOffset:[1,"sideOffset"],offsetX:[1,"offsetX"]},exportAs:["brnPopover"],features:[f([{provide:st,useExisting:lt(()=>o)},Jr(Xi)]),kt],ngContentSelectors:Ki,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var Mn=(()=>{class o extends Me{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Jt(o)))(r||o)}})();static \u0275dir=d({type:o,selectors:[["","brnPopoverContent",""]],features:[f([me(()=>o)]),kt]})}return o})();var Do=new j("BrnAutocompleteItemToken");function Yi(o){return{provide:Do,useExisting:o}}var _n=new j("BrnAutocompleteToken");function Qi(o){return{provide:_n,useExisting:o}}function Ao(){return a(_n)}var Ae=(()=>{class o{static _id=0;_injector=a(G);id=s(`brn-autocomplete-${++o._id}`);valueChange=$();selectionCleared=$();_brnPopover=a(De,{optional:!0});_focus=g("first");items=pr(Do,{descendants:!0});keyManager=new $t(this.items,this._injector);isExpanded=l(()=>this._brnPopover?.stateComputed()==="open");constructor(){this.keyManager.withVerticalOrientation().withHomeAndEnd().withWrap().skipPredicate(t=>t.disabled),m(()=>{let t=this.items(),e=this._focus();P(()=>{if(!t.length)return;let r=this.keyManager.activeItem;(!r||!t.includes(r))&&(e==="first"?this.keyManager.setFirstItemActive():this.keyManager.setLastItemActive())})}),this.keyManager.change.pipe(St()).subscribe(()=>{let t=this.keyManager.activeItem?.value();t&&this.valueChange.emit(t)})}selectActiveItem(){this._brnPopover?.stateComputed()==="open"&&this.keyManager.activeItem?.selected.emit()}open(t="first"){this._brnPopover?.open(),this._focus.set(t)}close(){this._brnPopover?.close()}toggle(){this.isExpanded()?this.close():this.open()}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnAutocomplete",""]],contentQueries:function(e,r,i){e&1&&rr(i,r.items,Do,5),e&2&&Dt()},hostVars:1,hostBindings:function(e,r){e&1&&M("keydown.enter",function(){return r.selectActiveItem()}),e&2&&E("id",r.id())},inputs:{id:[1,"id"]},outputs:{valueChange:"valueChange",selectionCleared:"selectionCleared"},features:[f([Qi(o)])]})}return o})(),fn=(()=>{class o{_templateRef=a(te);_viewContainerRef=a(Ht);_autocomplete=Ao();_visible=l(()=>this._autocomplete.items().length>0);constructor(){m(()=>{this._visible()?this._viewContainerRef.clear():this._viewContainerRef.createEmbeddedView(this._templateRef)})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnAutocompleteEmpty",""]]})}return o})(),yn=(()=>{class o{static _id=0;id=s(`brn-autocomplete-group-${++o._id}`);static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnAutocompleteGroup",""]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(e,r){e&2&&E("id",r.id())},inputs:{id:[1,"id"]}})}return o})(),Cn=(()=>{class o{static _id=0;_platform=a(bt);_elementRef=a(F);_autocomplete=Ao();id=s(`brn-autocomplete-item-${++o._id}`);value=s.required();_disabled=s(!1,{alias:"disabled",transform:D});get disabled(){return this._disabled()}_active=g(!1);selected=$();getLabel(){return this._elementRef.nativeElement.textContent?.trim()??""}setActiveStyles(){this._active.set(!0),se(this._platform)&&this._elementRef.nativeElement.scrollIntoView({block:"nearest"})}setInactiveStyles(){this._active.set(!1)}onClick(){this._autocomplete.keyManager.setActiveItem(this),this.selected.emit()}activate(){this._disabled()||this._autocomplete.keyManager.setActiveItem(this)}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["button","brnAutocompleteItem",""]],hostAttrs:["type","button","role","option","tabIndex","-1"],hostVars:6,hostBindings:function(e,r){e&1&&M("click",function(){return r.onClick()})("mouseenter",function(){return r.activate()}),e&2&&(E("id",r.id()),C("disabled",r._disabled()?!0:null)("data-disabled",r._disabled()?"":null)("data-value",r.value())("aria-selected",r._active())("data-selected",r._active()?"":null))},inputs:{id:[1,"id"],value:[1,"value"],_disabled:[1,"disabled","_disabled"]},outputs:{selected:"selected"},features:[f([Yi(o)])]})}return o})(),Bn=(()=>{class o{static _id=0;id=s(`brn-autocomplete-list-${++o._id}`);static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","brnAutocompleteList",""]],hostAttrs:["role","listbox"],hostVars:1,hostBindings:function(e,r){e&2&&E("id",r.id())},inputs:{id:[1,"id"]}})}return o})(),jn=(()=>{class o{_autocomplete=Ao();_isExpanded=this._autocomplete.isExpanded;_activeDescendant=g(void 0);constructor(){this._autocomplete.keyManager.change.pipe(gt(this._autocomplete.keyManager.activeItemIndex),St()).subscribe(()=>{this._activeDescendant.set(this._autocomplete.keyManager.activeItem?.id())})}onKeyDown(t){t.key==="Enter"&&t.preventDefault(),this._isExpanded()||(t.key==="ArrowDown"&&this._autocomplete.open("first"),t.key==="ArrowUp"&&this._autocomplete.open("last"),t.key==="Escape"&&this._autocomplete.selectionCleared.emit()),this._autocomplete.keyManager.onKeydown(t)}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["input","brnAutocompleteSearchInput",""]],hostAttrs:["role","combobox","aria-autocomplete","list"],hostVars:2,hostBindings:function(e,r){e&1&&M("keydown",function(c){return r.onKeyDown(c)}),e&2&&C("aria-activedescendant",r._activeDescendant())("aria-expanded",r._isExpanded())}})}return o})();var Vo=(()=>{class o{_stateProvider=Yr({host:!0});state=this._stateProvider.state??g("closed");_renderer=a(ht);_element=a(F);constructor(){m(()=>{this._renderer.setAttribute(this._element.nativeElement,"data-state",this.state())})}userClass=s("",{alias:"class"});_computedClass=l(()=>h("border-border bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative w-72 rounded-md border p-4 shadow-md outline-none",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmPopoverContent",""],["","brnPopoverContent","","hlm",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();var So=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("py-6 text-center text-sm",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmAutocompleteEmpty",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();var ts=["*"],Io=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("text-foreground block overflow-hidden p-1",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-autocomplete-group"]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([{directive:yn,inputs:["id","id"]}])],ngContentSelectors:ts,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var es=["hlm-autocomplete-item",""],os=["*"],To=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("data-[selected]:bg-accent data-[selected=true]:text-accent-foreground [&>ng-icon]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-start text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[hidden]:hidden [&>ng-icon]:pointer-events-none [&>ng-icon]:shrink-0 [&>ng-icon]:text-base",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["button","hlm-autocomplete-item",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([{directive:Cn,inputs:["value","value","disabled","disabled","id","id"],outputs:["selected","selected"]}])],attrs:es,ngContentSelectors:os,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var rs=["*"],Lo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("block max-h-60 overflow-x-hidden overflow-y-auto",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-autocomplete-list"]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([{directive:Bn,inputs:["id","id"]}])],ngContentSelectors:rs,decls:1,vars:0,template:function(e,r){e&1&&(A(),b(0))},encapsulation:2,changeDetection:0})}return o})();var Po=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[>.ng-invalid.ng-touched]:ring-destructive/20 has-[>.ng-invalid.ng-touched]:border-destructive dark:has-[>.ng-invalid.ng-touched]:ring-destructive/40",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmInputGroup",""],["hlm-input-group"]],hostAttrs:["data-slot","input-group","role","group"],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();var ns=W("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>ng-icon:not([class*='text-'])]:text-base",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5 [.border-b]:pb-3","block-end":"order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5 [.border-t]:pt-3"}},defaultVariants:{align:"inline-start"}}),Fo=(()=>{class o{align=s("inline-start");userClass=s("",{alias:"class"});_computedClass=l(()=>h(ns({align:this.align()}),this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["hlm-input-group-addon"],["","hlmInputGroupAddon",""]],hostAttrs:["role","group","data-slot","input-group-addon"],hostVars:3,hostBindings:function(e,r){e&2&&(C("data-align",r.align()),p(r._computedClass()))},inputs:{align:[1,"align"],userClass:[1,"class","userClass"]}})}return o})();var is=W("flex items-center gap-2 text-sm shadow-none",{variants:{size:{xs:"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>ng-icon]:px-2 [&>ng-icon:not([class*='text-'])]:text-sm",sm:"h-8 gap-1.5 rounded-md px-2.5 has-[>ng-icon]:px-2.5","icon-xs":"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>ng-icon]:p-0","icon-sm":"size-8 p-0 has-[>ng-icon]:p-0"}},defaultVariants:{size:"xs"}}),Eo=(()=>{class o{_hlmButton=a(dt);size=s("xs");userClass=s("",{alias:"class"});_computedClass=l(()=>h(is({size:this.size()}),this.userClass()));constructor(){m(()=>{this._hlmButton.setClass(this._computedClass())})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["button","hlmInputGroupButton",""]],hostVars:1,hostBindings:function(e,r){e&2&&C("data-size",r.size())},inputs:{size:[1,"size"],userClass:[1,"class","userClass"]},features:[f([Mr({variant:"ghost"})]),y([{directive:dt,inputs:["variant","variant"]}])]})}return o})();var Oo=(()=>{class o{_hlmInput=a(at);userClass=s("",{alias:"class"});_computedClass=l(()=>h("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",this.userClass()));constructor(){m(()=>{this._hlmInput.setClass(this._computedClass())})}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["input","hlmInputGroupInput",""]],hostAttrs:["data-slot","input-group-control"],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]},features:[y([at])]})}return o})();var ip=W("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 dark:bg-input/30 flex [field-sizing:content] min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",{variants:{error:{auto:"[&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:ring-destructive/20 dark:[&.ng-invalid.ng-touched]:ring-destructive/40",true:"border-destructive focus-visible:border-destructive focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40"}},defaultVariants:{error:"auto"}});var Ro=(()=>{class o{_host=a(F,{host:!0});_brnDialog=a(st,{optional:!0});disabledTrigger=s(!1,{transform:D});constructor(){this._brnDialog&&this._brnDialog.mutableAttachTo.set(this._host.nativeElement)}open(){this.disabledTrigger()||this._brnDialog?.open()}static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmAutocompleteTrigger",""]],hostBindings:function(e,r){e&1&&M("click",function(){return r.open()})},inputs:{disabledTrigger:[1,"disabledTrigger"]}})}return o})();function Hn(){return{transformValueToSearch:o=>typeof o=="string"?o:String(o),transformOptionToString:o=>typeof o=="string"?o:String(o),transformOptionToValue:void 0,requireSelection:!1,showClearBtn:!1,debounceTime:150}}var Dn=new j("HlmAutocompleteConfig");function An(o){return{provide:Dn,useValue:V(V({},Hn()),o)}}function Vn(){return a(Dn,{optional:!0})??Hn()}var ls=["input"],hs=[[["","loading",""]],[["","empty",""]]],ds=["[loading]","[empty]"],cs=o=>({$implicit:o});function ps(o,n){if(o&1){let t=ot();w(0,"button",13),M("click",function(){I(t);let r=_();return T(r._selectionCleared())}),L(1,"ng-icon",14),u()}if(o&2){let t=_();B("disabled",t._disabled())}}function ws(o,n){o&1&&ne(0)}function us(o,n){if(o&1&&mt(0,ws,1,0,"ng-container",19),o&2){let t=_().$implicit;B("ngTemplateOutlet",n)("ngTemplateOutletContext",hr(2,cs,t))}}function gs(o,n){if(o&1&&H(0),o&2){let t=_().$implicit,e=_(2);q(" ",e.transformOptionToString()(t)," ")}}function vs(o,n){if(o&1){let t=ot();w(0,"button",18),M("selected",function(){let r=I(t).$implicit,i=_(2);return T(i._optionSelected(r))}),Z(1,us,1,4,"ng-container")(2,gs,1,1),u()}if(o&2){let t,e=n.$implicit,r=_(2),i=ar(0);p(r._computedAutocompleteItemClass()),B("value",i?i(e):e),v(),U((t=r.optionTemplate())?1:2,t)}}function ks(o,n){if(o&1&&H(0),o&2){let t=_(4);Q(t.loadingText())}}function ms(o,n){o&1&&b(0,0,null,ks,1,1)}function xs(o,n){if(o&1&&H(0),o&2){let t=_(4);Q(t.emptyText())}}function Ms(o,n){o&1&&b(0,1,null,xs,1,1)}function _s(o,n){if(o&1&&(w(0,"div",20),Z(1,ms,2,0)(2,Ms,2,0),u()),o&2){let t=_(2);p(t._computedAutocompleteEmptyClass()),v(),U(t.loading()?1:2)}}function fs(o,n){if(o&1&&(w(0,"div",15)(1,"hlm-autocomplete-list")(2,"hlm-autocomplete-group"),oe(3,vs,3,4,"button",16,Jo),u()(),mt(5,_s,3,3,"div",17),u()),o&2){let t=_();At("width",t._elementRef.nativeElement.offsetWidth,"px"),v(),p(t._computedAutocompleteListClass()),rt("hidden",t.filteredOptions().length===0),v(2),re(t.filteredOptions())}}var ys={provide:Dr,useExisting:lt(()=>Se),multi:!0},Se=(()=>{class o{static _id=0;_config=Vn();_brnAutocomplete=qt.required(Ae);_inputRef=qt.required("input",{read:F});_elementRef=a(F);userClass=s("",{alias:"class"});_computedClass=l(()=>h("block w-full",this.userClass()));autocompleteSearchClass=s("");_computedAutocompleteSearchClass=l(()=>h("",this.autocompleteSearchClass()));autocompleteInputClass=s("");_computedAutocompleteInputClass=l(()=>h("",this.autocompleteInputClass()));autocompleteListClass=s("");_computedAutocompleteListClass=l(()=>h("",this.autocompleteListClass()));autocompleteItemClass=s("");_computedAutocompleteItemClass=l(()=>h("",this.autocompleteItemClass()));autocompleteEmptyClass=s("");_computedAutocompleteEmptyClass=l(()=>h("",this.autocompleteEmptyClass()));filteredOptions=s([]);value=ft();debounceTime=s(this._config.debounceTime);search=ft("");_search=$r(this.search,this.debounceTime());transformValueToSearch=s(this._config.transformValueToSearch);requireSelection=s(this._config.requireSelection,{transform:D});transformOptionToString=s(this._config.transformOptionToString);transformOptionToValue=s(this._config.transformOptionToValue);displayWith=s(void 0);_displaySearchValue=l(()=>{let t=this.displayWith();return t||this.transformValueToSearch()});optionTemplate=s();loading=s(!1,{transform:D});showClearBtn=s(this._config.showClearBtn,{transform:D});searchPlaceholderText=s("Select an option");loadingText=s("Loading options...");emptyText=s("No options found");ariaLabelToggleButton=s("Toggle options");inputId=s(`hlm-autocomplete-input-${++o._id}`);disabled=s(!1,{transform:D});_disabled=X(()=>this.disabled());valueChange=$();searchChange=$();_onChange;_onTouched;constructor(){m(()=>{let t=this._search();this.searchChange.emit(t)})}_searchChanged(t){let e=t.target.value;this.search.set(e??""),!this._brnAutocomplete().isExpanded()&&e.length>0&&this._brnAutocomplete().open()}_toggleOptions(){(this._search()||this.filteredOptions().length>0)&&this._brnAutocomplete().toggle(),this._inputRef().nativeElement.focus()}_selectionCleared(){this.value.set(void 0),this._onChange?.(null),this.valueChange.emit(null),this.search.set("")}_optionSelected(t){let e=this.transformOptionToValue(),r=e?e(t):t;this.value.set(r),this._onChange?.(r),this.valueChange.emit(r);let i=this._displaySearchValue()(r);this.search.set(i??""),this._brnAutocomplete().close()}writeValue(t){this.value.set(t||void 0);let e=t?this._displaySearchValue()(t):"";this.search.set(e)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled.set(t)}_closed(){if(this.requireSelection()){let t=this.value(),e=t?this._displaySearchValue()(t):"";this.search.set(e??"")}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["hlm-autocomplete"]],viewQuery:function(e,r){e&1&&(Gt(r._brnAutocomplete,Ae,5),Gt(r._inputRef,ls,5,F)),e&2&&Dt(2)},hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"],autocompleteSearchClass:[1,"autocompleteSearchClass"],autocompleteInputClass:[1,"autocompleteInputClass"],autocompleteListClass:[1,"autocompleteListClass"],autocompleteItemClass:[1,"autocompleteItemClass"],autocompleteEmptyClass:[1,"autocompleteEmptyClass"],filteredOptions:[1,"filteredOptions"],value:[1,"value"],debounceTime:[1,"debounceTime"],search:[1,"search"],transformValueToSearch:[1,"transformValueToSearch"],requireSelection:[1,"requireSelection"],transformOptionToString:[1,"transformOptionToString"],transformOptionToValue:[1,"transformOptionToValue"],displayWith:[1,"displayWith"],optionTemplate:[1,"optionTemplate"],loading:[1,"loading"],showClearBtn:[1,"showClearBtn"],searchPlaceholderText:[1,"searchPlaceholderText"],loadingText:[1,"loadingText"],emptyText:[1,"emptyText"],ariaLabelToggleButton:[1,"ariaLabelToggleButton"],inputId:[1,"inputId"],disabled:[1,"disabled"]},outputs:{value:"valueChange",search:"searchChange",valueChange:"valueChange",searchChange:"searchChange"},features:[f([ys,K({lucideSearch:Or,lucideChevronDown:Ir,lucideCircleX:Tr})])],ngContentSelectors:ds,decls:14,vars:14,consts:[["popover",""],["input",""],["align","start","autoFocus","first-heading","sideOffset","5","closeDelay","100",3,"closed","closeOnOutsidePointerEvents"],["brnAutocomplete","",3,"selectionCleared"],["hlmInputGroup","","hlmAutocompleteTrigger","",3,"disabledTrigger"],["brnAutocompleteSearchInput","","hlmInputGroupInput","","type","text","autocomplete","off",3,"input","id","placeholder","disabled","value"],["hlmInputGroupAddon",""],["name","lucideSearch"],["hlmInputGroupAddon","","align","inline-end"],["hlmInputGroupButton","","type","button","tabindex","-1","aria-label","clear","size","icon-xs",3,"disabled"],["hlmInputGroupButton","","type","button","tabindex","-1","size","icon-xs",3,"click","disabled"],["name","lucideChevronDown"],["hlmPopoverContent","","class","p-0",3,"width",4,"brnPopoverContent"],["hlmInputGroupButton","","type","button","tabindex","-1","aria-label","clear","size","icon-xs",3,"click","disabled"],["name","lucideCircleX"],["hlmPopoverContent","",1,"p-0"],["hlm-autocomplete-item","",3,"class","value"],["hlmAutocompleteEmpty","",3,"class",4,"brnAutocompleteEmpty"],["hlm-autocomplete-item","",3,"selected","value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["hlmAutocompleteEmpty",""]],template:function(e,r){if(e&1){let i=ot();A(hs),ir(0),w(1,"brn-popover",2,0),M("closed",function(){return I(i),T(r._closed())}),w(3,"div",3),M("selectionCleared",function(){return I(i),T(r._selectionCleared())}),w(4,"div",4)(5,"input",5,1),M("input",function(S){return I(i),T(r._searchChanged(S))}),u(),w(7,"div",6),L(8,"ng-icon",7),u(),w(9,"div",8),Z(10,ps,2,1,"button",9),w(11,"button",10),M("click",function(){return I(i),T(r._toggleOptions())}),L(12,"ng-icon",11),u()()(),mt(13,fs,6,6,"div",12),u()()}e&2&&(sr(r.transformOptionToValue()),v(),B("closeOnOutsidePointerEvents",!0),v(3),p(r._computedAutocompleteSearchClass()),B("disabledTrigger",!r._search()||r._disabled()),v(),p(r._computedAutocompleteInputClass()),B("id",r.inputId())("placeholder",r.searchPlaceholderText())("disabled",r._disabled())("value",r.search()),v(5),U(r.showClearBtn()&&r.value()!==void 0?10:-1),v(),B("disabled",r._disabled()),C("aria-label",r.ariaLabelToggleButton()))},dependencies:[gr,Ae,fn,So,Io,To,Lo,Ro,De,Mn,Vo,J,Po,Fo,Eo,Oo,jn],encapsulation:2,changeDetection:0})}return o})();var Bs=W("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",{variants:{},defaultVariants:{}}),No=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h(Bs(),this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmCard",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();var zo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("px-2",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmCardContent",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();var Zo=(()=>{class o{userClass=s("",{alias:"class"});_computedClass=l(()=>h("leading-none font-semibold",this.userClass()));static \u0275fac=function(e){return new(e||o)};static \u0275dir=d({type:o,selectors:[["","hlmCardTitle",""]],hostVars:2,hostBindings:function(e,r){e&2&&p(r._computedClass())},inputs:{userClass:[1,"class","userClass"]}})}return o})();function bs(o,n){if(o&1){let t=ot();w(0,"input",7),M("ngModelChange",function(r){I(t);let i=_();return T(i.editingName.set(r))})("blur",function(){I(t);let r=_();return T(r.saveInline())})("keydown.enter",function(r){I(t);let i=_();return r.preventDefault(),T(i.saveInline())})("keydown.escape",function(){I(t);let r=_();return T(r.cancelEdit())}),u()}if(o&2){let t=_();B("id",lr("edit-",t.item().id))("ngModel",t.editingName())}}function Hs(o,n){if(o&1){let t=ot();w(0,"div",5)(1,"h3",8),M("click",function(){I(t);let r=_();return T(r.startEdit())}),H(2),u()()}if(o&2){let t=_();v(2),q(" ",t.item().product_name," ")}}var Sn=(()=>{class o{service=a(He);item=s.required();itemUpdated=$();itemDeleted=$();busyCount=g(0);busy=l(()=>this.busyCount()>0);editingName=g(null);isEditing=l(()=>this.editingName()!==null);toggleItem(){let t=this.item();this.busyCount.update(e=>e+1),this.service.toggleItem(t.id,!t.active).pipe(Nt(()=>this.busyCount.update(e=>e-1))).subscribe({next:()=>this.itemUpdated.emit(),error:e=>console.error("Toggle error:",e)})}onBasketToggle(t){let e=this.item(),r=t==="on";e.active!==r&&(this.busyCount.update(i=>i+1),this.service.toggleItem(e.id,r).pipe(Nt(()=>this.busyCount.update(i=>i-1))).subscribe({next:()=>this.itemUpdated.emit(),error:i=>console.error("Toggle error:",i)}))}deleteItem(){if(!confirm("Are you sure you want to delete this item?"))return;let t=this.item();this.busyCount.update(e=>e+1),this.service.deleteItem(t.id).pipe(Nt(()=>this.busyCount.update(e=>e-1))).subscribe({next:()=>this.itemDeleted.emit(),error:e=>console.error("Delete error:",e)})}startEdit(){this.editingName.set(this.item().product_name??""),setTimeout(()=>{let t=document.getElementById("edit-"+this.item().id);t?.focus(),t?.select()},0)}saveInline(){let t=(this.editingName()||"").trim(),e=this.item();if(t===(e.product_name??"").trim()){this.cancelEdit();return}this.busyCount.update(r=>r+1),this.service.updateItem(e.id,{product_name:t}).pipe(Nt(()=>{this.busyCount.update(r=>r-1),this.cancelEdit()})).subscribe({next:()=>this.itemUpdated.emit(),error:r=>console.error("Update error:",r)})}cancelEdit(){this.editingName.set(null)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["lib-shopping-list-item-card"]],inputs:{item:[1,"item"]},outputs:{itemUpdated:"itemUpdated",itemDeleted:"itemDeleted"},features:[f([K({lucideTrash:zr})])],decls:7,vars:4,consts:[["hlmCard","",1,"group","p-2","sm:p-3","relative"],["hlmCardContent",""],[1,"flex","items-center","gap-3","w-full"],[1,"flex-1","min-w-0"],["hlmInput","",1,"w-full",3,"id","ngModel"],[1,"h-8","flex","items-center"],["size","sm","variant","outline",1,"ml-auto",3,"stateChange","state"],["hlmInput","",1,"w-full",3,"ngModelChange","blur","keydown.enter","keydown.escape","id","ngModel"],["hlmCardTitle","",1,"truncate","cursor-pointer","hover:text-primary",3,"click"]],template:function(e,r){e&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Z(4,bs,1,3,"input",4)(5,Hs,3,1,"div",5),u(),w(6,"gh-shopping-basket-toggle",6),M("stateChange",function(c){return r.onBasketToggle(c)}),u()()()()),e&2&&(rt("opacity-60",!r.item().active),v(4),U(r.isEditing()?4:5),v(2),B("state",r.item().active?"on":"off"))},dependencies:[ie,Tt,pe,ue,ge,No,Zo,zo,at,Wr],encapsulation:2,changeDetection:0})}return o})();var Ds=(o,n)=>n.id;function As(o,n){o&1&&(w(0,"div",10),L(1,"hlm-spinner",17),u())}function Vs(o,n){if(o&1&&L(0,"lib-shopping-list-item-card",16),o&2){let t=n.$implicit;B("item",t)}}var In=(()=>{class o{service=a(He);newItemName=g("");items=this.service.items;addingItem=g(!1);loading=l(()=>this.addingItem());sortedItems=l(()=>(this.items()??[]).slice().sort((e,r)=>{if(e.active===r.active){let i=e.active_changed?new Date(e.active_changed).getTime():0;return(r.active_changed?new Date(r.active_changed).getTime():0)-i}return e.active?-1:1}));filteredOptions=l(()=>(this.items()??[]).filter(e=>!e.active&&e.product_name.toLowerCase().includes(this.newItemName().toLowerCase())));handleSearch(t){let e=this.items().find(r=>r.product_name===t);!e||e.active||(this.service.toggleItem(e.id,!0).subscribe(),this.clearAutocomplete())}clearAutocomplete(){this.newItemName.set("")}focusAddInput(){try{document.getElementById("add-input")?.focus()}catch{}}addItem(){let t=this.newItemName();t&&(this.addingItem.set(!0),this.service.addItem(t,void 0).subscribe({next:()=>{this.clearAutocomplete(),this.addingItem.set(!1)},error:e=>{console.error("Add item error:",e),this.addingItem.set(!1)}}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["lib-sl-dashboard"]],features:[f([K({lucideShoppingCart:Nr,lucidePlus:Er}),An({transformOptionToString:t=>t.product_name,transformOptionToValue:t=>t.product_name})])],decls:23,vars:10,consts:[[1,"h-dvh","flex","flex-col","gap-4"],["hlmCard","",1,"w-full","rounded-none","flex-initial"],[1,"mx-auto","px-4","py-3","flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"p-2","bg-primary/10","rounded-lg"],["hlm","","name","lucideShoppingCart","size","sm",1,"text-primary"],[1,"text-lg","font-semibold"],[1,"flex","items-center","gap-2"],[1,"flex-1","flex","flex-col","gap-4","overflow-hidden","py-4"],[1,"flex","sm:flex-row","gap-2","items-stretch","sm:items-center","relative","px-4",3,"ngSubmit"],[1,"absolute","inset-0","bg-background/50","flex","justify-center","items-center","z-10","rounded-lg"],[3,"searchChange","valueChange","keydown.enter","searchPlaceholderText","filteredOptions","search","autocompleteEmptyClass"],["hlmBtn","","size","icon","variant","default","type","submit"],["hlm","","name","lucidePlus","size","sm"],[1,"flex-1","overflow-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4","px-4"],[3,"item"],["size","large"]],template:function(e,r){e&1&&(w(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),L(5,"ng-icon",5),u(),w(6,"h1",6),H(7),R(8,"transloco"),u()(),w(9,"div",7),L(10,"gh-language-switcher")(11,"gh-user-avatar"),u()()(),w(12,"main",8)(13,"form",9),M("ngSubmit",function(){return r.addItem()}),Z(14,As,2,0,"div",10),w(15,"hlm-autocomplete",11),R(16,"transloco"),_t("searchChange",function(c){return Mt(r.newItemName,c)||(r.newItemName=c),c}),M("valueChange",function(c){return r.handleSearch(c)})("keydown.enter",function(){return r.addItem()}),u(),w(17,"button",12),L(18,"ng-icon",13),u()(),w(19,"section",14)(20,"div",15),oe(21,Vs,1,1,"lib-shopping-list-item-card",16,Ds),u()()()()),e&2&&(v(7),Q(N(8,6,"shoppingList.title")),v(7),U(r.loading()?14:-1),v(),B("searchPlaceholderText",N(16,8,"shoppingList.searchPlaceholder"))("filteredOptions",r.filteredOptions()),xt("search",r.newItemName),B("autocompleteEmptyClass","hidden"),v(6),re(r.sortedItems()))},dependencies:[ie,Tt,Vr,Ar,It,dt,tt,J,Xt,Se,Sn,le,_r,xn,ae],encapsulation:2,changeDetection:0})}return o})();var qu=[{path:"dashboard",component:In},{path:"**",redirectTo:"dashboard"}];export{Wr as ShoppingBasketToggleComponent,He as ShoppingListService,xn as UserAvatarComponent,qu as shoppingListRoutes};
