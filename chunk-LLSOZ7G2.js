import{a as w,b as V,d as Nn,e as M_,f as A_,h as Lp,i as Fp,l as R_,m as jp}from"./chunk-BUCGFPOZ.js";var dp=Nn(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});var up=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lp.default=up});var hp=Nn(Ds=>{"use strict";var gD=Ds&&Ds.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ds,"__esModule",{value:!0});var FR=gD((jp(),A_(R_))),jR=gD(dp()),fp=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let C=await i.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}let g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new jR.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};Ds.default=fp});var gp=Nn(_s=>{"use strict";var UR=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_s,"__esModule",{value:!0});var $R=UR(hp()),pp=class extends $R.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_s.default=pp});var _u=Nn(bs=>{"use strict";var BR=bs&&bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});var VR=BR(gp()),mp=class extends VR.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bs.default=mp});var yp=Nn(Cs=>{"use strict";var HR=Cs&&Cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});var Is=HR(_u()),vp=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Is.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Is.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Is.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Is.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Is.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Cs.default=vp});var vD=Nn(Ts=>{"use strict";var mD=Ts&&Ts.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ts,"__esModule",{value:!0});var zR=mD(yp()),qR=mD(_u()),wp=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new zR.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new qR.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Ts.default=wp});var ID=Nn(be=>{"use strict";var Uo=be&&be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(be,"__esModule",{value:!0});be.PostgrestError=be.PostgrestBuilder=be.PostgrestTransformBuilder=be.PostgrestFilterBuilder=be.PostgrestQueryBuilder=be.PostgrestClient=void 0;var yD=Uo(vD());be.PostgrestClient=yD.default;var wD=Uo(yp());be.PostgrestQueryBuilder=wD.default;var ED=Uo(_u());be.PostgrestFilterBuilder=ED.default;var DD=Uo(gp());be.PostgrestTransformBuilder=DD.default;var _D=Uo(hp());be.PostgrestBuilder=_D.default;var bD=Uo(dp());be.PostgrestError=bD.default;be.default={PostgrestClient:yD.default,PostgrestQueryBuilder:wD.default,PostgrestFilterBuilder:ED.default,PostgrestTransformBuilder:DD.default,PostgrestBuilder:_D.default,PostgrestError:bD.default}});var Ku;function Hs(){return Ku}function pt(e){let t=Ku;return Ku=e,t}var Up=Symbol("NotFound");function Rr(e){return e===Up||e?.name==="\u0275NotFound"}function Zo(e,t){return Object.is(e,t)}var Ie=null,zs=!1,Zu=1,N_=null,se=Symbol("SIGNAL");function R(e){let t=Ie;return Ie=e,t}function qs(){return Ie}var en={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tn(e){if(zs)throw new Error("");if(Ie===null)return;Ie.consumerOnSignalRead(e);let t=Ie.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ie.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ie.producers,n!==void 0&&n.producer===e)){Ie.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Ie&&(!r||O_(o,Ie)))return;let i=Or(Ie),s={producer:e,consumer:Ie,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Ie.producersTail=s,t!==void 0?t.nextProducer=s:Ie.producers=s,i&&Hp(e,s)}function $p(){Zu++}function On(e){if(!(Or(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Zu)){if(!e.producerMustRecompute(e)&&!xr(e)){Nr(e);return}e.producerRecomputeValue(e),Nr(e)}}function Yu(e){if(e.consumers===void 0)return;let t=zs;zs=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||x_(r)}}finally{zs=t}}function Ju(){return Ie?.consumerAllowSignalWrites!==!1}function x_(e){e.dirty=!0,Yu(e),e.consumerMarkedDirty?.(e)}function Nr(e){e.dirty=!1,e.lastCleanEpoch=Zu}function nn(e){return e&&Bp(e),R(e)}function Bp(e){e.producersTail=void 0,e.recomputing=!0}function kn(e,t){R(t),e&&Vp(e)}function Vp(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Or(e))do n=Qu(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function xr(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(On(n),r!==n.version))return!0}return!1}function Pn(e){if(Or(e)){let t=e.producers;for(;t!==void 0;)t=Qu(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Hp(e,t){let n=e.consumersTail,r=Or(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)Hp(o.producer,o)}function Qu(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!Or(t)){let i=t.producers;for(;i!==void 0;)i=Qu(i)}return n}function Or(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Yo(e){N_?.(e)}function O_(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Jo(e,t){let n=Object.create(k_);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(On(n),tn(n),n.value===kt)throw n.error;return n.value};return r[se]=n,Yo(n),r}var Xt=Symbol("UNSET"),xn=Symbol("COMPUTING"),kt=Symbol("ERRORED"),k_=V(w({},en),{value:Xt,dirty:!0,error:null,equal:Zo,kind:"computed",producerMustRecompute(e){return e.value===Xt||e.value===xn},producerRecomputeValue(e){if(e.value===xn)throw new Error("");let t=e.value;e.value=xn;let n=nn(e),r,o=!1;try{r=e.computation(),R(null),o=t!==Xt&&t!==kt&&r!==kt&&e.equal(t,r)}catch(i){r=kt,e.error=i}finally{kn(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function P_(){throw new Error}var zp=P_;function qp(e){zp(e)}function Xu(e){zp=e}var L_=null;function el(e,t){let n=Object.create(Ws);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Gp(n);return r[se]=n,Yo(n),[r,s=>rn(n,s),s=>Gs(n,s)]}function Gp(e){return tn(e),e.value}function rn(e,t){Ju()||qp(e),e.equal(e.value,t)||(e.value=t,F_(e))}function Gs(e,t){Ju()||qp(e),rn(e,t(e.value))}var Ws=V(w({},en),{equal:Zo,value:void 0,kind:"signal"});function F_(e){e.version++,$p(),Yu(e),L_?.(e)}function A(e){return typeof e=="function"}function kr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ks=kr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ln(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Q=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(i){t=i instanceof Ks?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Wp(i)}catch(s){t=t??[],s instanceof Ks?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ks(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Wp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ln(n,t)}remove(t){let{_finalizers:n}=this;n&&Ln(n,t),t instanceof e&&t._removeParent(this)}};Q.EMPTY=(()=>{let e=new Q;return e.closed=!0,e})();var tl=Q.EMPTY;function Zs(e){return e instanceof Q||e&&"closed"in e&&A(e.remove)&&A(e.add)&&A(e.unsubscribe)}function Wp(e){A(e)?e():e.unsubscribe()}var tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pr={setTimeout(e,t,...n){let{delegate:r}=Pr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Pr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ys(e){Pr.setTimeout(()=>{let{onUnhandledError:t}=tt;if(t)t(e);else throw e})}function Qo(){}var Kp=nl("C",void 0,void 0);function Zp(e){return nl("E",void 0,e)}function Yp(e){return nl("N",e,void 0)}function nl(e,t,n){return{kind:e,value:t,error:n}}var Fn=null;function Lr(e){if(tt.useDeprecatedSynchronousErrorHandling){let t=!Fn;if(t&&(Fn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Fn;if(Fn=null,n)throw r}}else e()}function Jp(e){tt.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=e)}var jn=class extends Q{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Zs(t)&&t.add(this)):this.destination=$_}static create(t,n,r){return new Pt(t,n,r)}next(t){this.isStopped?ol(Yp(t),this):this._next(t)}error(t){this.isStopped?ol(Zp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ol(Kp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},j_=Function.prototype.bind;function rl(e,t){return j_.call(e,t)}var il=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Js(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Js(r)}else Js(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Js(n)}}},Pt=class extends jn{constructor(t,n,r){super();let o;if(A(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&tt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&rl(t.next,i),error:t.error&&rl(t.error,i),complete:t.complete&&rl(t.complete,i)}):o=t}this.destination=new il(o)}};function Js(e){tt.useDeprecatedSynchronousErrorHandling?Jp(e):Ys(e)}function U_(e){throw e}function ol(e,t){let{onStoppedNotification:n}=tt;n&&Pr.setTimeout(()=>n(e,t))}var $_={closed:!0,next:Qo,error:U_,complete:Qo};var Fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Se(e){return e}function sl(...e){return al(e)}function al(e){return e.length===0?Se:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var F=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=V_(n)?n:new Pt(n,r,o);return Lr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Qp(r),new r((o,i)=>{let s=new Pt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fr](){return this}pipe(...n){return al(n)(this)}toPromise(n){return n=Qp(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Qp(e){var t;return(t=e??tt.Promise)!==null&&t!==void 0?t:Promise}function B_(e){return e&&A(e.next)&&A(e.error)&&A(e.complete)}function V_(e){return e&&e instanceof jn||B_(e)&&Zs(e)}function cl(e){return A(e?.lift)}function P(e){return t=>{if(cl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(e,t,n,r,o){return new ul(e,t,n,r,o)}var ul=class extends jn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function jr(){return P((e,t)=>{let n=null;e._refCount++;let r=O(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ur=class extends F{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Q;let n=this.getSubject();t.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Q.EMPTY)}return t}refCount(){return jr()(this)}};var $r={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=$r;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);let o=t(i=>{n=void 0,e(i)});return new Q(()=>n?.(o))},requestAnimationFrame(...e){let{delegate:t}=$r;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=$r;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var Xp=kr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class e extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xp}next(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?tl:(this.currentObservers=null,i.push(n),new Q(()=>{this.currentObservers=null,Ln(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return e.create=(t,n)=>new Qs(t,n),e})(),Qs=class extends ne{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:tl}};var De=class extends ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Xo={now(){return(Xo.delegate||Date).now()},delegate:void 0};var ei=class extends ne{constructor(t=1/0,n=1/0,r=Xo){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Xs=class extends Q{constructor(t,n){super()}schedule(t,n=0){return this}};var ti={setInterval(e,t,...n){let{delegate:r}=ti;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ti;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var on=class extends Xs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return ti.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ti.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ln(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var H_=1,ll,dl={};function eg(e){return e in dl?(delete dl[e],!0):!1}var tg={setImmediate(e){let t=H_++;return dl[t]=!0,ll||(ll=Promise.resolve()),ll.then(()=>eg(t)&&e()),t},clearImmediate(e){eg(e)}};var{setImmediate:z_,clearImmediate:q_}=tg,ni={setImmediate(...e){let{delegate:t}=ni;return(t?.setImmediate||z_)(...e)},clearImmediate(e){let{delegate:t}=ni;return(t?.clearImmediate||q_)(e)},delegate:void 0};var ea=class extends on{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=ni.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:i}=t;n!=null&&((o=i[i.length-1])===null||o===void 0?void 0:o.id)!==n&&(ni.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}};var Br=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Br.now=Xo.now;var sn=class extends Br{constructor(t,n=Br.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var ta=class extends sn{flush(t){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,o;t=t||r.shift();do if(o=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw o}}};var G_=new ta(ea);var ri=new sn(on),ng=ri;var na=class extends on{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=$r.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:i}=t;n!=null&&n===t._scheduled&&((o=i[i.length-1])===null||o===void 0?void 0:o.id)!==n&&($r.cancelAnimationFrame(n),t._scheduled=void 0)}};var ra=class extends sn{flush(t){this._active=!0;let n;t?n=t.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,o;t=t||r.shift();do if(o=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw o}}};var W_=new ra(na);var xe=new F(e=>e.complete());function oa(e){return e&&A(e.schedule)}function rg(e){return e[e.length-1]}function ia(e){return A(rg(e))?e.pop():void 0}function an(e){return oa(rg(e))?e.pop():void 0}function ig(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function og(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Un(e){return this instanceof Un?(this.v=e,this):new Un(e)}function sg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(y){return new Promise(function(g,m){i.push([f,y,g,m])>1||c(f,y)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(y){h(i[0][3],y)}}function u(f){f.value instanceof Un?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ag(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof og=="function"?og(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Vr=e=>e&&typeof e.length=="number"&&typeof e!="function";function sa(e){return A(e?.then)}function aa(e){return A(e[Fr])}function ca(e){return Symbol.asyncIterator&&A(e?.[Symbol.asyncIterator])}function ua(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function K_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var la=K_();function da(e){return A(e?.[la])}function fa(e){return sg(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Un(n.read());if(o)return yield Un(void 0);yield yield Un(r)}}finally{n.releaseLock()}})}function ha(e){return A(e?.getReader)}function W(e){if(e instanceof F)return e;if(e!=null){if(aa(e))return Z_(e);if(Vr(e))return Y_(e);if(sa(e))return J_(e);if(ca(e))return cg(e);if(da(e))return Q_(e);if(ha(e))return X_(e)}throw ua(e)}function Z_(e){return new F(t=>{let n=e[Fr]();if(A(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Y_(e){return new F(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function J_(e){return new F(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ys)})}function Q_(e){return new F(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function cg(e){return new F(t=>{eb(e,t).catch(n=>t.error(n))})}function X_(e){return cg(fa(e))}function eb(e,t){var n,r,o,i;return ig(this,void 0,void 0,function*(){try{for(n=ag(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Oe(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function pa(e,t=0){return P((n,r)=>{n.subscribe(O(r,o=>Oe(r,e,()=>r.next(o),t),()=>Oe(r,e,()=>r.complete(),t),o=>Oe(r,e,()=>r.error(o),t)))})}function ga(e,t=0){return P((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ug(e,t){return W(e).pipe(ga(t),pa(t))}function lg(e,t){return W(e).pipe(ga(t),pa(t))}function dg(e,t){return new F(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function fg(e,t){return new F(n=>{let r;return Oe(n,t,()=>{r=e[la](),Oe(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>A(r?.return)&&r.return()})}function ma(e,t){if(!e)throw new Error("Iterable cannot be null");return new F(n=>{Oe(n,t,()=>{let r=e[Symbol.asyncIterator]();Oe(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function hg(e,t){return ma(fa(e),t)}function pg(e,t){if(e!=null){if(aa(e))return ug(e,t);if(Vr(e))return dg(e,t);if(sa(e))return lg(e,t);if(ca(e))return ma(e,t);if(da(e))return fg(e,t);if(ha(e))return hg(e,t)}throw ua(e)}function re(e,t){return t?pg(e,t):W(e)}function S(...e){let t=an(e);return re(e,t)}function Hr(e,t){let n=A(e)?e:()=>e,r=o=>o.error(n());return new F(t?o=>t.schedule(r,0,o):r)}function fl(e){return!!e&&(e instanceof F||A(e.lift)&&A(e.subscribe))}var Lt=kr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function gg(e){return e instanceof Date&&!isNaN(e)}function $(e,t){return P((n,r)=>{let o=0;n.subscribe(O(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:tb}=Array;function nb(e,t){return tb(t)?e(...t):e(t)}function zr(e){return $(t=>nb(e,t))}var{isArray:rb}=Array,{getPrototypeOf:ob,prototype:ib,keys:sb}=Object;function va(e){if(e.length===1){let t=e[0];if(rb(t))return{args:t,keys:null};if(ab(t)){let n=sb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ab(e){return e&&typeof e=="object"&&ob(e)===ib}function ya(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function oi(...e){let t=an(e),n=ia(e),{args:r,keys:o}=va(e);if(r.length===0)return re([],t);let i=new F(cb(r,t,o?s=>ya(o,s):Se));return n?i.pipe(zr(n)):i}function cb(e,t,n=Se){return r=>{mg(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)mg(t,()=>{let u=re(e[c],t),l=!1;u.subscribe(O(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mg(e,t,n){e?Oe(n,e,t):t()}function vg(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=y=>u<r?p(y):c.push(y),p=y=>{i&&t.next(y),u++;let g=!1;W(n(y,l++)).subscribe(O(t,m=>{o?.(m),i?f(m):t.next(m)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){let m=c.shift();s?Oe(t,s,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(O(t,f,()=>{d=!0,h()})),()=>{a?.()}}function ee(e,t,n=1/0){return A(t)?ee((r,o)=>$((i,s)=>t(r,i,o,s))(W(e(r,o))),n):(typeof t=="number"&&(n=t),P((r,o)=>vg(r,o,e,n)))}function qr(e=1/0){return ee(Se,e)}function yg(){return qr(1)}function Gr(...e){return yg()(re(e,an(e)))}function ii(e){return new F(t=>{W(e()).subscribe(t)})}function ub(...e){let t=ia(e),{args:n,keys:r}=va(e),o=new F(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;W(n[l]).subscribe(O(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?ya(r,a):a),i.complete())}))}});return t?o.pipe(zr(t)):o}var lb=["addListener","removeListener"],db=["addEventListener","removeEventListener"],fb=["on","off"];function hl(e,t,n,r){if(A(n)&&(r=n,n=void 0),r)return hl(e,t,n).pipe(zr(r));let[o,i]=gb(e)?db.map(s=>a=>e[s](t,a,n)):hb(e)?lb.map(wg(e,t)):pb(e)?fb.map(wg(e,t)):[];if(!o&&Vr(e))return ee(s=>hl(s,t,n))(W(e));if(!o)throw new TypeError("Invalid event target");return new F(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function wg(e,t){return n=>r=>e[n](t,r)}function hb(e){return A(e.addListener)&&A(e.removeListener)}function pb(e){return A(e.on)&&A(e.off)}function gb(e){return A(e.addEventListener)&&A(e.removeEventListener)}function Eg(e=0,t,n=ng){let r=-1;return t!=null&&(oa(t)?n=t:r=t),new F(o=>{let i=gg(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function le(e,t){return P((n,r)=>{let o=0;n.subscribe(O(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Dg(e){return P((t,n)=>{let r=!1,o=null,i=null,s=!1,a=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let u=o;o=null,n.next(u)}s&&n.complete()},c=()=>{i=null,s&&n.complete()};t.subscribe(O(n,u=>{r=!0,o=u,i||W(e(u)).subscribe(i=O(n,a,c))},()=>{s=!0,(!r||!i||i.closed)&&n.complete()}))})}function mb(e,t=ri){return Dg(()=>Eg(e,t))}function gt(e){return P((t,n)=>{let r=null,o=!1,i;r=t.subscribe(O(n,void 0,void 0,s=>{i=W(e(s,gt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function _g(e,t,n,r,o){return(i,s)=>{let a=n,c=t,u=0;i.subscribe(O(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function mt(e,t){return A(t)?ee(e,t,1):ee(e,1)}function vb(e,t=ri){return P((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(O(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function cn(e){return P((t,n)=>{let r=!1;t.subscribe(O(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Ft(e){return e<=0?()=>xe:P((t,n)=>{let r=0;t.subscribe(O(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function yb(e,t=Se){return e=e??wb,P((n,r)=>{let o,i=!0;n.subscribe(O(r,s=>{let a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function wb(e,t){return e===t}function wa(e=Eb){return P((t,n)=>{let r=!1;t.subscribe(O(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Eb(){return new Lt}function un(e){return P((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function jt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?le((o,i)=>e(o,i,r)):Se,Ft(1),n?cn(t):wa(()=>new Lt))}function Wr(e){return e<=0?()=>xe:P((t,n)=>{let r=[];t.subscribe(O(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function pl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?le((o,i)=>e(o,i,r)):Se,Wr(1),n?cn(t):wa(()=>new Lt))}function Db(){return P((e,t)=>{let n,r=!1;e.subscribe(O(t,o=>{let i=n;n=o,r&&t.next([i,o]),r=!0}))})}function gl(e,t){return P(_g(e,t,arguments.length>=2,!0))}function bg(e={}){let{connector:t=()=>new ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{let y=s;f(),y?.unsubscribe()};return P((y,g)=>{u++,!d&&!l&&h();let m=c=c??t();g.add(()=>{u--,u===0&&!d&&!l&&(a=ml(p,o))}),m.subscribe(g),!s&&u>0&&(s=new Pt({next:C=>m.next(C),error:C=>{d=!0,h(),a=ml(f,n,C),m.error(C)},complete:()=>{l=!0,h(),a=ml(f,r),m.complete()}}),W(y).subscribe(s))})(i)}}function ml(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Pt({next:()=>{r.unsubscribe(),e()}});return W(t(...n)).subscribe(r)}function _b(e,t,n){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e:r=e??1/0,bg({connector:()=>new ei(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function bb(e){return le((t,n)=>e<=n)}function vl(...e){let t=an(e);return P((n,r)=>{(t?Gr(e,n,t):Gr(e,n)).subscribe(r)})}function ye(e,t){return P((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(O(r,c=>{o?.unsubscribe();let u=0,l=i++;W(e(c,l)).subscribe(o=O(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ea(e){return P((t,n)=>{W(e).subscribe(O(n,()=>n.complete(),Qo)),!n.closed&&t.subscribe(n)})}function de(e,t,n){let r=A(e)||t||n?{next:e,error:t,complete:n}:e;return r?P((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(O(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Se}function yl(e,t,n){let r=Object.create(Ib);r.source=e,r.computation=t,n!=null&&(r.equal=n);let i=()=>{if(On(r),tn(r),r.value===kt)throw r.error;return r.value};return i[se]=r,Yo(r),i}function Ig(e,t){On(e),rn(e,t),Nr(e)}function Cg(e,t){On(e),Gs(e,t),Nr(e)}var Ib=V(w({},en),{value:Xt,dirty:!0,error:null,equal:Zo,kind:"linkedSignal",producerMustRecompute(e){return e.value===Xt||e.value===xn},producerRecomputeValue(e){if(e.value===xn)throw new Error("");let t=e.value;e.value=xn;let n=nn(e),r;try{let o=e.source(),i=t===Xt||t===kt?void 0:{source:e.sourceValue,value:t};r=e.computation(o,i),e.sourceValue=o}catch(o){r=kt,e.error=o}finally{kn(e,n)}if(t!==Xt&&r!==kt&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function Tg(e){let t=R(null);try{return e()}finally{R(t)}}var Sg=V(w({},en),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Mg(e){if(e.dirty=!1,e.version>0&&!xr(e))return;e.version++;let t=nn(e);try{e.cleanup(),e.fn()}finally{kn(e,t)}}var Ia="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,n){super(dn(t,n)),this.code=t}};function Cb(e){return`NG0${Math.abs(e)}`}function dn(e,t){return`${Cb(e)}${t?": "+t:""}`}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function Ng(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $t(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($t).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ca(e,t){return e?t?`${e} ${t}`:e:t||""}var Tb=z({__forward_ref__:z});function Ta(e){return e.__forward_ref__=Ta,e.toString=function(){return $t(this())},e}function fe(e){return Rl(e)?e():e}function Rl(e){return typeof e=="function"&&e.hasOwnProperty(Tb)&&e.__forward_ref__===Ta}function _(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bt(e){return{providers:e.providers||[],imports:e.imports||[]}}function li(e){return Sb(e,Sa)}function Nl(e){return li(e)!==null}function Sb(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Mb(e){let t=e?.[Sa]??null;return t||null}function El(e){return e&&e.hasOwnProperty(_a)?e[_a]:null}var Sa=z({\u0275prov:z}),_a=z({\u0275inj:z}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=_({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xl(e){return e&&!!e.\u0275providers}var Ol=z({\u0275cmp:z}),kl=z({\u0275dir:z}),Pl=z({\u0275pipe:z}),Ll=z({\u0275mod:z}),ai=z({\u0275fac:z}),qn=z({__NG_ELEMENT_ID__:z}),Ag=z({__NG_ENV_ID__:z});function di(e){return typeof e=="string"?e:e==null?"":String(e)}function xg(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():di(e)}var Og=z({ngErrorCode:z}),Ab=z({ngErrorMessage:z}),Rb=z({ngTokenPath:z});function Fl(e,t){return kg("",-200,t)}function Ma(e,t){throw new D(-201,!1)}function kg(e,t,n){let r=new D(t,e);return r[Og]=t,r[Ab]=e,n&&(r[Rb]=n),r}function Nb(e){return e[Og]}var Dl;function Pg(){return Dl}function Le(e){let t=Dl;return Dl=e,t}function jl(e,t,n){let r=li(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ma(e,"Injector")}var xb={},$n=xb,_l="__NG_DI_FLAG__",bl=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Bn(n)||0;try{return this.injector.get(t,r&8?null:$n,r)}catch(o){if(Rr(o))return o;throw o}}};function Ob(e,t=0){let n=Hs();if(n===void 0)throw new D(-203,!1);if(n===null)return jl(e,void 0,t);{let r=kb(t),o=n.retrieve(e,r);if(Rr(o)){if(r.optional)return null;throw o}return o}}function T(e,t=0){return(Pg()||Ob)(fe(e),t)}function v(e,t){return T(e,Bn(t))}function Bn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function kb(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Il(e){let t=[];for(let n=0;n<e.length;n++){let r=fe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=Pb(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(T(o,i))}else t.push(T(r))}return t}function Ul(e,t){return e[_l]=t,e.prototype[_l]=t,e}function Pb(e){return e[_l]}function Vn(e,t){let n=e.hasOwnProperty(ai);return n?e[ai]:null}function Lg(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Fg(e){return e.flat(Number.POSITIVE_INFINITY)}function Aa(e,t){e.forEach(n=>Array.isArray(n)?Aa(n,t):t(n))}function $l(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function jg(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Ug(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function Ra(e,t,n){let r=Zr(e,t);return r>=0?e[r|1]=n:(r=~r,Ug(e,r,t,n)),r}function Na(e,t){let n=Zr(e,t);if(n>=0)return e[n|1]}function Zr(e,t){return Lb(e,t,1)}function Lb(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var nt={},Ce=[],fn=new b(""),Bl=new b("",-1),Vl=new b(""),ci=class{get(t,n=$n){if(n===$n){let o=kg("",-201);throw o.name="\u0275NotFound",o}return n}};function Hl(e){return e[Ll]||null}function vt(e){return e[Ol]||null}function xa(e){return e[kl]||null}function $g(e){return e[Pl]||null}function hn(e){return{\u0275providers:e}}function Bg(...e){return{\u0275providers:zl(!0,e),\u0275fromNgModule:!0}}function zl(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Aa(t,s=>{let a=s;ba(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Vg(o,i),n}function Vg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];ql(o,i=>{t(i,r)})}}function ba(e,t,n,r){if(e=fe(e),!e)return!1;let o=null,i=El(e),s=!i&&vt(e);if(!i&&!s){let c=e.ngModule;if(i=El(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)ba(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Aa(i.imports,l=>{ba(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Vg(u,t)}if(!a){let u=Vn(o)||(()=>new o);t({provide:o,useFactory:u,deps:Ce},o),t({provide:Vl,useValue:o,multi:!0},o),t({provide:fn,useValue:()=>T(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;ql(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function ql(e,t){for(let n of e)xl(n)&&(n=n.\u0275providers),Array.isArray(n)?ql(n,t):t(n)}var Fb=z({provide:String,useValue:z});function Hg(e){return e!==null&&typeof e=="object"&&Fb in e}function jb(e){return!!(e&&e.useExisting)}function Ub(e){return!!(e&&e.useFactory)}function Hn(e){return typeof e=="function"}function zg(e){return!!e.useClass}var hi=new b(""),Da={},Rg={},wl;function Yr(){return wl===void 0&&(wl=new ci),wl}var ae=class{},zn=class extends ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Tl(t,s=>this.processProvider(s)),this.records.set(Bl,Kr(void 0,this)),o.has("environment")&&this.records.set(ae,Kr(void 0,this));let i=this.records.get(hi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Vl,Ce,{self:!0}))}retrieve(t,n){let r=Bn(n)||0;try{return this.get(t,$n,r)}catch(o){if(Rr(o))return o;throw o}}destroy(){si(this),this._destroyed=!0;let t=R(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(t)}}onDestroy(t){return si(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){si(this);let n=pt(this),r=Le(void 0),o;try{return t()}finally{pt(n),Le(r)}}get(t,n=$n,r){if(si(this),t.hasOwnProperty(Ag))return t[Ag](this);let o=Bn(r),i,s=pt(this),a=Le(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=zb(t)&&li(t);l&&this.injectableDefInScope(l)?u=Kr(Cl(t),Da):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?Yr():this.parent;return n=o&8&&n===$n?null:n,c.get(t,n)}catch(c){let u=Nb(c);throw u===-200||u===-201?new D(u,null):c}finally{Le(a),pt(s)}}resolveInjectorInitializers(){let t=R(null),n=pt(this),r=Le(void 0),o;try{let i=this.get(fn,Ce,{self:!0});for(let s of i)s()}finally{pt(n),Le(r),R(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push($t(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=fe(t);let n=Hn(t)?t:fe(t&&t.provide),r=Bb(t);if(!Hn(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Kr(void 0,Da,!0),o.factory=()=>Il(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=R(null);try{if(n.value===Rg)throw Fl($t(t));return n.value===Da&&(n.value=Rg,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Hb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{R(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=fe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cl(e){let t=li(e),n=t!==null?t.factory:Vn(e);if(n!==null)return n;if(e instanceof b)throw new D(204,!1);if(e instanceof Function)return $b(e);throw new D(204,!1)}function $b(e){if(e.length>0)throw new D(204,!1);let n=Mb(e);return n!==null?()=>n.factory(e):()=>new e}function Bb(e){if(Hg(e))return Kr(void 0,e.useValue);{let t=Gl(e);return Kr(t,Da)}}function Gl(e,t,n){let r;if(Hn(e)){let o=fe(e);return Vn(o)||Cl(o)}else if(Hg(e))r=()=>fe(e.useValue);else if(Ub(e))r=()=>e.useFactory(...Il(e.deps||[]));else if(jb(e))r=(o,i)=>T(fe(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=fe(e&&(e.useClass||e.provide));if(Vb(e))r=()=>new o(...Il(e.deps));else return Vn(o)||Cl(o)}return r}function si(e){if(e.destroyed)throw new D(205,!1)}function Kr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vb(e){return!!e.deps}function Hb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function zb(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Tl(e,t){for(let n of e)Array.isArray(n)?Tl(n,t):n&&xl(n)?Tl(n.\u0275providers,t):t(n)}function we(e,t){let n;e instanceof zn?(si(e),n=e):n=new bl(e);let r,o=pt(n),i=Le(void 0);try{return t()}finally{pt(o),Le(i)}}function qg(){return Pg()!==void 0||Hs()!=null}var rt=0,M=1,x=2,he=3,He=4,Me=5,Gn=6,Jr=7,ce=8,Qr=9,yt=10,K=11,Xr=12,Wl=13,Wn=14,Ae=15,pn=16,Kn=17,wt=18,pi=19,Kl=20,Ut=21,Oa=22,Vt=23,je=24,Zn=25,_e=26,te=27,Gg=1,Zl=6,gn=7,gi=8,Yn=9,ue=10;function Et(e){return Array.isArray(e)&&typeof e[Gg]=="object"}function ot(e){return Array.isArray(e)&&e[Gg]===!0}function Yl(e){return(e.flags&4)!==0}function mn(e){return e.componentOffset>-1}function eo(e){return(e.flags&1)===1}function it(e){return!!e.template}function to(e){return(e[x]&512)!==0}function Jn(e){return(e[x]&256)===256}var Jl="svg",Wg="math";function ze(e){for(;Array.isArray(e);)e=e[rt];return e}function Ql(e,t){return ze(t[e])}function st(e,t){return ze(t[e.index])}function mi(e,t){return e.data[t]}function Kg(e,t){return e[t]}function ka(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function qe(e,t){let n=t[e];return Et(n)?n:n[rt]}function Zg(e){return(e[x]&4)===4}function Pa(e){return(e[x]&128)===128}function Yg(e){return ot(e[he])}function Ge(e,t){return t==null?null:e[t]}function Xl(e){e[Kn]=0}function ed(e){e[x]&1024||(e[x]|=1024,Pa(e)&&vn(e))}function Jg(e,t){for(;e>0;)t=t[Wn],e--;return t}function vi(e){return!!(e[x]&9216||e[je]?.dirty)}function La(e){e[yt].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),vi(e)&&vn(e)}function vn(e){e[yt].changeDetectionScheduler?.notify(0);let t=ln(e);for(;t!==null&&!(t[x]&8192||(t[x]|=8192,!Pa(t)));)t=ln(t)}function td(e,t){if(Jn(e))throw new D(911,!1);e[Ut]===null&&(e[Ut]=[]),e[Ut].push(t)}function Qg(e,t){if(e[Ut]===null)return;let n=e[Ut].indexOf(t);n!==-1&&e[Ut].splice(n,1)}function ln(e){let t=e[he];return ot(t)?t[he]:t}function nd(e){return e[Jr]??=[]}function rd(e){return e.cleanup??=[]}function Xg(e,t,n,r){let o=nd(t);o.push(n),e.firstCreatePass&&rd(e).push(r,o.length-1)}var j={lFrame:fm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sl=!1;function em(){return j.lFrame.elementDepthCount}function tm(){j.lFrame.elementDepthCount++}function od(){j.lFrame.elementDepthCount--}function Fa(){return j.bindingsEnabled}function id(){return j.skipHydrationRootTNode!==null}function sd(e){return j.skipHydrationRootTNode===e}function ad(){j.skipHydrationRootTNode=null}function N(){return j.lFrame.lView}function Z(){return j.lFrame.tView}function nm(e){return j.lFrame.contextLView=e,e[ce]}function rm(e){return j.lFrame.contextLView=null,e}function pe(){let e=cd();for(;e!==null&&e.type===64;)e=e.parent;return e}function cd(){return j.lFrame.currentTNode}function om(){let e=j.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Qn(e,t){let n=j.lFrame;n.currentTNode=e,n.isParent=t}function ud(){return j.lFrame.isParent}function ld(){j.lFrame.isParent=!1}function im(){return j.lFrame.contextLView}function dd(){return Sl}function no(e){let t=Sl;return Sl=e,t}function fd(){let e=j.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function sm(e){return j.lFrame.bindingIndex=e}function yn(){return j.lFrame.bindingIndex++}function hd(e){let t=j.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function am(){return j.lFrame.inI18n}function cm(e,t){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=e,ja(t)}function um(){return j.lFrame.currentDirectiveIndex}function ja(e){j.lFrame.currentDirectiveIndex=e}function lm(e){let t=j.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Ua(){return j.lFrame.currentQueryIndex}function yi(e){j.lFrame.currentQueryIndex=e}function qb(e){let t=e[M];return t.type===2?t.declTNode:t.type===1?e[Me]:null}function pd(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=qb(i),o===null||(i=i[Wn],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=j.lFrame=dm();return r.currentTNode=t,r.lView=e,!0}function $a(e){let t=dm(),n=e[M];j.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function dm(){let e=j.lFrame,t=e===null?null:e.child;return t===null?fm(e):t}function fm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function hm(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var gd=hm;function Ba(){let e=hm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pm(e){return(j.lFrame.contextLView=Jg(e,j.lFrame.contextLView))[ce]}function Dt(){return j.lFrame.selectedIndex}function wn(e){j.lFrame.selectedIndex=e}function wi(){let e=j.lFrame;return mi(e.tView,e.selectedIndex)}function gm(){j.lFrame.currentNamespace=Jl}function mm(){Gb()}function Gb(){j.lFrame.currentNamespace=null}function vm(){return j.lFrame.currentNamespace}var ym=!0;function Va(){return ym}function Ei(e){ym=e}function Ml(e,t=null,n=null,r){let o=md(e,t,n,r);return o.resolveInjectorInitializers(),o}function md(e,t=null,n=null,r,o=new Set){let i=[n||Ce,Bg(e)];return r=r||(typeof e=="object"?void 0:$t(e)),new zn(i,t||Yr(),r||null,o)}var Te=class e{static THROW_IF_NOT_FOUND=$n;static NULL=new ci;static create(t,n){if(Array.isArray(t))return Ml({name:""},n,t,"");{let r=t.name??"";return Ml({name:r},t.parent,t.providers,r)}}static \u0275prov=_({token:e,providedIn:"any",factory:()=>T(Bl)});static __NG_ELEMENT_ID__=-1},oe=new b(""),We=(()=>{class e{static __NG_ELEMENT_ID__=Wb;static __NG_ENV_ID__=n=>n}return e})(),ui=class extends We{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Jn(this._lView)}onDestroy(t){let n=this._lView;return td(n,t),()=>Qg(n,t)}};function Wb(){return new ui(N())}var Fe=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ke=new b("",{providedIn:"root",factory:()=>{let e=v(ae),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Fe),t.handleError(n))}}}),wm={provide:fn,useValue:()=>void v(Fe),multi:!0};function vd(e){return typeof e=="function"&&e[se]!==void 0}function ke(e,t){let[n,r,o]=el(e,t?.equal),i=n,s=i[se];return i.set=r,i.update=o,i.asReadonly=ro.bind(i),i}function ro(){let e=this[se];if(e.readonlyFn===void 0){let t=()=>this();t[se]=e,e.readonlyFn=t}return e.readonlyFn}function yd(e){return vd(e)&&typeof e.set=="function"}var Ve=class{},Di=new b("",{providedIn:"root",factory:()=>!1});var wd=new b(""),Ha=new b("");var oo=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Kb}return e})();function Kb(){return new oo(N(),pe())}var _t=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new De(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new F(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),io=(()=>{class e{internalPendingTasks=v(_t);scheduler=v(Ve);errorHandler=v(Ke);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})();function Xn(...e){}var _i=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new Al})}return e})(),Al=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function go(e){return{toString:e}.toString()}var za="__parameters__";function eI(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function Jm(e,t,n){return go(()=>{let r=eI(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(za)?c[za]:Object.defineProperty(c,za,{value:[]})[za];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var tI=Ul(Jm("Inject",e=>({token:e})),-1),nI=Ul(Jm("Optional"),8);function rI(e){return typeof e=="function"}var Ya=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qm(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var mo=(()=>{let e=()=>Xm;return e.ngInherit=!0,e})();function Xm(e){return e.type.prototype.ngOnChanges&&(e.setInput=iI),oI}function oI(){let e=tv(this),t=e?.current;if(t){let n=e.previous;if(n===nt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function iI(e,t,n,r,o){let i=this.declaredInputs[r],s=tv(e)||sI(e,{previous:nt,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Ya(u&&u.currentValue,n,c===nt),Qm(e,t,o,n)}var ev="__ngSimpleChanges__";function tv(e){return e[ev]||null}function sI(e,t){return e[ev]=t}var Em=[];var q=function(e,t=null,n){for(let r=0;r<Em.length;r++){let o=Em[r];o(e,t,n)}};function aI(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Xm(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function nv(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function Ga(e,t,n){rv(e,t,3,n)}function Wa(e,t,n,r){(e[x]&3)===n&&rv(e,t,n,r)}function Ed(e,t){let n=e[x];(n&3)===t&&(n&=16383,n+=1,e[x]=n)}function rv(e,t,n,r){let o=r!==void 0?e[Kn]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Kn]+=65536),(a<i||i==-1)&&(cI(e,n,t,c),e[Kn]=(e[Kn]&4294901760)+c+2),c++}function Dm(e,t){q(4,e,t);let n=R(null);try{t.call(e)}finally{R(n),q(5,e,t)}}function cI(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[x]>>14<e[Kn]>>16&&(e[x]&3)===t&&(e[x]+=16384,Dm(a,i)):Dm(a,i)}var ao=-1,tr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function uI(e){return(e.flags&8)!==0}function lI(e){return(e.flags&16)!==0}function dI(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];fI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function ov(e){return e===3||e===4||e===6}function fI(e){return e.charCodeAt(0)===64}function co(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?_m(e,n,o,null,t[++r]):_m(e,n,o,null,null))}}return e}function _m(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function iv(e){return e!==ao}function Ja(e){return e&32767}function hI(e){return e>>16}function Qa(e,t){let n=hI(e),r=t;for(;n>0;)r=r[Wn],n--;return r}var Nd=!0;function bm(e){let t=Nd;return Nd=e,t}var pI=256,sv=pI-1,av=5,gI=0,bt={};function mI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(qn)&&(r=n[qn]),r==null&&(r=n[qn]=gI++);let o=r&sv,i=1<<o;t.data[e+(o>>av)]|=i}function Xa(e,t){let n=cv(e,t);if(n!==-1)return n;let r=t[M];r.firstCreatePass&&(e.injectorIndex=t.length,Dd(r.data,e),Dd(t,null),Dd(r.blueprint,null));let o=uf(e,t),i=e.injectorIndex;if(iv(o)){let s=Ja(o),a=Qa(o,t),c=a[M].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function Dd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function uf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=hv(o),r===null)return ao;if(n++,o=o[Wn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ao}function xd(e,t,n){mI(e,t,n)}function vI(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(ov(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function uv(e,t,n){if(n&8||e!==void 0)return e;Ma(t,"NodeInjector")}function lv(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Qr],i=Le(void 0);try{return o?o.get(t,r,n&8):jl(t,r,n&8)}finally{Le(i)}}return uv(r,t,n)}function dv(e,t,n,r=0,o){if(e!==null){if(t[x]&2048&&!(r&2)){let s=DI(e,t,n,r,bt);if(s!==bt)return s}let i=fv(e,t,n,r,bt);if(i!==bt)return i}return lv(t,n,r,o)}function fv(e,t,n,r,o){let i=wI(n);if(typeof i=="function"){if(!pd(t,e,r))return r&1?uv(o,n,r):lv(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Ma(n);else return s}finally{gd()}}else if(typeof i=="number"){let s=null,a=cv(e,t),c=ao,u=r&1?t[Ae][Me]:null;for((a===-1||r&4)&&(c=a===-1?uf(e,t):t[a+8],c===ao||!Cm(r,!1)?a=-1:(s=t[M],a=Ja(c),t=Qa(c,t)));a!==-1;){let l=t[M];if(Im(i,a,l.data)){let d=yI(a,t,n,s,r,u);if(d!==bt)return d}c=t[a+8],c!==ao&&Cm(r,t[M].data[a+8]===u)&&Im(i,a,t)?(s=l,a=Ja(c),t=Qa(c,t)):a=-1}}return o}function yI(e,t,n,r,o,i){let s=t[M],a=s.data[e+8],c=r==null?mn(a)&&Nd:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=Ka(a,s,n,c,u);return l!==null?Ci(t,s,l,a,o):bt}function Ka(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&it(f)&&f.type===n)return c}return null}function Ci(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof tr){let a=i;if(a.resolving){let f=xg(s[n]);throw Fl(f)}let c=bm(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Le(a.injectImpl):null,h=pd(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&aI(n,s[n],t)}finally{d!==null&&Le(d),bm(c),a.resolving=!1,gd()}}return i}function wI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(qn)?e[qn]:void 0;return typeof t=="number"?t>=0?t&sv:EI:t}function Im(e,t,n){let r=1<<e;return!!(n[t+(e>>av)]&r)}function Cm(e,t){return!(e&2)&&!(e&1&&t)}var er=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return dv(this._tNode,this._lView,t,Bn(r),n)}};function EI(){return new er(pe(),N())}function mc(e){return go(()=>{let t=e.prototype.constructor,n=t[ai]||Od(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ai]||Od(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Od(e){return Rl(e)?()=>{let t=Od(fe(e));return t&&t()}:Vn(e)}function DI(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[x]&2048&&!to(s);){let a=fv(i,s,n,r|2,bt);if(a!==bt)return a;let c=i.parent;if(!c){let u=s[Kl];if(u){let l=u.get(n,bt,r);if(l!==bt)return l}c=hv(s),s=s[Wn]}i=c}return o}function hv(e){let t=e[M],n=t.type;return n===2?t.declTNode:n===1?e[Me]:null}function vc(e){return vI(pe(),e)}function _I(){return vo(pe(),N())}function vo(e,t){return new qt(st(e,t))}var qt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=_I}return e})();function pv(e){return e instanceof qt?e.nativeElement:e}function bI(){return this._results[Symbol.iterator]()}var ec=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ne}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Fg(t);(this._changesDetected=!Lg(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bI};function gv(e){return(e.flags&128)===128}var lf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(lf||{}),mv=new Map,II=0;function CI(){return II++}function TI(e){mv.set(e[pi],e)}function kd(e){mv.delete(e[pi])}var Tm="__ngContext__";function uo(e,t){Et(t)?(e[Tm]=t[pi],TI(t)):e[Tm]=t}function vv(e){return wv(e[Xr])}function yv(e){return wv(e[He])}function wv(e){for(;e!==null&&!ot(e);)e=e[He];return e}var Pd;function df(e){Pd=e}function Ev(){if(Pd!==void 0)return Pd;if(typeof document<"u")return document;throw new D(210,!1)}var yc=new b("",{providedIn:"root",factory:()=>SI}),SI="ng",wc=new b(""),yo=new b("",{providedIn:"platform",factory:()=>"unknown"});var MI=new b(""),Ec=new b("",{providedIn:"root",factory:()=>Ev().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AI="h",RI="b";var Dv="r";var _v="di";var bv=!1,Iv=new b("",{providedIn:"root",factory:()=>bv});var ff=new b("");var NI=(e,t,n,r)=>{};function xI(e,t,n,r){NI(e,t,n,r)}function Dc(e){return(e.flags&32)===32}var OI=()=>null;function Cv(e,t,n=!1){return OI(e,t,n)}function Tv(e,t){let n=e.contentQueries;if(n!==null){let r=R(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];yi(i),a.contentQueries(2,t[s],s)}}}finally{R(r)}}}function Ld(e,t,n){yi(0);let r=R(null);try{t(e,n)}finally{R(r)}}function hf(e,t,n){if(Yl(t)){let r=R(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{R(r)}}}var Ht=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(Ht||{});var tc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ia})`}};function xi(e){return e instanceof tc?e.changingThisBreaksApplicationSecurity:e}function Sv(e,t){let n=Mv(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ia})`)}return n===t}function Mv(e){return e instanceof tc&&e.getTypeName()||null}var kI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Av(e){return e=String(e),e.match(kI)?e:"unsafe:"+e}var pf=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(pf||{});function PI(e){let t=LI();return t?t.sanitize(pf.URL,e)||"":Sv(e,"URL")?xi(e):Av(di(e))}function LI(){let e=N();return e&&e[yt].sanitizer}var FI=/^>|^->|<!--|-->|--!>|<!-$/g,jI=/(<|>)/g,UI="\u200B$1\u200B";function $I(e){return e.replace(FI,t=>t.replace(jI,UI))}function Rv(e){return e instanceof Function?e():e}function BI(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Nv="ng-template";function VI(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&BI(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(gf(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function gf(e){return e.type===4&&e.value!==Nv}function HI(e,t,n){let r=e.type===4&&!n?Nv:e.value;return t===r}function zI(e,t,n){let r=4,o=e.attrs,i=o!==null?WI(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!at(r)&&!at(c))return!1;if(s&&at(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!HI(e,c,n)||c===""&&t.length===1){if(at(r))return!1;s=!0}}else if(r&8){if(o===null||!VI(e,o,c,n)){if(at(r))return!1;s=!0}}else{let u=t[++a],l=qI(c,o,gf(e),n);if(l===-1){if(at(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(at(r))return!1;s=!0}}}}return at(r)||s}function at(e){return(e&1)===0}function qI(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return KI(t,e)}function xv(e,t,n=!1){for(let r=0;r<t.length;r++)if(zI(e,t[r],n))return!0;return!1}function GI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function WI(e){for(let t=0;t<e.length;t++){let n=e[t];if(ov(n))return t}return e.length}function KI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function ZI(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Sm(e,t){return e?":not("+t.trim()+")":t}function YI(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!at(s)&&(t+=Sm(i,o),o=""),r=s,i=i||!at(r);n++}return o!==""&&(t+=Sm(i,o)),t}function JI(e){return e.map(YI).join(",")}function QI(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!at(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Ye={};function XI(e,t){return e.createText(t)}function eC(e,t,n){e.setValue(t,n)}function tC(e,t){return e.createComment($I(t))}function Ov(e,t,n){return e.createElement(t,n)}function nc(e,t,n,r,o){e.insertBefore(t,n,r,o)}function kv(e,t,n){e.appendChild(t,n)}function Mm(e,t,n,r,o){r!==null?nc(e,t,n,r,o):kv(e,t,n)}function Pv(e,t,n,r){e.removeChild(null,t,n,r)}function nC(e,t,n){e.setAttribute(t,"style",n)}function rC(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Lv(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&dI(e,t,r),o!==null&&rC(e,t,o),i!==null&&nC(e,t,i)}function mf(e,t,n,r,o,i,s,a,c,u,l){let d=te+r,h=d+o,f=oC(d,h),p=typeof u=="function"?u():u;return f[M]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function oC(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ye);return n}function iC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=mf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function vf(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[rt]=o,d[x]=r|4|128|8|64|1024,(u!==null||e&&e[x]&2048)&&(d[x]|=2048),Xl(d),d[he]=d[Wn]=e,d[ce]=n,d[yt]=s||e&&e[yt],d[K]=a||e&&e[K],d[Qr]=c||e&&e[Qr]||null,d[Me]=i,d[pi]=CI(),d[Gn]=l,d[Kl]=u,d[Ae]=t.type==2?e[Ae]:d,d}function sC(e,t,n){let r=st(t,e),o=iC(n),i=e[yt].rendererFactory,s=yf(e,vf(e,o,null,Fv(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Fv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function jv(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function yf(e,t){return e[Xr]?e[Wl][He]=t:e[Xr]=t,e[Wl]=t,t}function aC(e=1){Uv(Z(),N(),Dt()+e,!1)}function Uv(e,t,n,r){if(!r)if((t[x]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ga(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Wa(t,i,0,n)}wn(n)}var _c=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(_c||{});function Fd(e,t,n,r){let o=R(null);try{let[i,s,a]=e.inputs[n],c=null;(s&_c.SignalBased)!==0&&(c=t[i][se]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Qm(t,c,i,r)}finally{R(o)}}var zt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(zt||{}),cC;function wf(e,t){return cC(e,t)}var bc=new Set;function so(e,t,n,r,o,i){if(r!=null){let s,a=!1;ot(r)?s=r:Et(r)&&(a=!0,r=r[rt]);let c=ze(r);e===0&&n!==null?o==null?kv(t,n,c):nc(t,n,c,o||null,!0):e===1&&n!==null?nc(t,n,c,o||null,!0):e===2?Am(i,u=>{Pv(t,c,a,u)}):e===3&&Am(i,()=>{t.destroyNode(c)}),s!=null&&wC(t,e,s,n,o)}}function uC(e,t){$v(e,t),t[rt]=null,t[Me]=null}function lC(e,t,n,r,o,i){r[rt]=o,r[Me]=t,Cc(e,r,n,1,o,i)}function $v(e,t){t[yt].changeDetectionScheduler?.notify(9),Cc(e,t,t[K],2,null,null)}function dC(e){let t=e[Xr];if(!t)return _d(e[M],e);for(;t;){let n=null;if(Et(t))n=t[Xr];else{let r=t[ue];r&&(n=r)}if(!n){for(;t&&!t[He]&&t!==e;)Et(t)&&_d(t[M],t),t=t[he];t===null&&(t=e),Et(t)&&_d(t[M],t),n=t&&t[He]}t=n}}function Ef(e,t){let n=e[Yn],r=n.indexOf(t);n.splice(r,1)}function Ic(e,t){if(Jn(t))return;let n=t[K];n.destroyNode&&Cc(e,t,n,3,null,null),dC(t)}function _d(e,t){if(Jn(t))return;let n=R(null);try{t[x]&=-129,t[x]|=256,t[je]&&Pn(t[je]),pC(e,t),hC(e,t),t[M].type===1&&t[K].destroy();let r=t[pn];if(r!==null&&ot(t[he])){r!==t[he]&&Ef(r,t);let o=t[wt];o!==null&&o.detachView(e)}kd(t)}finally{R(n)}}function Am(e,t){if(e&&e[_e]&&e[_e].leave)if(e[_e].skipLeaveAnimations)e[_e].skipLeaveAnimations=!1;else{let n=e[_e].leave,r=[];for(let o=0;o<n.length;o++){let i=n[o];r.push(i())}e[_e].running=Promise.allSettled(r),e[_e].leave=void 0}fC(e,t)}function fC(e,t){if(e&&e[_e]&&e[_e].running){e[_e].running.then(()=>{e[_e]&&e[_e].running&&(e[_e].running=void 0),bc.delete(e),t(!0)});return}t(!1)}function hC(e,t){let n=e.cleanup,r=t[Jr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Jr]=null);let o=t[Ut];if(o!==null){t[Ut]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Vt];if(i!==null){t[Vt]=null;for(let s of i)s.destroy()}}function pC(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof tr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];q(4,a,c);try{c.call(a)}finally{q(5,a,c)}}else{q(4,o,i);try{i.call(o)}finally{q(5,o,i)}}}}}function Bv(e,t,n){return gC(e,t.parent,n)}function gC(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[rt];if(mn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Ht.None||o===Ht.Emulated)return null}return st(r,n)}function Vv(e,t,n){return vC(e,t,n)}function mC(e,t,n){return e.type&40?st(e,n):null}var vC=mC,Rm;function Df(e,t,n,r){let o=Bv(e,r,t),i=t[K],s=r.parent||t[Me],a=Vv(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Mm(i,o,n[c],a,!1);else Mm(i,o,n,a,!1);Rm!==void 0&&Rm(i,r,t,n,o)}function bi(e,t){if(t!==null){let n=t.type;if(n&3)return st(t,e);if(n&4)return jd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return bi(e,r);{let o=e[t.index];return ot(o)?jd(-1,o):ze(o)}}else{if(n&128)return bi(e,t.next);if(n&32)return wf(t,e)()||ze(e[t.index]);{let r=Hv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=ln(e[Ae]);return bi(o,r)}else return bi(e,t.next)}}}return null}function Hv(e,t){if(t!==null){let r=e[Ae][Me],o=t.projection;return r.projection[o]}return null}function jd(e,t){let n=ue+e+1;if(n<t.length){let r=t[n],o=r[M].firstChild;if(o!==null)return bi(r,o)}return t[gn]}function _f(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&uo(ze(a),r),n.flags|=2),!Dc(n))if(c&8)_f(e,t,n.child,r,o,i,!1),so(t,e,o,a,i,r);else if(c&32){let u=wf(n,r),l;for(;l=u();)so(t,e,o,l,i,r);so(t,e,o,a,i,r)}else c&16?zv(e,t,r,n,o,i):so(t,e,o,a,i,r);n=s?n.projectionNext:n.next}}function Cc(e,t,n,r,o,i){_f(n,r,e.firstChild,t,o,i,!1)}function yC(e,t,n){let r=t[K],o=Bv(e,n,t),i=n.parent||t[Me],s=Vv(i,n,t);zv(r,0,t,n,o,s)}function zv(e,t,n,r,o,i){let s=n[Ae],c=s[Me].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];so(t,e,o,l,i,n)}else{let u=c,l=s[he];gv(r)&&(u.flags|=128),_f(e,t,u,l,o,i,!0)}}function wC(e,t,n,r,o){let i=n[gn],s=ze(n);i!==s&&so(t,e,r,i,o);for(let a=ue;a<n.length;a++){let c=n[a];Cc(c[M],c,e,t,r,i)}}function EC(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:zt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=zt.Important),e.setStyle(n,r,o,i))}}function qv(e,t,n,r,o){let i=Dt(),s=r&2;try{wn(-1),s&&t.length>te&&Uv(e,t,te,!1),q(s?2:0,o,n),n(r,o)}finally{wn(i),q(s?3:1,o,n)}}function Tc(e,t,n){TC(e,t,n),(n.flags&64)===64&&SC(e,t,n)}function Oi(e,t,n=st){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function DC(e,t,n,r){let i=r.get(Iv,bv)||n===Ht.ShadowDom,s=e.selectRootElement(t,i);return _C(s),s}function _C(e){bC(e)}var bC=()=>null;function IC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Gv(e,t,n,r,o,i){let s=t[M];if(Tf(e,s,t,n,r)){mn(e)&&CC(t,e.index);return}e.type&3&&(n=IC(n)),Wv(e,t,n,r,o,i)}function Wv(e,t,n,r,o,i){if(e.type&3){let s=st(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function CC(e,t){let n=qe(t,e);n[x]&16||(n[x]|=64)}function TC(e,t,n){let r=n.directiveStart,o=n.directiveEnd;mn(n)&&sC(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Xa(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Ci(t,e,s,n);if(uo(c,t),i!==null&&NC(t,s-r,c,a,n,i),it(a)){let u=qe(n.index,t);u[ce]=Ci(t,e,s,n)}}}function SC(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=um();try{wn(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];ja(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&MC(c,u)}}finally{wn(-1),ja(s)}}function MC(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function bf(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];xv(t,i.selectors,!1)&&(r??=[],it(i)?r.unshift(i):r.push(i))}return r}function AC(e,t,n,r,o,i){let s=st(e,t);RC(t[K],s,i,e.value,n,r,o)}function RC(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?di(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function NC(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Fd(r,n,c,u)}}function If(e,t,n,r,o){let i=te+n,s=t[M],a=o(s,t,e,r,n);t[i]=a,Qn(e,!0);let c=e.type===2;return c?(Lv(t[K],a,e),(em()===0||eo(e))&&uo(a,t),tm()):uo(a,t),Va()&&(!c||!Dc(e))&&Df(s,t,a,e),e}function Cf(e){let t=e;return ud()?ld():(t=t.parent,Qn(t,!1)),t}function xC(e,t){let n=e[Qr];if(!n)return;let r;try{r=n.get(Ke,null)}catch{r=null}r?.(t)}function Tf(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];Fd(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];Fd(l,u,r,o),a=!0}return a}function OC(e,t){let n=qe(t,e),r=n[M];kC(r,n);let o=n[rt];o!==null&&n[Gn]===null&&(n[Gn]=Cv(o,n[Qr])),q(18),Sf(r,n,n[ce]),q(19,n[ce])}function kC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Sf(e,t,n){$a(t);try{let r=e.viewQuery;r!==null&&Ld(1,r,n);let o=e.template;o!==null&&qv(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[wt]?.finishViewCreation(e),e.staticContentQueries&&Tv(e,t),e.staticViewQueries&&Ld(2,e.viewQuery,n);let i=e.components;i!==null&&PC(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Ba()}}function PC(e,t){for(let n=0;n<t.length;n++)OC(e,t[n])}function ki(e,t,n,r){let o=R(null);try{let i=t.tView,a=e[x]&4096?4096:16,c=vf(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[pn]=u;let l=e[wt];return l!==null&&(c[wt]=l.createEmbeddedView(i)),Sf(i,c,n),c}finally{R(o)}}function lo(e,t){return!t||t.firstChild===null||gv(e)}function Ti(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(ze(i)),ot(i)&&Kv(i,r);let s=n.type;if(s&8)Ti(e,t,n.child,r);else if(s&32){let a=wf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Hv(t,n);if(Array.isArray(a))r.push(...a);else{let c=ln(t[Ae]);Ti(c[M],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Kv(e,t){for(let n=ue;n<e.length;n++){let r=e[n],o=r[M].firstChild;o!==null&&Ti(r[M],r,o,t)}e[gn]!==e[rt]&&t.push(e[gn])}function Zv(e){if(e[Zn]!==null){for(let t of e[Zn])t.impl.addSequence(t);e[Zn].length=0}}var Yv=[];function LC(e){return e[je]??FC(e)}function FC(e){let t=Yv.pop()??Object.create(UC);return t.lView=e,t}function jC(e){e.lView[je]!==e&&(e.lView=null,Yv.push(e))}var UC=V(w({},en),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{vn(e.lView)},consumerOnSignalRead(){this.lView[je]=this}});function $C(e){let t=e[je]??Object.create(BC);return t.lView=e,t}var BC=V(w({},en),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ln(e.lView);for(;t&&!Jv(t[M]);)t=ln(t);t&&ed(t)},consumerOnSignalRead(){this.lView[je]=this}});function Jv(e){return e.type!==2}function Qv(e){if(e[Vt]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Vt])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[x]&8192)}}var VC=100;function Xv(e,t=0){let r=e[yt].rendererFactory,o=!1;o||r.begin?.();try{HC(e,t)}finally{o||r.end?.()}}function HC(e,t){let n=dd();try{no(!0),Ud(e,t);let r=0;for(;vi(e);){if(r===VC)throw new D(103,!1);r++,Ud(e,1)}}finally{no(n)}}function zC(e,t,n,r){if(Jn(t))return;let o=t[x],i=!1,s=!1;$a(t);let a=!0,c=null,u=null;i||(Jv(e)?(u=LC(t),c=nn(u)):qs()===null?(a=!1,u=$C(t),c=nn(u)):t[je]&&(Pn(t[je]),t[je]=null));try{Xl(t),sm(e.bindingStartIndex),n!==null&&qv(e,t,n,2,r),qC(t);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&Ga(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Wa(t,f,0,null),Ed(t,0)}if(s||GC(t),Qv(t),ey(t,0),e.contentQueries!==null&&Tv(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&Ga(t,f)}else{let f=e.contentHooks;f!==null&&Wa(t,f,1),Ed(t,1)}KC(e,t);let d=e.components;d!==null&&ny(t,d,0);let h=e.viewQuery;if(h!==null&&Ld(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&Ga(t,f)}else{let f=e.viewHooks;f!==null&&Wa(t,f,2),Ed(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Oa]){for(let f of t[Oa])f();t[Oa]=null}i||(Zv(t),t[x]&=-73)}catch(l){throw i||vn(t),l}finally{u!==null&&(kn(u,c),a&&jC(u)),Ba()}}function qC(e){let t=e[_e];if(t?.enter){for(let n of t.enter)n();t.enter=void 0}}function ey(e,t){for(let n=vv(e);n!==null;n=yv(n))for(let r=ue;r<n.length;r++){let o=n[r];ty(o,t)}}function GC(e){for(let t=vv(e);t!==null;t=yv(t)){if(!(t[x]&2))continue;let n=t[Yn];for(let r=0;r<n.length;r++){let o=n[r];ed(o)}}}function WC(e,t,n){q(18);let r=qe(t,e);ty(r,n),q(19,r[ce])}function ty(e,t){Pa(e)&&Ud(e,t)}function Ud(e,t){let r=e[M],o=e[x],i=e[je],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&xr(i)),s||=!1,i&&(i.dirty=!1),e[x]&=-9217,s)zC(r,e,r.template,e[ce]);else if(o&8192){let a=R(null);try{Qv(e),ey(e,1);let c=r.components;c!==null&&ny(e,c,1),Zv(e)}finally{R(a)}}}function ny(e,t,n){for(let r=0;r<t.length;r++)WC(e,t[r],n)}function KC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)wn(~o);else{let i=o,s=n[++r],a=n[++r];cm(s,i);let c=t[i];q(24,c),a(2,c),q(25,c)}}}finally{wn(-1)}}function Mf(e,t){let n=dd()?64:1088;for(e[yt].changeDetectionScheduler?.notify(t);e;){e[x]|=n;let r=ln(e);if(to(e)&&!r)return e;e=r}return null}function ry(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function oy(e,t){let n=ue+t;if(n<e.length)return e[n]}function Pi(e,t,n,r=!0){let o=t[M];if(ZC(o,t,e,n),r){let s=jd(n,e),a=t[K],c=a.parentNode(e[gn]);c!==null&&lC(o,e[Me],a,t,c,s)}let i=t[Gn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function iy(e,t){let n=Si(e,t);return n!==void 0&&Ic(n[M],n),n}function Si(e,t){if(e.length<=ue)return;let n=ue+t,r=e[n];if(r){let o=r[pn];o!==null&&o!==e&&Ef(o,r),t>0&&(e[n-1][He]=r[He]);let i=fi(e,ue+t);uC(r[M],r);let s=i[wt];s!==null&&s.detachView(i[M]),r[he]=null,r[He]=null,r[x]&=-129}return r}function ZC(e,t,n,r){let o=ue+r,i=n.length;r>0&&(n[o-1][He]=t),r<i-ue?(t[He]=n[o],$l(n,ue+r,t)):(n.push(t),t[He]=null),t[he]=n;let s=t[pn];s!==null&&n!==s&&sy(s,t);let a=t[wt];a!==null&&a.insertView(e),La(t),t[x]|=128}function sy(e,t){let n=e[Yn],r=t[he];if(Et(r))e[x]|=2;else{let o=r[he][Ae];t[Ae]!==o&&(e[x]|=2)}n===null?e[Yn]=[t]:n.push(t)}var En=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[M];return Ti(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ce]}set context(t){this._lView[ce]=t}get destroyed(){return Jn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[he];if(ot(t)){let n=t[gi],r=n?n.indexOf(this):-1;r>-1&&(Si(t,r),fi(n,r))}this._attachedToViewContainer=!1}Ic(this._lView[M],this._lView)}onDestroy(t){td(this._lView,t)}markForCheck(){Mf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){La(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,Xv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=to(this._lView),n=this._lView[pn];n!==null&&!t&&Ef(n,this._lView),$v(this._lView[M],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=to(this._lView),r=this._lView[pn];r!==null&&!n&&sy(r,this._lView),La(this._lView)}};var fo=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=YC;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=ki(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new En(i)}}return e})();function YC(){return Af(pe(),N())}function Af(e,t){return e.type&4?new fo(t,e,vo(e,t)):null}function or(e,t,n,r,o){let i=e.data[t];if(i===null)i=JC(e,t,n,r,o),am()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=om();i.injectorIndex=s===null?-1:s.injectorIndex}return Qn(i,!0),i}function JC(e,t,n,r,o){let i=cd(),s=ud(),a=s?i:i&&i.parent,c=e.data[t]=XC(e,a,n,t,r,o);return QC(e,c,i,s),c}function QC(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function XC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return id()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var UU=new RegExp(`^(\\d+)*(${RI}|${AI})*(.*)`);function eT(e){let t=e[Zl]??[],r=e[he][K],o=[];for(let i of t)i.data[_v]!==void 0?o.push(i):tT(i,r);e[Zl]=o}function tT(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[Dv];for(;n<o;){let i=r.nextSibling;Pv(t,r,!1),r=i,n++}}}var nT=()=>null,rT=()=>null;function rc(e,t){return nT(e,t)}function ay(e,t,n){return rT(e,t,n)}var cy=class{},Sc=class{},$d=class{resolveComponentFactory(t){throw new D(917,!1)}},Li=class{static NULL=new $d},nr=class{},Fi=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>oT()}return e})();function oT(){let e=N(),t=pe(),n=qe(t.index,e);return(Et(n)?n:e)[K]}var uy=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>null})}return e})();var Za={},Bd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Za,r);return o!==Za||n===Za?o:this.parentInjector.get(t,n,r)}};function oc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Ca(o,a);else if(i==2){let c=a,u=t[++s];r=Ca(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Gt(e,t=0){let n=N();if(n===null)return T(e,t);let r=pe();return dv(r,n,fe(e),t)}function Rf(){let e="invalid";throw new Error(e)}function ly(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}aT(e,t,n,a,i,c,u)}i!==null&&r!==null&&iT(n,r,i)}function iT(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new D(-301,!1);r.push(t[o],i)}}function sT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function aT(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&it(f)&&(c=!0,sT(e,n,h)),xd(Xa(n,t),e,f.type)}hT(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=jv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=co(n.mergedAttrs,f.hostAttrs),uT(e,n,t,d,f),fT(d,f,o),s!==null&&s.has(f)){let[y,g]=s.get(f);n.directiveToIndex.set(f.type,[d,y+n.directiveStart,g+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}cT(e,n,i)}function cT(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Nm(0,t,o,r),Nm(1,t,o,r),Om(t,r,!1);else{let i=n.get(o);xm(0,t,i,r),xm(1,t,i,r),Om(t,r,!0)}}}function Nm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),dy(t,i)}}function xm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),dy(t,s)}}function dy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Om(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||gf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function uT(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Vn(o.type,!0)),s=new tr(i,it(o),Gt,null);e.blueprint[r]=s,n[r]=s,lT(e,t,r,jv(e,n,o.hostVars,Ye),o)}function lT(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;dT(s)!=a&&s.push(a),s.push(n,r,i)}}function dT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function fT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;it(t)&&(n[""]=e)}}function hT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Nf(e,t,n,r,o,i,s,a){let c=t[M],u=c.consts,l=Ge(u,s),d=or(c,e,n,r,l);return i&&ly(c,t,d,Ge(u,a),o),d.mergedAttrs=co(d.mergedAttrs,d.attrs),d.attrs!==null&&oc(d,d.attrs,!1),d.mergedAttrs!==null&&oc(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function xf(e,t){nv(e,t),Yl(t)&&e.queries.elementEnd(t)}function pT(e,t,n,r,o,i){let s=t.consts,a=Ge(s,o),c=or(t,e,n,r,a);if(c.mergedAttrs=co(c.mergedAttrs,c.attrs),i!=null){let u=Ge(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&oc(c,c.attrs,!1),c.mergedAttrs!==null&&oc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Of(e){return hy(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function fy(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function hy(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function py(e,t,n){return e[t]=n}function Ze(e,t,n){if(n===Ye)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function gT(e,t,n,r){let o=Ze(e,t,n);return Ze(e,t+1,r)||o}function bd(e,t,n){return function r(o){let i=mn(e)?qe(e.index,t):t;Mf(i,5);let s=t[ce],a=km(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=km(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function km(e,t,n,r){let o=R(null);try{return q(6,t,n),n(r)!==!1}catch(i){return xC(e,i),!1}finally{q(7,t,n),R(o)}}function mT(e,t,n,r,o,i,s,a){let c=eo(e),u=!1,l=null;if(!r&&c&&(l=yT(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=st(e,n),h=r?r(d):d;xI(n,h,i,a);let f=o.listen(h,i,a);if(!vT(i)){let p=r?y=>r(ze(y[e.index])):e.index;gy(p,t,n,i,a,f,!1)}}return u}function vT(e){return e.startsWith("animation")||e.startsWith("transition")}function yT(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Jr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function gy(e,t,n,r,o,i,s){let a=t.firstCreatePass?rd(t):null,c=nd(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function Pm(e,t,n,r,o,i){let s=t[n],a=t[M],u=a.data[n].outputs[r],d=s[u].subscribe(i);gy(e.index,a,t,o,i,d,!0)}var Vd=Symbol("BINDING");var ic=class extends Li{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=vt(t);return new Dn(n,this.ngModule)}};function wT(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&_c.SignalBased)!==0};return o&&(i.transform=o),i})}function ET(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function DT(e,t,n){let r=t instanceof ae?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Bd(n,r):n}function _T(e){let t=e.get(nr,null);if(t===null)throw new D(407,!1);let n=e.get(uy,null),r=e.get(Ve,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function bT(e,t){let n=my(e);return Ov(t,n,n==="svg"?Jl:n==="math"?Wg:null)}function my(e){return(e.selectors[0][0]||"div").toLowerCase()}var Dn=class extends Sc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ET(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=JI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){q(22);let a=R(null);try{let c=this.componentDef,u=IT(r,c,s,i),l=DT(c,o||this.ngModule,t),d=_T(l),h=d.rendererFactory.createRenderer(null,c),f=r?DC(h,r,c.encapsulation,l):bT(c,h),p=s?.some(Lm)||i?.some(m=>typeof m!="function"&&m.bindings.some(Lm)),y=vf(null,u,null,512|Fv(c),null,null,d,h,l,null,Cv(f,l,!0));y[te]=f,$a(y);let g=null;try{let m=Nf(te,y,2,"#host",()=>u.directiveRegistry,!0,0);Lv(h,f,m),uo(f,y),Tc(u,y,m),hf(u,m,y),xf(u,m),n!==void 0&&TT(m,this.ngContentSelectors,n),g=qe(m.index,y),y[ce]=g[ce],Sf(u,y,null)}catch(m){throw g!==null&&kd(g),kd(y),m}finally{q(23),Ba()}return new sc(this.componentType,y,!!p)}finally{R(a)}}};function IT(e,t,n,r){let o=e?["ng-version","20.3.2"]:QI(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[Vd].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[Vd].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=xa(d);c.push(h)}return mf(0,null,CT(i,s),1,a,c,null,null,null,[o],null)}function CT(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Lm(e){let t=e[Vd].kind;return t==="input"||t==="twoWay"}var sc=class extends cy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=mi(n[M],te),this.location=vo(this._tNode,n),this.instance=qe(this._tNode.index,n)[ce],this.hostView=this.changeDetectorRef=new En(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Tf(r,o[M],o,t,n);this.previousInputValues.set(t,n);let s=qe(r.index,o);Mf(s,1)}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function TT(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var _n=(()=>{class e{static __NG_ELEMENT_ID__=ST}return e})();function ST(){let e=pe();return yy(e,N())}var MT=_n,vy=class extends MT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return vo(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let t=uf(this._hostTNode,this._hostLView);if(iv(t)){let n=Qa(t,this._hostLView),r=Ja(t),o=n[M].data[r+8];return new er(o,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Fm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ue}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=rc(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,lo(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!rI(t),u;if(c)u=n;else{let g=n||{};u=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef,s=g.directives,a=g.bindings}let l=c?t:new Dn(vt(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(c?d:this.parentInjector).get(ae,null);m&&(i=m)}let h=vt(l.componentType??{}),f=rc(this._lContainer,h?.id??null),p=f?.firstChild??null,y=l.create(d,o,p,i,s,a);return this.insertImpl(y.hostView,u,lo(this._hostTNode,f)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Yg(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[he],u=new vy(c,c[Me],c[he]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Pi(s,o,i,r),t.attachToViewContainerRef(),$l(Id(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Fm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Si(this._lContainer,n);r&&(fi(Id(this._lContainer),n),Ic(r[M],r))}detach(t){let n=this._adjustIndex(t,-1),r=Si(this._lContainer,n);return r&&fi(Id(this._lContainer),n)!=null?new En(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Fm(e){return e[gi]}function Id(e){return e[gi]||(e[gi]=[])}function yy(e,t){let n,r=t[e.index];return ot(r)?n=r:(n=ry(r,t,null,e),t[e.index]=n,yf(t,n)),RT(n,t,e,r),new vy(n,e,t)}function AT(e,t){let n=e[K],r=n.createComment(""),o=st(t,e),i=n.parentNode(o);return nc(n,i,r,n.nextSibling(o),!1),r}var RT=OT,NT=()=>!1;function xT(e,t,n){return NT(e,t,n)}function OT(e,t,n,r){if(e[gn])return;let o;n.type&8?o=ze(r):o=AT(t,n),e[gn]=o}var Hd=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},zd=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Pf(t,n).matches!==null&&this.queries[n].setDirty()}},ac=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=UT(t):this.predicate=t}},qd=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Gd=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,kT(n,i)),this.matchTNodeWithReadOption(t,n,Ka(n,t,i,!1,!1))}else r===fo?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ka(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===qt||o===_n||o===fo&&n.type&4)this.addMatch(n.index,-2);else{let i=Ka(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function kT(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function PT(e,t){return e.type&11?vo(e,t):e.type&4?Af(e,t):null}function LT(e,t,n,r){return n===-1?PT(t,e):n===-2?FT(e,t,r):Ci(e,e[M],n,t)}function FT(e,t,n){if(n===qt)return vo(t,e);if(n===fo)return Af(t,e);if(n===_n)return yy(t,e)}function wy(e,t,n,r){let o=t[wt].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(LT(t,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Wd(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=wy(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=t[-c];for(let d=ue;d<l.length;d++){let h=l[d];h[pn]===h[he]&&Wd(h[M],h,u,r)}if(l[Yn]!==null){let d=l[Yn];for(let h=0;h<d.length;h++){let f=d[h];Wd(f[M],f,u,r)}}}}}return r}function kf(e,t){return e[wt].queries[t].queryList}function Ey(e,t,n){let r=new ec((n&4)===4);return Xg(e,t,r,r.destroy),(t[wt]??=new zd).queries.push(new Hd(r))-1}function Dy(e,t,n){let r=Z();return r.firstCreatePass&&(_y(r,new ac(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Ey(r,N(),t)}function jT(e,t,n,r){let o=Z();if(o.firstCreatePass){let i=pe();_y(o,new ac(t,n,r),i.index),$T(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return Ey(o,N(),n)}function UT(e){return e.split(",").map(t=>t.trim())}function _y(e,t,n){e.queries===null&&(e.queries=new qd),e.queries.track(new Gd(t,n))}function $T(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Pf(e,t){return e.queries.getByIndex(t)}function by(e,t){let n=e[M],r=Pf(n,t);return r.crossesNgTemplate?Wd(n,e,t,[]):wy(n,e,r,t)}function Lf(e,t,n){let r,o=Jo(()=>{r._dirtyCounter();let i=BT(r,e);if(t&&i===void 0)throw new D(-951,!1);return i});return r=o[se],r._dirtyCounter=ke(0),r._flatValue=void 0,o}function Iy(e){return Lf(!0,!1,e)}function Cy(e){return Lf(!0,!0,e)}function Ty(e){return Lf(!1,!1,e)}function Sy(e,t){let n=e[se];n._lView=N(),n._queryIndex=t,n._queryList=kf(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function BT(e,t){let n=e._lView,r=e._queryIndex;if(n===void 0||r===void 0||n[x]&4)return t?void 0:Ce;let o=kf(n,r),i=by(n,r);return o.reset(i,pv),t?o.first:o._changesDetected||e._flatValue===void 0?e._flatValue=o.toArray():e._flatValue}var jm=new Set;function Je(e){jm.has(e)||(jm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ho=class{},Mc=class{};var cc=class extends ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ic(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Hl(t);this._bootstrapComponents=Rv(i.bootstrap),this._r3Injector=md(t,n,[{provide:ho,useValue:this},{provide:Li,useValue:this.componentFactoryResolver},...r],$t(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},uc=class extends Mc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new cc(this.moduleType,t,[])}};var Mi=class extends ho{injector;componentFactoryResolver=new ic(this);instance=null;constructor(t){super();let n=new zn([...t.providers,{provide:ho,useValue:this},{provide:Li,useValue:this.componentFactoryResolver}],t.parent||Yr(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function wo(e,t,n=null){return new Mi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var VT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=zl(!1,n.type),o=r.length>0?wo([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(T(ae))})}return e})();function Ff(e){return go(()=>{let t=My(e),n=V(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===lf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(VT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ht.Emulated,styles:e.styles||Ce,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Je("NgStandalone"),Ay(n);let r=e.dependencies;return n.directiveDefs=Um(r,HT),n.pipeDefs=Um(r,$g),n.id=GT(n),n})}function HT(e){return vt(e)||xa(e)}function bn(e){return go(()=>({type:e.type,bootstrap:e.bootstrap||Ce,declarations:e.declarations||Ce,imports:e.imports||Ce,exports:e.exports||Ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zT(e,t){if(e==null)return nt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=_c.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function qT(e){if(e==null)return nt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ir(e){return go(()=>{let t=My(e);return Ay(t),t})}function My(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||nt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ce,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zT(e.inputs,t),outputs:qT(e.outputs),debugInfo:null}}function Ay(e){e.features?.forEach(t=>t(e))}function Um(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function GT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function WT(e){return Object.getPrototypeOf(e.prototype).constructor}function Ry(e){let t=WT(e.type),n=!0,r=[e];for(;t;){let o;if(it(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Cd(e.inputs),s.declaredInputs=Cd(e.declaredInputs),s.outputs=Cd(e.outputs);let a=o.hostBindings;a&&QT(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&YT(e,c),u&&JT(e,u),KT(e,o),Ng(e.outputs,o.outputs),it(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Ry&&(n=!1)}}t=Object.getPrototypeOf(t)}ZT(r)}function KT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function ZT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=co(o.hostAttrs,n=co(n,o.hostAttrs))}}function Cd(e){return e===nt?{}:e===Ce?[]:e}function YT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function JT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function QT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function XT(e){let t=n=>{let r=Array.isArray(e);n.hostDirectives===null?(n.resolveHostDirectives=eS,n.hostDirectives=r?e.map(Kd):[e]):r?n.hostDirectives.unshift(...e.map(Kd)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function eS(e){let t=[],n=!1,r=null,o=null;for(let i=0;i<e.length;i++){let s=e[i];if(s.hostDirectives!==null){let a=t.length;r??=new Map,o??=new Map,Ny(s,t,r),o.set(s,[a,t.length-1])}i===0&&it(s)&&(n=!0,t.push(s))}for(let i=n?1:0;i<e.length;i++)t.push(e[i]);return[t,r,o]}function Ny(e,t,n){if(e.hostDirectives!==null)for(let r of e.hostDirectives)if(typeof r=="function"){let o=r();for(let i of o)$m(Kd(i),t,n)}else $m(r,t,n)}function $m(e,t,n){let r=xa(e.directive);tS(r.declaredInputs,e.inputs),Ny(r,t,n),n.set(r,e),t.push(r)}function Kd(e){return typeof e=="function"?{directive:fe(e),inputs:nt,outputs:nt}:{directive:fe(e.directive),inputs:Bm(e.inputs),outputs:Bm(e.outputs)}}function Bm(e){if(e===void 0||e.length===0)return nt;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function tS(e,t){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o=e[n];e[r]=o}}function xy(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=co(e.mergedAttrs,e.attrs);let l=e.tView=mf(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Qn(e,!1);let c=rS(n,t,e,r);Va()&&Df(n,t,c,e),uo(c,t);let u=ry(c,t,c,e);t[r+te]=u,yf(t,u),xT(u,e,t)}function nS(e,t,n,r,o,i,s,a,c,u,l){let d=n+te,h;return t.firstCreatePass?(h=or(t,d,4,s||null,a||null),Fa()&&ly(t,e,h,Ge(t.consts,u),bf),nv(t,h)):h=t.data[d],xy(h,e,t,n,r,o,i,c),eo(h)&&Tc(t,e,h),u!=null&&Oi(e,h,l),h}function Ai(e,t,n,r,o,i,s,a,c,u,l){let d=n+te,h;if(t.firstCreatePass){if(h=or(t,d,4,s||null,a||null),u!=null){let f=Ge(t.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return xy(h,e,t,n,r,o,i,c),u!=null&&Oi(e,h,l),h}function Oy(e,t,n,r,o,i,s,a){let c=N(),u=Z(),l=Ge(u.consts,i);return nS(c,u,e,t,n,r,o,l,void 0,s,a),Oy}var rS=oS;function oS(e,t,n,r){return Ei(!0),t[K].createComment("")}var Ac=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Ac||{}),sr=new b(""),ky=!1,Zd=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,qg()&&(this.destroyRef=v(We,{optional:!0})??void 0,this.pendingTasks=v(_t,{optional:!0})??void 0)}emit(t){let n=R(null);try{super.next(t)}finally{R(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof Q&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=Zd;function Py(e){let t,n;function r(){e=Xn;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Vm(e){return queueMicrotask(()=>e()),()=>{e=Xn}}var jf="isAngularZone",lc=jf+"_ID",iS=0,ie=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ky}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,cS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,sS,Xn,Xn);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},sS={};function Uf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function aS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Py(()=>{e.callbackScheduled=!1,Yd(e),e.isCheckStableRunning=!0,Uf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Yd(e)}function cS(e){let t=()=>{aS(e)},n=iS++;e._inner=e._inner.fork({name:"angular",properties:{[jf]:!0,[lc]:n,[lc+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(uS(c))return r.invokeTask(i,s,a,c);try{return Hm(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),zm(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Hm(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!lS(c)&&t(),zm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Yd(e),Uf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Yd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Hm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zm(e){e._nesting--,Uf(e)}var Ri=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function uS(e){return Ly(e,"__ignore_ng_zone__")}function lS(e){return Ly(e,"__scheduler_tick__")}function Ly(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var $f=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),Fy=[0,1,2,3],jy=(()=>{class e{ngZone=v(ie);scheduler=v(Ve);errorHandler=v(Fe,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(sr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&q(16),this.executing=!0;for(let r of Fy)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&q(17)}register(n){let{view:r}=n;r!==void 0?((r[Zn]??=[]).push(n),vn(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Ac.AFTER_NEXT_RENDER,n):n()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),dc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Zn];t&&(this.view[Zn]=t.filter(n=>n!==this))}};function Bf(e,t){let n=t?.injector??v(Te);return Je("NgAfterNextRender"),fS(e,n,t,!0)}function dS(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function fS(e,t,n,r){let o=t.get($f);o.impl??=t.get(jy);let i=t.get(sr,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(We):null,a=t.get(oo,null,{optional:!0}),c=new dc(o.impl,dS(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var Vf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Hf=new b("");function ji(e){return!!e&&typeof e.then=="function"}function Uy(e){return!!e&&typeof e.subscribe=="function"}var zf=new b("");function Rc(e){return hn([{provide:zf,multi:!0,useValue:e}])}var qf=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(zf,{optional:!0})??[];injector=v(Te);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=we(this.injector,o);if(ji(i))n.push(i);else if(Uy(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ui=new b("");function $y(){Xu(()=>{let e="";throw new D(600,e)})}function By(e){return e.isBoundToModule}var hS=10;var ar=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(Ke);afterRenderManager=v($f);zonelessEnabled=v(Di);rootEffectScheduler=v(_i);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(_t);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe($(n=>!n))}constructor(){v(sr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Te.NULL){return this._injector.get(ie).run(()=>{q(10);let s=n instanceof Sc;if(!this._injector.get(qf).done){let p="";throw new D(405,p)}let c;s?c=n:c=this._injector.get(Li).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=By(c)?void 0:this._injector.get(ho),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(Hf,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Ii(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),q(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ac.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let n=R(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,R(n),this.afterTick.next(),q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(nr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<hS;)q(14),this.synchronizeOnce(),q(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!vi(o))continue;let i=r&&!this.zonelessEnabled?0:1;Xv(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>vi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ii(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Ui,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ii(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ii(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Gf(e,t,n,r){let o=N(),i=yn();if(Ze(o,i,t)){let s=Z(),a=wi();AC(a,o,e,t,n,r)}return Gf}var GU=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Jd=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t,!0))}};function Td(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function pS(e,t,n){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;i<=s&&i<=c;){let u=e.at(i),l=t[i],d=Td(i,u,i,l,n);if(d!==0){d<0&&e.updateValue(i,l),i++;continue}let h=e.at(s),f=t[c],p=Td(s,h,c,f,n);if(p!==0){p<0&&e.updateValue(s,f),s--,c--;continue}let y=n(i,u),g=n(s,h),m=n(i,l);if(Object.is(m,g)){let C=n(c,f);Object.is(C,y)?(e.swap(i,s),e.updateValue(s,f),c--,s--):e.move(s,i),e.updateValue(i,l),i++;continue}if(r??=new fc,o??=Gm(e,i,s,n),Qd(e,r,i,m))e.updateValue(i,l),i++,s++;else if(o.has(m))r.set(y,e.detach(i)),s--;else{let C=e.create(i,t[i]);e.attach(i,C),i++,s++}}for(;i<=c;)qm(e,r,n,i,t[i]),i++}else if(t!=null){let c=t[Symbol.iterator](),u=c.next();for(;!u.done&&i<=s;){let l=e.at(i),d=u.value,h=Td(i,l,i,d,n);if(h!==0)h<0&&e.updateValue(i,d),i++,u=c.next();else{r??=new fc,o??=Gm(e,i,s,n);let f=n(i,d);if(Qd(e,r,i,f))e.updateValue(i,d),i++,s++,u=c.next();else if(!o.has(f))e.attach(i,e.create(i,d)),i++,s++,u=c.next();else{let p=n(i,l);r.set(p,e.detach(i)),s--}}}for(;!u.done;)qm(e,r,n,e.length,u.value),u=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Qd(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function qm(e,t,n,r,o){if(Qd(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Gm(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var fc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function gS(e,t,n,r,o,i,s,a){Je("NgControlFlow");let c=N(),u=Z(),l=Ge(u.consts,i);return Ai(c,u,e,t,n,r,o,l,256,s,a),Wf}function Wf(e,t,n,r,o,i,s,a){Je("NgControlFlow");let c=N(),u=Z(),l=Ge(u.consts,i);return Ai(c,u,e,t,n,r,o,l,512,s,a),Wf}function mS(e,t){Je("NgControlFlow");let n=N(),r=yn(),o=n[r]!==Ye?n[r]:-1,i=o!==-1?hc(n,te+o):void 0,s=0;if(Ze(n,r,e)){let a=R(null);try{if(i!==void 0&&iy(i,s),e!==-1){let c=te+e,u=hc(n,c),l=nf(n[M],c),d=ay(u,l,n),h=ki(n,l,t,{dehydratedView:d});Pi(u,h,s,lo(l,d))}}finally{R(a)}}else if(i!==void 0){let a=oy(i,s);a!==void 0&&(a[ce]=t)}}var Xd=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ue}};function vS(e,t){return t}var ef=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function yS(e,t,n,r,o,i,s,a,c,u,l,d,h){Je("NgControlFlow");let f=N(),p=Z(),y=c!==void 0,g=N(),m=a?s.bind(g[Ae][ce]):s,C=new ef(y,m);g[te+e]=C,Ai(f,p,e+1,t,n,r,o,Ge(p.consts,i),256),y&&Ai(f,p,e+2,c,u,l,d,Ge(p.consts,h),512)}var tf=class extends Jd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ue}at(t){return this.getLView(t)[ce].$implicit}attach(t,n){let r=n[Gn];this.needsIndexUpdate||=t!==this.length,Pi(this.lContainer,n,t,lo(this.templateTNode,r))}detach(t,n){return this.needsIndexUpdate||=t!==this.length-1,n&&ES(this.lContainer,t),DS(this.lContainer,t)}create(t,n){let r=rc(this.lContainer,this.templateTNode.tView.ssrId),o=ki(this.hostLView,this.templateTNode,new Xd(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){Ic(t[M],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ce].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ce].$index=t}getLView(t){return _S(this.lContainer,t)}};function wS(e){let t=R(null),n=Dt();try{let r=N(),o=r[M],i=r[n],s=n+1,a=hc(r,s);if(i.liveCollection===void 0){let u=nf(o,s);i.liveCollection=new tf(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(pS(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let u=yn(),l=c.length===0;if(Ze(r,u,l)){let d=n+2,h=hc(r,d);if(l){let f=nf(o,d),p=ay(h,f,r),y=ki(r,f,void 0,{dehydratedView:p});Pi(h,y,0,lo(f,p))}else o.firstUpdatePass&&eT(h),iy(h,0)}}}finally{R(t)}}function hc(e,t){return e[t]}function ES(e,t){if(e.length<=ue)return;let n=ue+t,r=e[n];r&&r[_e]&&(r[_e].skipLeaveAnimations=!0)}function DS(e,t){return Si(e,t)}function _S(e,t){return oy(e,t)}function nf(e,t){return mi(e,t)}function Vy(e,t,n){let r=N(),o=yn();if(Ze(r,o,t)){let i=Z(),s=wi();Gv(s,r,e,t,r[K],n)}return Vy}function rf(e,t,n,r,o){Tf(t,e,n,o?"class":"style",r)}function Kf(e,t,n,r){let o=N(),i=o[M],s=e+te,a=i.firstCreatePass?Nf(s,o,2,t,bf,Fa(),n,r):i.data[s];if(If(a,o,e,t,zy),eo(a)){let c=o[M];Tc(c,o,a),hf(c,a,o)}return r!=null&&Oi(o,a),Kf}function Zf(){let e=Z(),t=pe(),n=Cf(t);return e.firstCreatePass&&xf(e,n),sd(n)&&ad(),od(),n.classesWithoutHost!=null&&uI(n)&&rf(e,n,N(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&lI(n)&&rf(e,n,N(),n.stylesWithoutHost,!1),Zf}function Nc(e,t,n,r){return Kf(e,t,n,r),Zf(),Nc}function Yf(e,t,n,r){let o=N(),i=o[M],s=e+te,a=i.firstCreatePass?pT(s,i,2,t,n,r):i.data[s];return If(a,o,e,t,zy),r!=null&&Oi(o,a),Yf}function Jf(){let e=pe(),t=Cf(e);return sd(t)&&ad(),od(),Jf}function Hy(e,t,n,r){return Yf(e,t,n,r),Jf(),Hy}var zy=(e,t,n,r,o)=>(Ei(!0),Ov(t[K],r,vm()));function Qf(e,t,n){let r=N(),o=r[M],i=e+te,s=o.firstCreatePass?Nf(i,r,8,"ng-container",bf,Fa(),t,n):o.data[i];if(If(s,r,e,"ng-container",bS),eo(s)){let a=r[M];Tc(a,r,s),hf(a,s,r)}return n!=null&&Oi(r,s),Qf}function Xf(){let e=Z(),t=pe(),n=Cf(t);return e.firstCreatePass&&xf(e,n),Xf}function qy(e,t,n){return Qf(e,t,n),Xf(),qy}var bS=(e,t,n,r,o)=>(Ei(!0),tC(t[K],""));function IS(){return N()}function Gy(e,t,n){let r=N(),o=yn();if(Ze(r,o,t)){let i=Z(),s=wi();Wv(s,r,e,t,r[K],n)}return Gy}var $i="en-US";var CS=$i;function Wy(e){typeof e=="string"&&(CS=e.toLowerCase().replace(/_/g,"-"))}function eh(e,t,n){let r=N(),o=Z(),i=pe();return Ky(o,r,r[K],i,e,t,n),eh}function Ky(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=bd(r,t,i),mT(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=bd(r,t,i),Pm(r,t,h,f,o,c)}if(u&&u.length)for(let d of u)c??=bd(r,t,i),Pm(r,t,d,o,o,c)}}function TS(e=1){return pm(e)}function SS(e,t){let n=null,r=GI(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?xv(e,i,!0):ZI(r,i))return o}return n}function MS(e){let t=N()[Ae][Me];if(!t.projection){let n=e?e.length:1,r=t.projection=jg(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?SS(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function AS(e,t=0,n,r,o,i){let s=N(),a=Z(),c=r?e+1:null;c!==null&&Ai(s,a,c,r,o,i,null,n);let u=or(a,te+e,16,null,n||null);u.projection===null&&(u.projection=t),ld();let d=!s[Gn]||id();s[Ae][Me].projection[u.projection]===null&&c!==null?RS(s,a,c):d&&!Dc(u)&&yC(a,s,u)}function RS(e,t,n){let r=te+n,o=t.data[r],i=e[r],s=rc(i,o.tView.ssrId),a=ki(e,o,void 0,{dehydratedView:s});Pi(i,a,0,lo(o,s))}function NS(e,t,n){Dy(e,t,n)}function Zy(e){let t=N(),n=Z(),r=Ua();yi(r+1);let o=Pf(n,r);if(e.dirty&&Zg(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=by(t,r);e.reset(i,pv),e.notifyOnChanges()}return!0}return!1}function Yy(){return kf(N(),Ua())}function xS(e,t,n,r,o){Sy(t,jT(e,n,r,o))}function OS(e,t,n,r){Sy(e,Dy(t,n,r))}function kS(e=1){yi(Ua()+e)}function qa(e,t){return e<<17|t<<2}function rr(e){return e>>17&32767}function PS(e){return(e&2)==2}function LS(e,t){return e&131071|t<<17}function of(e){return e|2}function po(e){return(e&131068)>>2}function Sd(e,t){return e&-131069|t<<2}function FS(e){return(e&1)===1}function sf(e){return e|1}function jS(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=rr(s),c=po(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Zr(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=rr(e[a+1]);e[r+1]=qa(h,a),h!==0&&(e[h+1]=Sd(e[h+1],r)),e[a+1]=LS(e[a+1],r)}else e[r+1]=qa(a,0),a!==0&&(e[a+1]=Sd(e[a+1],r)),a=r;else e[r+1]=qa(c,0),a===0?a=r:e[c+1]=Sd(e[c+1],r),c=r;u&&(e[r+1]=of(e[r+1])),Wm(e,l,r,!0),Wm(e,l,r,!1),US(t,l,e,r,i),s=qa(a,c),i?t.classBindings=s:t.styleBindings=s}function US(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Zr(i,t)>=0&&(n[r+1]=sf(n[r+1]))}function Wm(e,t,n,r){let o=e[n+1],i=t===null,s=r?rr(o):po(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];$S(c,t)&&(a=!0,e[s+1]=r?sf(u):of(u)),s=r?rr(u):po(u)}a&&(e[n+1]=r?of(o):sf(o))}function $S(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Zr(e,t)>=0:!1}var ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BS(e){return e.substring(ct.key,ct.keyEnd)}function VS(e){return HS(e),Jy(e,Qy(e,0,ct.textEnd))}function Jy(e,t){let n=ct.textEnd;return n===t?-1:(t=ct.keyEnd=zS(e,ct.key=t,n),Qy(e,t,n))}function HS(e){ct.key=0,ct.keyEnd=0,ct.value=0,ct.valueEnd=0,ct.textEnd=e.length}function Qy(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function zS(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Xy(e,t,n){return tw(e,t,n,!1),Xy}function ew(e,t){return tw(e,t,null,!0),ew}function qS(e){WS(XS,GS,e,!0)}function GS(e,t){for(let n=VS(t);n>=0;n=Jy(t,n))Ra(e,BS(t),!0)}function tw(e,t,n,r){let o=N(),i=Z(),s=hd(2);if(i.firstUpdatePass&&rw(i,e,s,r),t!==Ye&&Ze(o,s,t)){let a=i.data[Dt()];ow(i,a,o,o[K],e,o[s+1]=t0(t,n),r,s)}}function WS(e,t,n,r){let o=Z(),i=hd(2);o.firstUpdatePass&&rw(o,null,i,r);let s=N();if(n!==Ye&&Ze(s,i,n)){let a=o.data[Dt()];if(iw(a,r)&&!nw(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ca(c,n||"")),rf(o,a,s,n,r)}else e0(o,a,s,s[K],s[i+1],s[i+1]=QS(e,t,n),r,i)}}function nw(e,t){return t>=e.expandoStartIndex}function rw(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Dt()],s=nw(e,n);iw(i,r)&&t===null&&!s&&(t=!1),t=KS(o,i,t,r),jS(o,i,t,n,s,r)}}function KS(e,t,n,r){let o=lm(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Md(null,e,t,n,r),n=Ni(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Md(o,e,t,n,r),i===null){let c=ZS(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Md(null,e,t,c[1],r),c=Ni(c,t.attrs,r),YS(e,t,r,c))}else i=JS(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function ZS(e,t,n){let r=n?t.classBindings:t.styleBindings;if(po(r)!==0)return e[rr(r)]}function YS(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[rr(o)]=r}function JS(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Ni(r,s,n)}return Ni(r,t.attrs,n)}function Md(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Ni(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ni(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ra(e,s,n?!0:t[++i]))}return e===void 0?null:e}function QS(e,t,n){if(n==null||n==="")return Ce;let r=[],o=xi(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function XS(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Ra(e,r,n)}function e0(e,t,n,r,o,i,s,a){o===Ye&&(o=Ce);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,y;l===d?(c+=2,u+=2,h!==f&&(p=d,y=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,y=f),p!==null&&ow(e,t,n,r,p,y,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function ow(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=FS(u)?Km(c,t,n,o,po(u),s):void 0;if(!pc(l)){pc(i)||PS(u)&&(i=Km(c,null,n,o,a,s));let d=Ql(Dt(),n);EC(r,s,d,o,i)}}function Km(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===Ye&&(h=d?Ce:void 0);let f=d?Na(h,r):l===r?h:void 0;if(u&&!pc(f)&&(f=Na(c,r)),pc(f)&&(a=f,s))return a;let p=e[o+1];o=s?rr(p):po(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Na(c,r))}return a}function pc(e){return e!==void 0}function t0(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=$t(xi(e)))),e}function iw(e,t){return(e.flags&(t?8:16))!==0}function n0(e,t=""){let n=N(),r=Z(),o=e+te,i=r.firstCreatePass?or(r,o,1,t,null):r.data[o],s=r0(r,n,i,t,e);n[o]=s,Va()&&Df(r,n,s,i),Qn(i,!1)}var r0=(e,t,n,r,o)=>(Ei(!0),XI(t[K],r));function sw(e,t,n,r=""){return Ze(e,yn(),n)?t+di(n)+r:Ye}function aw(e){return th("",e),aw}function th(e,t,n){let r=N(),o=sw(r,e,t,n);return o!==Ye&&o0(r,Dt(),o),th}function o0(e,t,n){let r=Ql(t,e);eC(e[K],r,n)}function cw(e,t,n){yd(t)&&(t=t());let r=N(),o=yn();if(Ze(r,o,t)){let i=Z(),s=wi();Gv(s,r,e,t,r[K],n)}return cw}function i0(e,t){let n=yd(e);return n&&e.set(t),n}function uw(e,t){let n=N(),r=Z(),o=pe();return Ky(r,n,n[K],o,e,t),uw}var lw={};function dw(e){let t=Z(),n=N(),r=e+te,o=or(t,r,128,null,null);return Qn(o,!1),ka(t,n,r,lw),dw}function s0(e){Je("NgLet");let t=Z(),n=N(),r=Dt();return ka(t,n,r,e),e}function a0(e){let t=im(),n=Kg(t,te+e);if(n===lw)throw new D(314,!1);return n}function c0(e,t,n=""){return sw(N(),e,t,n)}function u0(e,t,n){let r=Z();if(r.firstCreatePass){let o=it(e);af(n,r.data,r.blueprint,o,!0),af(t,r.data,r.blueprint,o,!1)}}function af(e,t,n,r,o){if(e=fe(e),Array.isArray(e))for(let i=0;i<e.length;i++)af(e[i],t,n,r,o);else{let i=Z(),s=N(),a=pe(),c=Hn(e)?e:fe(e.provide),u=Gl(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Hn(e)||!e.multi){let f=new tr(u,o,Gt,null),p=Rd(c,t,o?l:l+h,d);p===-1?(xd(Xa(a,s),i,c),Ad(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Rd(c,t,l+h,d),p=Rd(c,t,l,l+h),y=f>=0&&n[f],g=p>=0&&n[p];if(o&&!g||!o&&!y){xd(Xa(a,s),i,c);let m=f0(o?d0:l0,n.length,o,r,u,e);!o&&g&&(n[p].providerFactory=m),Ad(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=fw(n[o?p:f],u,!o&&r);Ad(i,e,f>-1?f:p,m)}!o&&r&&g&&n[p].componentProviders++}}}function Ad(e,t,n,r){let o=Hn(t),i=zg(t);if(o||i){let c=(i?fe(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function fw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Rd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function l0(e,t,n,r,o){return cf(this.multi,[])}function d0(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ci(r,r[M],this.providerFactory.index,o);s=c.slice(0,a),cf(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],cf(i,s);return s}function cf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function f0(e,t,n,r,o,i){let s=new tr(e,n,Gt,null);return s.multi=[],s.index=t,s.componentProviders=0,fw(s,o,r&&!n),s}function h0(e,t=[]){return n=>{n.providersResolver=(r,o)=>u0(r,o?o(e):e,t)}}function p0(e,t,n,r){return m0(N(),fd(),e,t,n,r)}function g0(e,t,n,r,o){return v0(N(),fd(),e,t,n,r,o)}function hw(e,t){let n=e[t];return n===Ye?void 0:n}function m0(e,t,n,r,o,i){let s=t+n;return Ze(e,s,o)?py(e,s+1,i?r.call(i,o):r(o)):hw(e,s+1)}function v0(e,t,n,r,o,i,s){let a=t+n;return gT(e,a,o,i)?py(e,a+2,s?r.call(s,o,i):r(o,i)):hw(e,a+2)}var gc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},nh=(()=>{class e{compileModuleSync(n){return new uc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Hl(n),i=Rv(o.declarations).reduce((s,a)=>{let c=vt(a);return c&&s.push(new Dn(c)),s},[]);return new gc(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var y0=(()=>{class e{zone=v(ie);changeDetectionScheduler=v(Ve);applicationRef=v(ar);applicationErrorHandler=v(Ke);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ie(V(w({},gw()),{scheduleInRootZone:n})),[{provide:ie,useFactory:e},{provide:fn,multi:!0,useFactory:()=>{let r=v(y0,{optional:!0});return()=>r.initialize()}},{provide:fn,multi:!0,useFactory:()=>{let r=v(w0);return()=>{r.initialize()}}},t===!0?{provide:wd,useValue:!0}:[],{provide:Ha,useValue:n??ky},{provide:Ke,useFactory:()=>{let r=v(ie),o=v(ae),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Fe),i.handleError(s))})}}}]}function gw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var w0=(()=>{class e{subscription=new Q;initialized=!1;zone=v(ie);pendingTasks=v(_t);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rh=(()=>{class e{applicationErrorHandler=v(Ke);appRef=v(ar);taskService=v(_t);ngZone=v(ie);zonelessEnabled=v(Di);tracing=v(sr,{optional:!0});disableScheduling=v(wd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Q;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Ha,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ri||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Vm:Py;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function E0(){return Je("NgZoneless"),hn([{provide:Ve,useExisting:rh},{provide:ie,useClass:Ri},{provide:Di,useValue:!0},{provide:Ha,useValue:!1},[]])}function D0(){return typeof $localize<"u"&&$localize.locale||$i}var oh=new b("",{providedIn:"root",factory:()=>v(oh,{optional:!0,skipSelf:!0})||D0()});var Bi=class{destroyed=!1;listeners=null;errorHandler=v(Fe,{optional:!0});destroyRef=v(We);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new D(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(dn(953,!1));return}if(this.listeners===null)return;let n=R(null);try{for(let r of this.listeners)try{r(t)}catch(o){this.errorHandler?.handleError(o)}}finally{R(n)}}};function Ee(e){return Tg(e)}function It(e,t){return Jo(e,t?.equal)}var ih=class{[se];constructor(t){this[se]=t}destroy(){this[se].destroy()}};function yw(e,t){let n=t?.injector??v(Te),r=t?.manualCleanup!==!0?n.get(We):null,o,i=n.get(oo,null,{optional:!0}),s=n.get(Ve);return i!==null?(o=I0(i.view,s,e),r instanceof ui&&r._lView===i.view&&(r=null)):o=C0(e,n.get(_i),s),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new ih(o)}var ww=V(w({},Sg),{cleanupFns:void 0,zone:null,onDestroyFn:Xn,run(){let e=no(!1);try{Mg(this)}finally{no(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=R(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],R(e)}}}),_0=V(w({},ww),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Pn(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),b0=V(w({},ww),{consumerMarkedDirty(){this.view[x]|=8192,vn(this.view),this.notifier.notify(13)},destroy(){Pn(this),this.onDestroyFn(),this.cleanup(),this.view[Vt]?.delete(this)}});function I0(e,t,n){let r=Object.create(b0);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=Ew(r,n),e[Vt]??=new Set,e[Vt].add(r),r.consumerMarkedDirty(r),r}function C0(e,t,n){let r=Object.create(_0);return r.fn=Ew(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Ew(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}var T0=e=>e;function sh(e,t){if(typeof e=="function"){let n=yl(e,T0,t?.equal);return mw(n,t?.debugName)}else{let n=yl(e.source,e.computation,e.equal);return mw(n,e.debugName)}}function mw(e,t){let n=e[se],r=e;return r.set=o=>Ig(n,o),r.update=o=>Cg(n,o),r.asReadonly=ro.bind(e),r}var Dw=!0;function S0(e){let t=e.request,n=e.params??t??(()=>null);return new xc(n,A0(e),e.defaultValue,e.equal?M0(e.equal):void 0,e.injector??v(Te),Dw)}var ah=class{value;constructor(t){this.value=t,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=ro}isError=It(()=>this.status()==="error");update(t){this.set(t(Ee(this.value)))}isLoading=It(()=>this.status()==="loading"||this.status()==="reloading");isValueDefined=It(()=>this.isError()?!1:this.value()!==void 0);hasValue(){return this.isValueDefined()}asReadonly(){return this}},xc=class extends ah{loaderFn;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;unregisterOnDestroy;constructor(t,n,r,o,i,s=Dw){super(It(()=>{let a=this.state().stream?.();if(!a||this.state().status==="loading"&&this.error())return r;if(!ch(a)){if(s)throw new uh(this.error());return r}return a.value},{equal:o})),this.loaderFn=n,this.equal=o,this.extRequest=sh({source:t,computation:a=>({request:a,reload:0})}),this.state=sh({source:this.extRequest,computation:(a,c)=>{let u=a.request===void 0?"idle":"loading";return c?{extRequest:a,status:u,previousStatus:vw(c.value),stream:c.value.extRequest.request===a.request?c.value.stream:void 0}:{extRequest:a,status:u,previousStatus:"idle",stream:void 0}}}),this.effectRef=yw(this.loadEffect.bind(this),{injector:i,manualCleanup:!0}),this.pendingTasks=i.get(io),this.unregisterOnDestroy=i.get(We).onDestroy(()=>this.destroy())}status=It(()=>vw(this.state()));error=It(()=>{let t=this.state().stream?.();return t&&!ch(t)?t.error:void 0});set(t){if(this.destroyed)return;let n=Ee(this.error),r=Ee(this.state);if(!n){let o=Ee(this.value);if(r.status==="local"&&(this.equal?this.equal(o,t):o===t))return}this.state.set({extRequest:r.extRequest,status:"local",previousStatus:"local",stream:ke({value:t})}),this.abortInProgressLoad()}reload(){let{status:t}=Ee(this.state);return t==="idle"||t==="loading"?!1:(this.extRequest.update(({request:n,reload:r})=>({request:n,reload:r+1})),!0)}destroy(){this.destroyed=!0,this.unregisterOnDestroy(),this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:"idle",previousStatus:"idle",stream:void 0})}async loadEffect(){let t=this.extRequest(),{status:n,previousStatus:r}=Ee(this.state);if(t.request===void 0)return;if(n!=="loading")return;this.abortInProgressLoad();let o=this.resolvePendingTask=this.pendingTasks.add(),{signal:i}=this.pendingController=new AbortController;try{let s=await Ee(()=>this.loaderFn({params:t.request,request:t.request,abortSignal:i,previous:{status:r}}));if(i.aborted||Ee(this.extRequest)!==t)return;this.state.set({extRequest:t,status:"resolved",previousStatus:"resolved",stream:s})}catch(s){if(i.aborted||Ee(this.extRequest)!==t)return;this.state.set({extRequest:t,status:"resolved",previousStatus:"error",stream:ke({error:dh(s)})})}finally{o?.(),o=void 0}}abortInProgressLoad(){Ee(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}};function M0(e){return(t,n)=>t===void 0||n===void 0?t===n:e(t,n)}function A0(e){return R0(e)?e.stream:async t=>{try{return ke({value:await e.loader(t)})}catch(n){return ke({error:dh(n)})}}}function R0(e){return!!e.stream}function vw(e){switch(e.status){case"loading":return e.extRequest.reload===0?"loading":"reloading";case"resolved":return ch(e.stream())?"resolved":"error";default:return e.status}}function ch(e){return e.error===void 0}function dh(e){return e instanceof Error?e:new lh(e)}var uh=class extends Error{constructor(t){super(t.message,{cause:t})}},lh=class extends Error{constructor(t){super(String(t),{cause:t})}};var Pc=Symbol("InputSignalNode#UNSET"),Aw=V(w({},Ws),{transformFn:void 0,applyValueToInputSignal(e,t){rn(e,t)}});function Rw(e,t){let n=Object.create(Aw);n.value=e,n.transformFn=t?.transform;function r(){if(tn(n),n.value===Pc){let o=null;throw new D(-950,o)}return n.value}return r[se]=n,r}var fh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>vc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},V0=new b("");V0.__NG_ELEMENT_ID__=e=>{let t=pe();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new D(204,!1)};function qz(e){return new Bi}function _w(e,t){return Rw(e,t)}function H0(e){return Rw(Pc,e)}var Nw=(_w.required=H0,_w);function bw(e,t){return Iy(t)}function z0(e,t){return Cy(t)}var Gz=(bw.required=z0,bw);function Wz(e,t){return Ty(t)}function xw(e,t){let n=Object.create(Aw),r=new Bi;n.value=e;function o(){return tn(n),Iw(n.value),n.value}return o[se]=n,o.asReadonly=ro.bind(o),o.set=i=>{n.equal(n.value,i)||(rn(n,i),r.emit(i))},o.update=i=>{Iw(n.value),o.set(i(n.value))},o.subscribe=r.subscribe.bind(r),o.destroyRef=r.destroyRef,o}function Iw(e){if(e===Pc)throw new D(952,!1)}function Cw(e,t){return xw(e,t)}function q0(e){return xw(Pc,e)}var Kz=(Cw.required=q0,Cw);var hh=new b(""),G0=new b("");function Vi(e){return!e.moduleRef}function W0(e){let t=Vi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ie);return n.run(()=>{Vi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Ke),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Vi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(hh);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(hh);s.add(i),e.moduleRef.onDestroy(()=>{Ii(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return Z0(r,n,()=>{let i=t.get(_t),s=i.add(),a=t.get(qf);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(oh,$i);if(Wy(c||$i),!t.get(G0,!0))return Vi(e)?t.get(ar):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Vi(e)){let l=t.get(ar);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return K0?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var K0;function Z0(e,t,n){try{let r=n();return ji(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Oc=null;function Y0(e=[],t){return Te.create({name:t,providers:[{provide:hi,useValue:"platform"},{provide:hh,useValue:new Set([()=>Oc=null])},...e]})}function J0(e=[]){if(Oc)return Oc;let t=Y0(e);return Oc=t,$y(),Q0(t),t}function Q0(e){let t=e.get(wc,null);we(e,()=>{t?.forEach(n=>n())})}var Hi=(()=>{class e{static __NG_ELEMENT_ID__=X0}return e})();function X0(e){return eM(pe(),N(),(e&16)===16)}function eM(e,t,n){if(mn(e)&&!n){let r=qe(e.index,t);return new En(r,r)}else if(e.type&175){let r=t[Ae];return new En(r,t)}return null}var ph=class{constructor(){}supports(t){return Of(t)}create(t){return new gh(t)}},tM=(e,t)=>t,gh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||tM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Tw(r,o,i)?n:r,a=Tw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Of(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,fy(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new mh(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new kc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},mh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},vh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},kc=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new vh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Tw(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Sw(){return new Ow([new ph])}var Ow=(()=>{class e{factories;static \u0275prov=_({token:e,providedIn:"root",factory:Sw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=v(e,{optional:!0,skipSelf:!0});return e.create(n,r||Sw())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new D(901,!1)}}return e})();function kw(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;q(8);try{let i=o?.injector??J0(r),s=[pw({}),{provide:Ve,useExisting:rh},wm,...n||[]],a=new Mi({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return W0({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{q(9)}}function Pw(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function nM(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function Zz(e,t){let n=vt(e),r=t.elementInjector||Yr();return new Dn(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}function Lw(e){let t=vt(e);if(!t)return null;let n=new Dn(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Uw=null;function Wt(){return Uw}function yh(e){Uw??=e}var zi=class{},qi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v($w),providedIn:"platform"})}return e})(),wh=new b(""),$w=(()=>{class e extends qi{_location;_history;_doc=v(oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wt().getBaseHref(this._doc)}onPopState(n){let r=Wt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Wt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Lc(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Fw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function ut(e){return e&&e[0]!=="?"?`?${e}`:e}var Tt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(jc),providedIn:"root"})}return e})(),Fc=new b(""),jc=(()=>{class e extends Tt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lc(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ut(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(T(qi),T(Fc,8))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),In=(()=>{class e{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=iM(Fw(jw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ut(r))}normalize(n){return e.stripTrailingSlash(oM(this._basePath,jw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ut(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ut(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=ut;static joinWithSlash=Lc;static stripTrailingSlash=Fw;static \u0275fac=function(r){return new(r||e)(T(Tt))};static \u0275prov=_({token:e,factory:()=>rM(),providedIn:"root"})}return e})();function rM(){return new In(T(Tt))}function oM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function jw(e){return e.replace(/\/index.html$/,"")}function iM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Uc=(()=>{class e extends Tt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Lc(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(T(qi),T(Fc,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();var Eh=/\s+/,Bw=[],sM=(()=>{class e{_ngEl;_renderer;initialClasses=Bw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Eh):Bw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Eh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Eh).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(Gt(qt),Gt(Fi))};static \u0275dir=ir({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var aM=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||e)(Gt(_n))};static \u0275dir=ir({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[mo]})}return e})();var Vw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=Bt({})}return e})();function Gi(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var cr=class{};var _h="browser",uM="server";function _q(e){return e===_h}function bq(e){return e===uM}var Hw=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new Dh(v(oe),window)})}return e})(),Dh=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(V(w({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=lM(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(dn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(V(w({},n),{left:o-s[0],top:i-s[1]}))}};function lM(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var Bc=new b(""),Sh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(T(Bc),T(ie))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Wi=class{_doc;constructor(t){this._doc=t}manager},bh="ng-app-id";function zw(e){for(let t of e)t.remove()}function qw(e,t){let n=t.createElement("style");return n.textContent=e,n}function dM(e,t,n,r){let o=e.head?.querySelectorAll(`style[${bh}="${t}"],link[${bh}="${t}"]`);if(o)for(let i of o)i.removeAttribute(bh),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Ch(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Mh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,dM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,qw);r?.forEach(o=>this.addUsage(o,this.external,Ch))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(zw(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])zw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,qw(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Ch(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(T(oe),T(yc),T(Ec,8),T(yo))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ah=/%COMP%/g;var Ww="%COMP%",fM=`_nghost-${Ww}`,hM=`_ngcontent-${Ww}`,pM=!0,gM=new b("",{providedIn:"root",factory:()=>pM});function mM(e){return hM.replace(Ah,e)}function vM(e){return fM.replace(Ah,e)}function Kw(e,t){return t.map(n=>n.replace(Ah,e))}var Rh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ki(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof $c?o.applyToHost(n):o instanceof Zi&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Ht.Emulated:i=new $c(c,u,r,this.appId,l,s,a,d,h);break;case Ht.ShadowDom:return new Th(c,u,n,r,s,a,this.nonce,d,h);default:i=new Zi(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(T(Sh),T(Mh),T(yc),T(gM),T(oe),T(yo),T(ie),T(Ec),T(sr,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Ki=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Ih[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Gw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Gw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Ih[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Ih[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(zt.DashCase|zt.Important)?t.style.setProperty(n,r,o&zt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&zt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Wt().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Gw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Th=class extends Ki{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=Kw(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Ch(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zi=class extends Ki{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?Kw(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&bc.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$c=class extends Zi{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(t,n,r,i,s,a,c,u,l),this.contentAttr=mM(l),this.hostAttr=vM(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Vc=class e extends zi{supportsDOMEvents=!0;static makeCurrent(){yh(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=yM();return n==null?null:wM(n)}resetBaseElement(){Yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Gi(document.cookie,t)}},Yi=null;function yM(){return Yi=Yi||document.head.querySelector("base"),Yi?Yi.getAttribute("href"):null}function wM(e){return new URL(e,document.baseURI).pathname}var EM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Yw=(()=>{class e extends Wi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(T(oe))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Zw=["alt","control","meta","shift"],DM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_M={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Jw=(()=>{class e extends Wi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Zw.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=DM[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Zw.forEach(s=>{if(s!==o){let a=_M[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(T(oe))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function bM(e,t,n){let r=w({rootComponent:e,platformRef:n?.platformRef},IM(t));return kw(r)}function IM(e){return{appProviders:[...AM,...e?.providers??[]],platformProviders:MM}}function CM(){Vc.makeCurrent()}function TM(){return new Fe}function SM(){return df(document),document}var MM=[{provide:yo,useValue:_h},{provide:wc,useValue:CM,multi:!0},{provide:oe,useFactory:SM}];var AM=[{provide:hi,useValue:"root"},{provide:Fe,useFactory:TM},{provide:Bc,useClass:Yw,multi:!0,deps:[oe]},{provide:Bc,useClass:Jw,multi:!0,deps:[oe]},Rh,Mh,Sh,{provide:nr,useExisting:Rh},{provide:cr,useClass:EM},[]];var _o=class{},Ji=class{},Cn=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var zc=class{encodeKey(t){return Qw(t)}encodeValue(t){return Qw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function RM(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var NM=/%(\d[a-f0-9])/gi,xM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qw(e){return encodeURIComponent(e).replace(NM,(t,n)=>xM[n]??t)}function Hc(e){return`${e}`}var Kt=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new zc,t.fromString){if(t.fromObject)throw new D(2805,!1);this.map=RM(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(Hc):[Hc(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Hc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(Hc(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var qc=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function OM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function eE(e){return typeof Blob<"u"&&e instanceof Blob}function tE(e){return typeof FormData<"u"&&e instanceof FormData}function kM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var nE="Content-Type",rE="Accept",oE="X-Request-URL",iE="text/plain",sE="application/json",PM=`${sE}, ${iE}, */*`,Eo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(OM(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new D(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Cn,this.context??=new qc,!this.params)this.params=new Kt,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xw(this.body)||eE(this.body)||tE(this.body)||kM(this.body)?this.body:this.body instanceof Kt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tE(this.body)?null:eE(this.body)?this.body.type||null:Xw(this.body)?null:typeof this.body=="string"?iE:this.body instanceof Kt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sE:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.transferCache??this.transferCache,p=t.timeout??this.timeout,y=t.body!==void 0?t.body:this.body,g=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,C=t.headers||this.headers,I=t.params||this.params,E=t.context??this.context;return t.setHeaders!==void 0&&(C=Object.keys(t.setHeaders).reduce((B,ve)=>B.set(ve,t.setHeaders[ve]),C)),t.setParams&&(I=Object.keys(t.setParams).reduce((B,ve)=>B.set(ve,t.setParams[ve]),I)),new e(n,r,y,{params:I,headers:C,context:E,reportProgress:m,responseType:o,withCredentials:g,transferCache:f,keepalive:i,cache:a,priority:s,timeout:p,mode:c,redirect:u,credentials:l,referrer:d,integrity:h})}},ur=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(ur||{}),bo=class{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new Cn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},Gc=class e extends bo{constructor(t={}){super(t)}type=ur.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qi=class e extends bo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ur.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Do=class extends bo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},LM=200,FM=204;function Nh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var aE=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Eo)i=n;else{let c;o.headers instanceof Cn?c=o.headers:c=new Cn(o.headers);let u;o.params&&(o.params instanceof Kt?u=o.params:u=new Kt({fromObject:o.params})),i=new Eo(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=S(i).pipe(mt(c=>this.handler.handle(c)));if(n instanceof Eo||o.observe==="events")return s;let a=s.pipe(le(c=>c instanceof Qi));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe($(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new D(2806,!1);return c.body}));case"blob":return a.pipe($(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new D(2807,!1);return c.body}));case"text":return a.pipe($(c=>{if(c.body!==null&&typeof c.body!="string")throw new D(2808,!1);return c.body}));case"json":default:return a.pipe($(c=>c.body))}case"response":return a;default:throw new D(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Kt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Nh(o,r))}post(n,r,o={}){return this.request("POST",n,Nh(o,r))}put(n,r,o={}){return this.request("PUT",n,Nh(o,r))}static \u0275fac=function(r){return new(r||e)(T(_o))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();var jM=new b("");function UM(e,t){return t(e)}function $M(e,t,n){return(r,o)=>we(n,()=>t(r,i=>e(i,o)))}var cE=new b(""),uE=new b(""),lE=new b("",{providedIn:"root",factory:()=>!0});var Wc=(()=>{class e extends _o{backend;injector;chain=null;pendingTasks=v(io);contributeToStability=v(lE);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(cE),...this.injector.get(uE,[])]));this.chain=r.reduceRight((o,i)=>$M(o,i,this.injector),UM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(un(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(T(Ji),T(ae))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();var BM=/^\)\]\}',?\n/,VM=RegExp(`^${oE}:`,"m");function HM(e){return"responseURL"in e&&e.responseURL?e.responseURL:VM.test(e.getAllResponseHeaders())?e.getResponseHeader(oE):null}var xh=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return S(null).pipe(ye(()=>new F(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(rE)||s.setRequestHeader(rE,PM),!n.headers.has(nE)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(nE,g)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",m=new Cn(s.getAllResponseHeaders()),C=HM(s)||n.url;return c=new Gc({headers:m,status:s.status,statusText:g,url:C}),c},l=()=>{let{headers:g,status:m,statusText:C,url:I}=u(),E=null;m!==FM&&(E=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=E?LM:0);let B=m>=200&&m<300;if(n.responseType==="json"&&typeof E=="string"){let ve=E;E=E.replace(BM,"");try{E=E!==""?JSON.parse(E):null}catch(G){E=ve,B&&(B=!1,E={error:G,text:E})}}B?(i.next(new Qi({body:E,headers:g,status:m,statusText:C,url:I||void 0})),i.complete()):i.error(new Do({error:E,headers:g,status:m,statusText:C,url:I||void 0}))},d=g=>{let{url:m}=u(),C=new Do({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});i.error(C)},h=d;n.timeout&&(h=g=>{let{url:m}=u(),C=new Do({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});i.error(C)});let f=!1,p=g=>{f||(i.next(u()),f=!0);let m={type:ur.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),i.next(m)},y=g=>{let m={type:ur.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),i.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),i.next({type:ur.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(T(cr))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),dE=new b(""),zM="XSRF-TOKEN",qM=new b("",{providedIn:"root",factory:()=>zM}),GM="X-XSRF-TOKEN",WM=new b("",{providedIn:"root",factory:()=>GM}),Xi=class{},KM=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gi(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(T(oe),T(qM))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function ZM(e,t){let n=e.url.toLowerCase();if(!v(dE)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=v(Xi).getToken(),o=v(WM);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}function YM(...e){let t=[aE,xh,Wc,{provide:_o,useExisting:Wc},{provide:Ji,useFactory:()=>v(jM,{optional:!0})??v(xh)},{provide:cE,useValue:ZM,multi:!0},{provide:dE,useValue:!0},{provide:Xi,useClass:KM}];for(let n of e)t.push(...n.\u0275providers);return hn(t)}var fE=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(T(oe))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L="primary",fs=Symbol("RouteTitle"),Fh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fr(e){return new Fh(e)}function EE(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function QM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!St(e[n],t[n]))return!1;return!0}function St(e,t){let n=e?jh(e):void 0,r=t?jh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!DE(e[o],t[o]))return!1;return!0}function jh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function DE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function _E(e){return e.length>0?e[e.length-1]:null}function Yt(e){return fl(e)?e:ji(e)?re(Promise.resolve(e)):S(e)}var XM={exact:IE,subset:CE},bE={exact:eA,subset:tA,ignored:()=>!0};function hE(e,t,n){return XM[n.paths](e.root,t.root,n.matrixParams)&&bE[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function eA(e,t){return St(e,t)}function IE(e,t,n){if(!lr(e.segments,t.segments)||!Yc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!IE(e.children[r],t.children[r],n))return!1;return!0}function tA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>DE(e[n],t[n]))}function CE(e,t,n){return TE(e,t,t.segments,n)}function TE(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!lr(o,n)||t.hasChildren()||!Yc(o,n,r))}else if(e.segments.length===n.length){if(!lr(e.segments,n)||!Yc(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!CE(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!lr(e.segments,o)||!Yc(e.segments,o,r)||!e.children[L]?!1:TE(e.children[L],t,i,r)}}function Yc(e,t,n){return t.every((r,o)=>bE[n](e[o].parameters,r.parameters))}var At=class{root;queryParams;fragment;_queryParamMap;constructor(t=new H([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fr(this.queryParams),this._queryParamMap}toString(){return oA.serialize(this)}},H=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jc(this)}},Tn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=fr(this.parameters),this._parameterMap}toString(){return ME(this)}};function nA(e,t){return lr(e,t)&&e.every((n,r)=>St(n.parameters,t[r].parameters))}function lr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function rA(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===L&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==L&&(n=n.concat(t(o,r)))}),n}var hr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new Sn,providedIn:"root"})}return e})(),Sn=class{parse(t){let n=new $h(t);return new At(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${es(t.root,!0)}`,r=aA(t.queryParams),o=typeof t.fragment=="string"?`#${iA(t.fragment)}`:"";return`${n}${r}${o}`}},oA=new Sn;function Jc(e){return e.segments.map(t=>ME(t)).join("/")}function es(e,t){if(!e.hasChildren())return Jc(e);if(t){let n=e.children[L]?es(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==L&&r.push(`${o}:${es(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rA(e,(r,o)=>o===L?[es(e.children[L],!1)]:[`${o}:${es(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${Jc(e)}/${n[0]}`:`${Jc(e)}/(${n.join("//")})`}}function SE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(e){return SE(e).replace(/%3B/gi,";")}function iA(e){return encodeURI(e)}function Uh(e){return SE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qc(e){return decodeURIComponent(e)}function pE(e){return Qc(e.replace(/\+/g,"%20"))}function ME(e){return`${Uh(e.path)}${sA(e.parameters)}`}function sA(e){return Object.entries(e).map(([t,n])=>`;${Uh(t)}=${Uh(n)}`).join("")}function aA(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Kc(n)}=${Kc(o)}`).join("&"):`${Kc(n)}=${Kc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var cA=/^[^\/()?;#]+/;function Oh(e){let t=e.match(cA);return t?t[0]:""}var uA=/^[^\/()?;=#]+/;function lA(e){let t=e.match(uA);return t?t[0]:""}var dA=/^[^=?&#]+/;function fA(e){let t=e.match(dA);return t?t[0]:""}var hA=/^[^&#]+/;function pA(e){let t=e.match(hA);return t?t[0]:""}var $h=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new H(t,n)),r}parseSegment(){let t=Oh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(t),new Tn(Qc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=lA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Oh(this.remaining);o&&(r=o,this.capture(r))}t[Qc(n)]=Qc(r)}parseQueryParam(t){let n=fA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=pA(this.remaining);s&&(r=s,this.capture(r))}let o=pE(n),i=pE(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Oh(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=L);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[L]:new H([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new D(4011,!1)}};function AE(e){return e.segments.length>0?new H([],{[L]:e}):e}function RE(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=RE(o);if(r===L&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new H(e.segments,t);return gA(n)}function gA(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new H(e.segments.concat(t.segments),t.children)}return e}function Ao(e){return e instanceof At}function NE(e,t,n=null,r=null){let o=xE(e);return OE(o,t,n,r)}function xE(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new H(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=AE(r);return t??o}function OE(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return kh(o,o,o,n,r);let i=mA(t);if(i.toRoot())return kh(o,o,new H([],{}),n,r);let s=vA(i,o,e),a=s.processChildren?ns(s.segmentGroup,s.index,i.commands):PE(s.segmentGroup,s.index,i.commands);return kh(o,s.segmentGroup,a,n,r)}function Xc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function os(e){return typeof e=="object"&&e!=null&&e.outlets}function kh(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=kE(e,t,n);let a=AE(RE(s));return new At(a,i,o)}function kE(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=kE(i,t,n)}),new H(e.segments,r)}var eu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Xc(r[0]))throw new D(4003,!1);let o=r.find(os);if(o&&o!==_E(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new eu(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new eu(n,t,r)}var To=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function vA(e,t,n){if(e.isAbsolute)return new To(t,!0,0);if(!n)return new To(t,!1,NaN);if(n.parent===null)return new To(n,!0,0);let r=Xc(e.commands[0])?0:1,o=n.segments.length-1+r;return yA(n,o,e.numberOfDoubleDots)}function yA(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new To(r,!1,o-i)}function wA(e){return os(e[0])?e[0].outlets:{[L]:e}}function PE(e,t,n){if(e??=new H([],{}),e.segments.length===0&&e.hasChildren())return ns(e,t,n);let r=EA(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new H(e.segments.slice(0,r.pathIndex),{});return i.children[L]=new H(e.segments.slice(r.pathIndex),e.children),ns(i,0,o)}else return r.match&&o.length===0?new H(e.segments,{}):r.match&&!e.hasChildren()?Bh(e,t,n):r.match?ns(e,0,o):Bh(e,t,n)}function ns(e,t,n){if(n.length===0)return new H(e.segments,{});{let r=wA(n),o={};if(Object.keys(r).some(i=>i!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let i=ns(e.children[L],t,n);return new H(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=PE(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new H(e.segments,o)}}function EA(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(os(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!mE(c,u,s))return i;r+=2}else{if(!mE(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Bh(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(os(i)){let c=DA(i.outlets);return new H(r,c)}if(o===0&&Xc(n[0])){let c=e.segments[t];r.push(new Tn(c.path,gE(n[0]))),o++;continue}let s=os(i)?i.outlets[L]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Xc(a)?(r.push(new Tn(s,gE(a))),o+=2):(r.push(new Tn(s,{})),o++)}return new H(r,{})}function DA(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Bh(new H([],{}),0,r))}),t}function gE(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function mE(e,t,n){return e==n.path&&St(t,n.parameters)}var So="imperative",ge=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ge||{}),$e=class{id;url;constructor(t,n){this.id=t,this.url=n}},Mn=class extends $e{type=ge.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dt=class extends $e{urlAfterRedirects;type=ge.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ne||{}),Ro=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Ro||{}),Mt=class extends $e{reason;code;type=ge.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rt=class extends $e{reason;code;type=ge.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},No=class extends $e{error;target;type=ge.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},is=class extends $e{urlAfterRedirects;state;type=ge.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends $e{urlAfterRedirects;state;type=ge.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class extends $e{urlAfterRedirects;state;shouldActivate;type=ge.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ru=class extends $e{urlAfterRedirects;state;type=ge.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ou=class extends $e{urlAfterRedirects;state;type=ge.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iu=class{route;type=ge.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},su=class{route;type=ge.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},au=class{snapshot;type=ge.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cu=class{snapshot;type=ge.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uu=class{snapshot;type=ge.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lu=class{snapshot;type=ge.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xo=class{routerEvent;position;anchor;type=ge.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ss=class{},Oo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function _A(e){return!(e instanceof ss)&&!(e instanceof Oo)}function bA(e,t){return e.providers&&!e._injector&&(e._injector=wo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function lt(e){return e.outlet||L}function IA(e,t){let n=e.filter(r=>lt(r)===t);return n.push(...e.filter(r=>lt(r)!==t)),n}function Lo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var du=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Lo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new pr(this.rootInjector)}},pr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new du(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(T(ae))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Vh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Vh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Hh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Hh(t,this._root).map(n=>n.value)}};function Vh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Vh(e,n);if(r)return r}return null}function Hh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Hh(e,n);if(r.length)return r.unshift(t),r}return[]}var Ue=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Co(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var as=class extends fu{snapshot;constructor(t,n){super(t),this.snapshot=n,Jh(this,t)}toString(){return this.snapshot.toString()}};function LE(e){let t=CA(e),n=new De([new Tn("",{})]),r=new De({}),o=new De({}),i=new De({}),s=new De(""),a=new Zt(n,r,i,s,o,L,e,t.root);return a.snapshot=t.root,new as(new Ue(a,[]),t)}function CA(e){let t={},n={},r={},i=new dr([],t,r,"",n,L,e,null,{});return new cs("",new Ue(i,[]))}var Zt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[fs]))??S(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(t=>fr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(t=>fr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hu(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&jE(o)&&(r.resolve[fs]=o.title),r}var dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fs]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},cs=class extends fu{url;constructor(t,n){super(n),this.url=t,Jh(this,n)}toString(){return FE(this._root)}};function Jh(e,t){t.value._routerState=e,t.children.forEach(n=>Jh(e,n))}function FE(e){let t=e.children.length>0?` { ${e.children.map(FE).join(", ")} } `:"";return`${e.value}${t}`}function Ph(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,St(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),St(t.params,n.params)||e.paramsSubject.next(n.params),QM(t.url,n.url)||e.urlSubject.next(n.url),St(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zh(e,t){let n=St(e.params,t.params)&&nA(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||zh(e.parent,t.parent))}function jE(e){return typeof e.title=="string"||e.title===null}var UE=new b(""),Qh=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new Re;deactivateEvents=new Re;attachEvents=new Re;detachEvents=new Re;routerOutletData=Nw(void 0);parentContexts=v(pr);location=v(_n);changeDetector=v(Hi);inputBinder=v(hs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new qh(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ir({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mo]})}return e})(),qh=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Zt?this.route:t===pr?this.childContexts:t===UE?this.outletData:this.parent.get(t,n)}},hs=new b(""),Xh=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=oi([r.queryParams,r.params,r.data]).pipe(ye(([i,s,a],c)=>(a=w(w(w({},i),s),a),c===0?S(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Lw(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),ep=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ff({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Nc(0,"router-outlet")},dependencies:[Qh],encapsulation:2})}return e})();function tp(e){let t=e.children&&e.children.map(tp),n=t?V(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=ep),n}function TA(e,t,n){let r=us(e,t._root,n?n._root:void 0);return new as(r,t)}function us(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=SA(e,t,n);return new Ue(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>us(e,a)),s}}let r=MA(t.value),o=t.children.map(i=>us(e,i));return new Ue(r,o)}}function SA(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return us(e,r,o);return us(e,r)})}function MA(e){return new Zt(new De(e.url),new De(e.params),new De(e.queryParams),new De(e.fragment),new De(e.data),e.outlet,e.component,e)}var ko=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},$E="ngNavigationCancelingError";function pu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ao(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=BE(!1,Ne.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function BE(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[$E]=!0,n.cancellationCode=t,n}function AA(e){return VE(e)&&Ao(e.url)}function VE(e){return!!e&&e[$E]}var RA=(e,t,n,r)=>$(o=>(new Gh(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Gh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Ph(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Co(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Co(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Co(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Co(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new lu(i.value.snapshot))}),t.children.length&&this.forwardEvent(new cu(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(Ph(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ph(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},gu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Mo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function NA(e,t,n){let r=e._root,o=t?t._root:null;return ts(r,o,n,[r.value])}function xA(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Fo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Nl(e)?e:t.get(e):r}function ts(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Co(t);return e.children.forEach(s=>{OA(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>rs(a,n.getContext(s),o)),o}function OA(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=kA(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new gu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ts(e,t,a?a.children:null,r,o):ts(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Mo(a.outlet.component,s))}else s&&rs(t,a,o),o.canActivateChecks.push(new gu(r)),i.component?ts(e,null,a?a.children:null,r,o):ts(e,null,n,r,o);return o}function kA(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!lr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!lr(e.url,t.url)||!St(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zh(e,t)||!St(e.queryParams,t.queryParams);case"paramsChange":default:return!zh(e,t)}}function rs(e,t,n){let r=Co(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?rs(s,t.children.getContext(i),n):rs(s,null,n):rs(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Mo(t.outlet.component,o)):n.canDeactivateChecks.push(new Mo(null,o)):n.canDeactivateChecks.push(new Mo(null,o))}function ps(e){return typeof e=="function"}function PA(e){return typeof e=="boolean"}function LA(e){return e&&ps(e.canLoad)}function FA(e){return e&&ps(e.canActivate)}function jA(e){return e&&ps(e.canActivateChild)}function UA(e){return e&&ps(e.canDeactivate)}function $A(e){return e&&ps(e.canMatch)}function HE(e){return e instanceof Lt||e?.name==="EmptyError"}var Zc=Symbol("INITIAL_VALUE");function Po(){return ye(e=>oi(e.map(t=>t.pipe(Ft(1),vl(Zc)))).pipe($(t=>{for(let n of t)if(n!==!0){if(n===Zc)return Zc;if(n===!1||BA(n))return n}return!0}),le(t=>t!==Zc),Ft(1)))}function BA(e){return Ao(e)||e instanceof ko}function VA(e,t){return ee(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?S(V(w({},n),{guardsResult:!0})):HA(s,r,o,e).pipe(ee(a=>a&&PA(a)?zA(r,i,e,t):S(a)),$(a=>V(w({},n),{guardsResult:a})))})}function HA(e,t,n,r){return re(e).pipe(ee(o=>ZA(o.component,o.route,n,t,r)),jt(o=>o!==!0,!0))}function zA(e,t,n,r){return re(t).pipe(mt(o=>Gr(GA(o.route.parent,r),qA(o.route,r),KA(e,o.path,n),WA(e,o.route,n))),jt(o=>o!==!0,!0))}function qA(e,t){return e!==null&&t&&t(new uu(e)),S(!0)}function GA(e,t){return e!==null&&t&&t(new au(e)),S(!0)}function WA(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let o=r.map(i=>ii(()=>{let s=Lo(t)??n,a=Fo(i,s),c=FA(a)?a.canActivate(t,e):we(s,()=>a(t,e));return Yt(c).pipe(jt())}));return S(o).pipe(Po())}function KA(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>xA(s)).filter(s=>s!==null).map(s=>ii(()=>{let a=s.guards.map(c=>{let u=Lo(s.node)??n,l=Fo(c,u),d=jA(l)?l.canActivateChild(r,e):we(u,()=>l(r,e));return Yt(d).pipe(jt())});return S(a).pipe(Po())}));return S(i).pipe(Po())}function ZA(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return S(!0);let s=i.map(a=>{let c=Lo(t)??o,u=Fo(a,c),l=UA(u)?u.canDeactivate(e,t,n,r):we(c,()=>u(e,t,n,r));return Yt(l).pipe(jt())});return S(s).pipe(Po())}function YA(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return S(!0);let i=o.map(s=>{let a=Fo(s,e),c=LA(a)?a.canLoad(t,n):we(e,()=>a(t,n));return Yt(c)});return S(i).pipe(Po(),zE(r))}function zE(e){return sl(de(t=>{if(typeof t!="boolean")throw pu(e,t)}),$(t=>t===!0))}function JA(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return S(!0);let i=o.map(s=>{let a=Fo(s,e),c=$A(a)?a.canMatch(t,n):we(e,()=>a(t,n));return Yt(c)});return S(i).pipe(Po(),zE(r))}var ls=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ds=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Io(e){return Hr(new ls(e))}function QA(e){return Hr(new D(4e3,!1))}function XA(e){return Hr(BE(!1,Ne.GuardRejected))}var Wh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return S(r);if(o.numberOfChildren>1||!o.children[L])return QA(`${t.redirectTo}`);o=o.children[L]}}applyRedirectCommands(t,n,r,o,i){return eR(n,o,i).pipe($(s=>{if(s instanceof At)throw new ds(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new ds(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new At(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new H(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function eR(e,t,n){if(typeof e=="string")return S(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return Yt(we(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var Kh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tR(e,t,n,r,o){let i=qE(e,t,n);return i.matched?(r=bA(t,r),JA(r,t,n,o).pipe($(s=>s===!0?i:w({},Kh)))):S(i)}function qE(e,t,n){if(t.path==="**")return nR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Kh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||EE)(n,e,t);if(!o)return w({},Kh);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function nR(e){return{matched:!0,parameters:e.length>0?_E(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function vE(e,t,n,r){return n.length>0&&iR(e,n,r)?{segmentGroup:new H(t,oR(r,new H(n,e.children))),slicedSegments:[]}:n.length===0&&sR(e,n,r)?{segmentGroup:new H(e.segments,rR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new H(e.segments,e.children),slicedSegments:n}}function rR(e,t,n,r){let o={};for(let i of n)if(vu(e,t,i)&&!r[lt(i)]){let s=new H([],{});o[lt(i)]=s}return w(w({},r),o)}function oR(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&lt(r)!==L){let o=new H([],{});n[lt(r)]=o}return n}function iR(e,t,n){return n.some(r=>vu(e,t,r)&&lt(r)!==L)}function sR(e,t,n){return n.some(r=>vu(e,t,r))}function vu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aR(e,t,n){return t.length===0&&!e.children[n]}var Zh=class{};function cR(e,t,n,r,o,i,s="emptyOnly"){return new Yh(e,t,n,r,o,s,i).recognize()}var uR=31,Yh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wh(this.urlSerializer,this.urlTree)}noMatchError(t){return new D(4002,`'${t.segmentGroup}'`)}recognize(){let t=vE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe($(({children:n,rootSnapshot:r})=>{let o=new Ue(r,n),i=new cs("",o),s=NE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new dr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,L,n).pipe($(r=>({children:r,rootSnapshot:n})),gt(r=>{if(r instanceof ds)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ls?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe($(s=>s instanceof Ue?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return re(i).pipe(mt(s=>{let a=r.children[s],c=IA(n,s);return this.processSegmentGroup(t,c,a,s,o)}),gl((s,a)=>(s.push(...a),s)),cn(null),pl(),ee(s=>{if(s===null)return Io(r);let a=GE(s);return lR(a),S(a)}))}processSegment(t,n,r,o,i,s,a){return re(n).pipe(mt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(gt(u=>{if(u instanceof ls)return S(null);throw u}))),jt(c=>!!c),gt(c=>{if(HE(c))return aR(r,o,i)?S(new Zh):Io(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return lt(r)!==s&&(s===L||!vu(o,i,r))?Io(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):Io(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=qE(n,o,i);if(!c)return Io(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uR&&(this.allowRedirects=!1));let f=new dr(i,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,yE(o),lt(o),o.component??o._loadedComponent??null,o,wE(o)),p=hu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t).pipe(ye(g=>this.applyRedirects.lineralizeSegments(o,g)),ee(g=>this.processSegment(t,r,n,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=tR(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ye(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(ye(({routes:u})=>{let l=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new dr(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,yE(r),lt(r),r.component??r._loadedComponent??null,r,wE(r)),y=hu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:g,slicedSegments:m}=vE(n,h,f,u);if(m.length===0&&g.hasChildren())return this.processChildren(l,u,g,p).pipe($(I=>new Ue(p,I)));if(u.length===0&&m.length===0)return S(new Ue(p,[]));let C=lt(r)===i;return this.processSegment(l,u,g,m,C?L:i,!0,p).pipe($(I=>new Ue(p,I instanceof Ue?[I]:[])))}))):Io(n)))}getChildConfig(t,n,r){return n.children?S({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):YA(t,n,r,this.urlSerializer).pipe(ee(o=>o?this.configLoader.loadChildren(t,n).pipe(de(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):XA(n))):S({routes:[],injector:t})}};function lR(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function dR(e){let t=e.value.routeConfig;return t&&t.path===""}function GE(e){let t=[],n=new Set;for(let r of e){if(!dR(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=GE(r.children);t.push(new Ue(r.value,o))}return t.filter(r=>!n.has(r))}function yE(e){return e.data||{}}function wE(e){return e.resolve||{}}function fR(e,t,n,r,o,i){return ee(s=>cR(e,t,n,r,s.extractedUrl,o,i).pipe($(({state:a,tree:c})=>V(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function hR(e,t){return ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return S(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of WE(c))s.add(u);let a=0;return re(s).pipe(mt(c=>i.has(c)?pR(c,r,e,t):(c.data=hu(c,c.parent,e).resolve,S(void 0))),de(()=>a++),Wr(1),ee(c=>a===s.size?S(n):xe))})}function WE(e){let t=e.children.map(n=>WE(n)).flat();return[e,...t]}function pR(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!jE(o)&&(i[fs]=o.title),ii(()=>(e.data=hu(e,e.parent,n).resolve,gR(i,e,t,r).pipe($(s=>(e._resolvedData=s,e.data=w(w({},e.data),s),null)))))}function gR(e,t,n,r){let o=jh(e);if(o.length===0)return S({});let i={};return re(o).pipe(ee(s=>mR(e[s],t,n,r).pipe(jt(),de(a=>{if(a instanceof ko)throw pu(new Sn,a);i[s]=a}))),Wr(1),$(()=>i),gt(s=>HE(s)?xe:Hr(s)))}function mR(e,t,n,r){let o=Lo(t)??r,i=Fo(e,o),s=i.resolve?i.resolve(t,n):we(o,()=>i(t,n));return Yt(s)}function Lh(e){return ye(t=>{let n=e(t);return n?re(n).pipe($(()=>t)):S(t)})}var np=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[fs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(KE),providedIn:"root"})}return e})(),KE=(()=>{class e extends np{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(T(fE))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gr=new b("",{providedIn:"root",factory:()=>({})}),mr=new b(""),yu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(nh);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Yt(we(n,()=>r.loadComponent())).pipe($(YE),ye(JE),de(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),un(()=>{this.componentLoaders.delete(r)})),i=new Ur(o,()=>new ne).pipe(jr());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return S({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=ZE(r,this.compiler,n,this.onLoadEndListener).pipe(un(()=>{this.childrenLoaders.delete(r)})),s=new Ur(i,()=>new ne).pipe(jr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZE(e,t,n,r){return Yt(we(n,()=>e.loadChildren())).pipe($(YE),ye(JE),ee(o=>o instanceof Mc||Array.isArray(o)?S(o):re(t.compileModuleAsync(o))),$(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(mr,[],{optional:!0,self:!0}).flat()),{routes:s.map(tp),injector:i}}))}function vR(e){return e&&typeof e=="object"&&"default"in e}function YE(e){return vR(e)?e.default:e}function JE(e){return S(e)}var wu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(yR),providedIn:"root"})}return e})(),yR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rp=new b(""),op=new b("");function QE(e,t,n){let r=e.get(op),o=e.get(oe);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),wR(e)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&we(e,()=>c({transition:a,from:t,to:n})),s}function wR(e){return new Promise(t=>{Bf({read:()=>setTimeout(t)},{injector:e})})}var ip=new b(""),Eu=(()=>{class e{currentNavigation=ke(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortWithErrorSubject=new ne;configLoader=v(yu);environmentInjector=v(ae);destroyRef=v(We);urlSerializer=v(hr);rootContexts=v(pr);location=v(In);inputBindingEnabled=v(hs,{optional:!0})!==null;titleStrategy=v(np);options=v(gr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(wu);createViewTransition=v(rp,{optional:!0});navigationErrorHandler=v(ip,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new iu(o)),r=o=>this.events.next(new su(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ee(()=>{this.transitions?.next(V(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new De(null),this.transitions.pipe(le(r=>r!==null),ye(r=>{let o=!1;return S(r).pipe(ye(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ne.SupersededByNewNavigation),xe;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?V(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Rt(i.id,this.urlSerializer.serialize(i.rawUrl),"",Ro.IgnoredSameUrlNavigation)),i.resolve(!1),xe;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return S(i).pipe(ye(c=>(this.events.next(new Mn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?xe:Promise.resolve(c))),fR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),de(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let u=new is(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:h}=i,f=new Mn(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let p=LE(this.rootComponentType).snapshot;return this.currentTransition=r=V(w({},i),{targetSnapshot:p,urlAfterRedirects:u,extras:V(w({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=u,y)),S(r)}else return this.events.next(new Rt(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Ro.IgnoredByUrlHandlingStrategy)),i.resolve(!1),xe}),de(i=>{let s=new tu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),$(i=>(this.currentTransition=r=V(w({},i),{guards:NA(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),VA(this.environmentInjector,i=>this.events.next(i)),de(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw pu(this.urlSerializer,i.guardsResult);let s=new nu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),le(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ne.GuardRejected),!1)),Lh(i=>{if(i.guards.canActivateChecks.length!==0)return S(i).pipe(de(s=>{let a=new ru(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ye(s=>{let a=!1;return S(s).pipe(hR(this.paramsInheritanceStrategy,this.environmentInjector),de({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ne.NoDataFromResolver)}}))}),de(s=>{let a=new ou(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Lh(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=Lo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(de(l=>{a.component=l}),$(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return oi(s(i.targetSnapshot.root)).pipe(cn(null),Ft(1))}),Lh(()=>this.afterPreactivation()),ye(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?re(a).pipe($(()=>r)):S(r)}),$(i=>{let s=TA(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=V(w({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),de(()=>{this.events.next(new ss)}),RA(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Ft(1),Ea(new F(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(le(()=>!o&&!r.targetRouterState),de(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ne.Aborted)}))),de({next:i=>{o=!0,this.lastSuccessfulNavigation=Ee(this.currentNavigation),this.events.next(new dt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Ea(this.transitionAbortWithErrorSubject.pipe(de(i=>{throw i}))),un(()=>{o||this.cancelNavigationTransition(r,"",Ne.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),gt(i=>{if(this.destroyed)return r.resolve(!1),xe;if(o=!0,VE(i))this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),AA(i)?this.events.next(new Oo(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new No(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=we(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ko){let{message:c,cancellationCode:u}=pu(this.urlSerializer,a);this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Oo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return xe}))}))}cancelNavigationTransition(n,r,o){let i=new Mt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ee(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ER(e){return e!==So}var XE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(DR),providedIn:"root"})}return e})(),mu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},DR=(()=>{class e extends mu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=mc(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eD=(()=>{class e{urlSerializer=v(hr);options=v(gr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(In);urlHandlingStrategy=v(wu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new At;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof At?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=LE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(_R),providedIn:"root"})}return e})(),_R=(()=>{class e extends eD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Mn?this.updateStateMemento():n instanceof Rt?this.commitTransition(r):n instanceof is?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ss?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mt&&n.code!==Ne.SupersededByNewNavigation&&n.code!==Ne.Redirect?this.restoreHistory(r):n instanceof No?this.restoreHistory(r,!0):n instanceof dt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=mc(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Du(e,t){e.events.pipe(le(n=>n instanceof dt||n instanceof Mt||n instanceof No||n instanceof Rt),$(n=>n instanceof dt||n instanceof Rt?0:(n instanceof Mt?n.code===Ne.Redirect||n.code===Ne.SupersededByNewNavigation:!1)?2:1),le(n=>n!==2),Ft(1)).subscribe(()=>{t()})}var bR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Vf);stateManager=v(eD);options=v(gr,{optional:!0})||{};pendingTasks=v(_t);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Eu);urlSerializer=v(hr);location=v(In);urlHandlingStrategy=v(wu);injector=v(ae);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(XE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(mr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(hs,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Q;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ee(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Mt&&r.code!==Ne.Redirect&&r.code!==Ne.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof dt)this.navigated=!0;else if(r instanceof Oo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ER(o.source)},s);this.scheduleNavigation(a,So,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}_A(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),So,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Ke)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ee(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=xE(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return OE(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ao(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,So,null,r)}navigate(n,r={skipLocationChange:!1}){return CR(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},bR):r===!1?o=w({},IR):o=r,Ao(n))return hE(this.currentUrlTree,n,o);let i=this.parseUrl(n);return hE(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Du(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CR(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new D(4008,!1)}var gs=class{};var tD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(le(n=>n instanceof dt),mt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=wo(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return re(o).pipe(qr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=S(null);let i=o.pipe(ee(s=>s===null?S(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return re([i,s]).pipe(qr())}else return i})}static \u0275fac=function(r){return new(r||e)(T(ft),T(ae),T(gs),T(yu))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nD=new b(""),TR=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=So;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof dt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Rt&&n.code===Ro.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new xo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Rf()};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function SR(e,...t){return hn([{provide:mr,multi:!0,useValue:e},[],{provide:Zt,useFactory:rD,deps:[ft]},{provide:Ui,multi:!0,useFactory:oD},t.map(n=>n.\u0275providers)])}function rD(e){return e.routerState.root}function jo(e,t){return{\u0275kind:e,\u0275providers:t}}function oD(){let e=v(Te);return t=>{let n=e.get(ar);if(t!==n.components[0])return;let r=e.get(ft),o=e.get(iD);e.get(ap)===1&&r.initialNavigation(),e.get(cD,null,{optional:!0})?.setUpPreloading(),e.get(nD,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var iD=new b("",{factory:()=>new ne}),ap=new b("",{providedIn:"root",factory:()=>1});function sD(){let e=[{provide:ff,useValue:!0},{provide:ap,useValue:0},Rc(()=>{let t=v(Te);return t.get(wh,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(ft),i=t.get(iD);Du(o,()=>{r(!0)}),t.get(Eu).afterPreactivation=()=>(r(!0),i.closed?S(void 0):i),o.initialNavigation()}))})];return jo(2,e)}function aD(){let e=[Rc(()=>{v(ft).setUpLocationChangeListener()}),{provide:ap,useValue:2}];return jo(3,e)}var cD=new b("");function uD(e){return jo(0,[{provide:cD,useExisting:tD},{provide:gs,useExisting:e}])}function MR(){return jo(6,[{provide:Tt,useClass:Uc}])}function lD(){return jo(8,[Xh,{provide:hs,useExisting:Xh}])}function dD(e){Je("NgRouterViewTransitions");let t=[{provide:rp,useValue:QE},{provide:op,useValue:w({skipNextTransition:!!e?.skipInitialTransition},e)}];return jo(9,t)}var fD=[In,{provide:hr,useClass:Sn},ft,pr,{provide:Zt,useFactory:rD,deps:[ft]},yu,[]],AR=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[fD,[],{provide:mr,multi:!0,useValue:n},[],r?.errorHandler?{provide:ip,useValue:r.errorHandler}:[],{provide:gr,useValue:r||{}},r?.useHash?NR():xR(),RR(),r?.preloadingStrategy?uD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?OR(r):[],r?.bindToComponentInputs?lD().\u0275providers:[],r?.enableViewTransitions?dD().\u0275providers:[],kR()]}}static forChild(n){return{ngModule:e,providers:[{provide:mr,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=Bt({})}return e})();function RR(){return{provide:nD,useFactory:()=>{let e=v(Hw),t=v(ie),n=v(gr),r=v(Eu),o=v(hr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new TR(o,r,e,t,n)}}}function NR(){return{provide:Tt,useClass:Uc}}function xR(){return{provide:Tt,useClass:jc}}function OR(e){return[e.initialNavigation==="disabled"?aD().\u0275providers:[],e.initialNavigation==="enabledBlocking"?sD().\u0275providers:[]]}var sp=new b("");function kR(){return[{provide:sp,useFactory:oD},{provide:Ui,multi:!0,useExisting:sp}]}var hD=new b("SUPABASE_TOKEN");var pD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-NMAS5QM4.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var ms=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},vs=class extends ms{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ys=class extends ms{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},ws=class extends ms{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},cp=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(cp||{});var LR=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Es=class{constructor(t,{headers:n={},customFetch:r,region:o=cp.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=pD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return LR(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s,signal:a}=n,c={},{region:u}=n;u||(u=this.region);let l=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,l.searchParams.set("forceFunctionRegion",u));let d;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(c["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(c["Content-Type"]="application/json",d=JSON.stringify(s)));let h=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),o),body:d,signal:a}).catch(g=>{throw g.name==="AbortError"?g:new vs(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new ys(h);if(!h.ok)throw new ws(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new vs(o)}:{data:null,error:o,response:o instanceof ws||o instanceof ys?o.context:void 0}}})}};var CD=M_(ID(),1),{PostgrestClient:TD,PostgrestQueryBuilder:$W,PostgrestFilterBuilder:BW,PostgrestTransformBuilder:VW,PostgrestBuilder:HW,PostgrestError:GR}=CD.default;var Ep=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Dp=Ep;var SD="2.15.5";var MD=`realtime-js/${SD}`,AD="1.0.0";var Ss=1e4,RD=1e3,ND=100,Ms=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Ms||{}),me=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(me||{}),Qe=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Qe||{}),_p=(function(e){return e.websocket="websocket",e})(_p||{}),vr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(vr||{});var bu=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var $o=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Y=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Y||{}),Ip=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=WR(s,e,t,o),i),{})},WR=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?xD(i,s):bp(s)},xD=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return JR(t,n)}switch(e){case Y.bool:return KR(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return ZR(t);case Y.json:case Y.jsonb:return YR(t);case Y.timestamp:return QR(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return bp(t);default:return bp(t)}},bp=e=>e,KR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZR=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JR=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>xD(t,a))}return e},QR=e=>typeof e=="string"?e.replace(" ","T"):e,Iu=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};var Bo=class{constructor(t,n,r={},o=Ss){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var As=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),p=l.filter(g=>f.indexOf(g.presence_ref)<0),y=d.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),y.length>0&&(c[u]=y)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Rs=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Rs||{}),Jt=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(Jt||{});var Ns=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bo(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new $o(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new As(this),this.broadcastEndpointURL=Iu(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Rs.PRESENCE]&&this.bindings[Rs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Jt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(Jt.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,g=(p=y?.length)!==null&&p!==void 0?p:0,m=[];for(let C=0;C<g;C++){let I=y[C],{filter:{event:E,schema:B,table:ve,filter:G}}=I,J=f&&f[C];if(J&&J.event===E&&J.schema===B&&J.table===ve&&J.filter===G)m.push(Object.assign(Object.assign({},I),{id:J.id}));else{this.unsubscribe(),this.state=me.errored,t?.(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Jt.SUBSCRIBED);return}}).receive("error",f=>{this.state=me.errored,t?.(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===me.joined&&t===Rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){let{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Bo(this,Qe.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bo(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ND){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Qe;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,y,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(y=f.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,y,g,m,C,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,B=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(B==="*"||B?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let E=(C=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return E==="*"||E===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:y,table:g,commit_timestamp:m,type:C,errors:I}=p;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:m,eventType:C,new:{},old:{},errors:I}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ip(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ip(t.columns,t.old_record)),n}};var Cp=()=>{},Cu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eN=[1e3,2e3,5e3,1e4],tN=1e4,nN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,xs=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ss,this.transport=null,this.heartbeatIntervalMs=Cu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cp,this.ref=0,this.reconnectTimer=null,this.logger=Cp,this.conn=null,this.sendBuffer=[],this.serializer=new bu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-NMAS5QM4.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${_p.websocket}`,this.httpEndpoint=Iu(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AD}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return vr.Connecting;case Ms.open:return vr.Open;case Ms.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ns(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([nN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:MD};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $o(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ss,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Cu.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Cp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>eN[d-1]||tN,this.encode=(u=t?.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(l=t?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Vo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function X(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Tu=class extends Vo{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yr=class extends Vo{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var rN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Mu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-NMAS5QM4.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},OD=()=>rN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NMAS5QM4.js")).Response:Response}),Su=e=>{if(Array.isArray(e))return e.map(n=>Su(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Su(r)}),t},kD=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Tp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oN=(e,t,n)=>wr(void 0,void 0,void 0,function*(){let r=yield OD();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";t(new Tu(Tp(o),i,s))}).catch(o=>{t(new yr(Tp(o),o))}):t(new yr(Tp(e),e))}),iN=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(kD(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Os(e,t,n,r,o,i){return wr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,iN(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>oN(c,a,r))})})}function Ho(e,t,n,r){return wr(this,void 0,void 0,function*(){return Os(e,"GET",t,n,r)})}function Xe(e,t,n,r,o){return wr(this,void 0,void 0,function*(){return Os(e,"POST",t,r,o,n)})}function ks(e,t,n,r,o){return wr(this,void 0,void 0,function*(){return Os(e,"PUT",t,r,o,n)})}function PD(e,t,n,r){return wr(this,void 0,void 0,function*(){return Os(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Au(e,t,n,r,o){return wr(this,void 0,void 0,function*(){return Os(e,"DELETE",t,r,o,n)})}var sN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Ru=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return sN(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}};var aN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Nu=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new Ru(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return aN(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}};var Pe=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},cN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xu=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Mu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return Pe(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},LD),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(t=="PUT"?ks:Xe)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Pe(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:LD.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield ks(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(X(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Vo("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Pe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield Xe(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Pe(this,void 0,void 0,function*(){try{let o=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}download(t,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>Ho(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Nu(c,this.shouldThrowOnError)}info(t){return Pe(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Ho(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Su(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}exists(t){return Pe(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield PD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r)&&r instanceof yr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pe(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},cN),n),{prefix:t||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}listV2(t,n){return Pe(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var FD="2.12.2";var jD={"X-Client-Info":`storage-js/${FD}`};var zo=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Ou=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},jD),n),this.fetch=Mu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zo(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}getBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zo(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return zo(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}emptyBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}};var Ps=class extends Ou{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new xu(this.url,this.headers,t,this.fetch)}};var UD="2.58.0";var Ls="";typeof Deno<"u"?Ls="deno":typeof document<"u"?Ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ls="react-native":Ls="node";var uN={"X-Client-Info":`supabase-js-${Ls}/${UD}`},$D={headers:uN},BD={schema:"public"},VD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HD={};jp();var lN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},dN=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lp:t=fetch,(...n)=>t(...n)},fN=()=>typeof Headers>"u"?Fp:Headers,zD=(e,t,n)=>{let r=dN(n),o=fN();return(i,s)=>lN(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var hN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function pN(e){return e.endsWith("/")?e:e+"/"}function qD(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>hN(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function GD(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ku="2.72.0";var Er=30*1e3,Pu=3,Lu=Pu*Er,WD="http://localhost:9999",KD="supabase.auth.token";var ZD={"X-Client-Info":`gotrue-js/${ku}`};var Fs="X-Supabase-Api-Version",Sp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JD=600*1e3;var js=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function k(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Fu=class extends js{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function QD(e){return k(e)&&e.name==="AuthApiError"}var qo=class extends js{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Nt=class extends js{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},et=class extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function XD(e){return k(e)&&e.name==="AuthSessionMissingError"}var An=class extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Dr=class extends Nt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},_r=class extends Nt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function e_(e){return k(e)&&e.name==="AuthImplicitGrantRedirectError"}var Us=class extends Nt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Go=class extends Nt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function ju(e){return k(e)&&e.name==="AuthRetryableFetchError"}var $s=class extends Nt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var br=class extends Nt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t_=` 	
\r=`.split(""),gN=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<t_.length;t+=1)e[t_[t].charCodeAt(0)]=-2;for(let t=0;t<Uu.length;t+=1)e[Uu[t].charCodeAt(0)]=t;return e})();function n_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Uu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Uu[r]),t.queuedBits-=6}}function r_(e,t,n){let r=gN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mp(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{yN(s,r,n)};for(let s=0;s<e.length;s+=1)r_(e.charCodeAt(s),o,i);return t.join("")}function mN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}mN(r,t)}}function yN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function o_(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)r_(e.charCodeAt(o),n,r);return new Uint8Array(t)}function i_(e){let t=[];return vN(e,n=>t.push(n)),new Uint8Array(t)}function s_(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>n_(o,n,r)),n_(null,n,r),t.join("")}function a_(e){return Math.round(Date.now()/1e3)+e}function c_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Be=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},$u=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function u_(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var Bu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-NMAS5QM4.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},l_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qt=async(e,t)=>{await e.removeItem(t)},Bs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Bs.promiseConstructor=Promise;function Vu(e){let t=e.split(".");if(t.length!==3)throw new br("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!YD.test(t[r]))throw new br("JWT not in base64url format");return{header:JSON.parse(Mp(t[0])),payload:JSON.parse(Mp(t[1])),signature:o_(t[2]),raw:{header:t[0],payload:t[1]}}}async function d_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function f_(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function wN(e){return("0"+e.toString(16)).substr(-2)}function EN(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,wN).join("")}async function DN(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function _N(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await DN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(e,t,n=!1){let r=EN(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Cr(e,`${t}-code-verifier`,o);let i=await _N(r);return[i,r===i?"plain":"s256"]}var bN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h_(e){let t=e.headers.get(Fs);if(!t||!t.match(bN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function p_(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var IN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(e){if(!IN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hu(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ap(e){return JSON.parse(JSON.stringify(e))}var CN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TN=[502,503,504];async function m_(e){var t;if(!l_(e))throw new Go(Mr(e),0);if(TN.includes(e.status))throw new Go(Mr(e),e.status);let n;try{n=await e.json()}catch(i){throw new qo(Mr(i),i)}let r,o=h_(e);if(o&&o.getTime()>=Sp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $s(Mr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new $s(Mr(n),e.status,n.weak_password.reasons);throw new Fu(Mr(n),e.status||500,r)}var SN=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function U(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[Fs]||(i[Fs]=Sp["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await MN(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function MN(e,t,n,r,o,i){let s=SN(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new Go(Mr(c),0)}if(a.ok||await m_(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await m_(c)}}function ht(e){var t;let n=null;AN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=a_(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Rp(e){let t=ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v_(e){return{data:e,error:null}}function y_(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=CN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function w_(e){return e}function AN(e){return e.access_token&&e.refresh_token&&e.expires_in}var zu=["global","local","others"];var RN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Wo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Bu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=zu[0]){if(zu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zu.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=RN(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:y_,redirectTo:n?.redirectTo})}catch(n){if(k(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:w_});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(k(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sr(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Sr(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Sr(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Sr(t.userId);try{let{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(k(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Sr(t.userId),Sr(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(k(n))return{data:null,error:n};throw n}}};function Np(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function E_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ar={debug:!!(globalThis&&$u()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Vs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},qu=class extends Vs{};async function xp(e,t,n){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ar.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Op(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function D_(e){return parseInt(e,16)}function __(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function b_(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Op(e.address),p=l?`${l}://${r}`:r,y=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${y}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(m+=`
Expiration Time: ${o.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let C=`
Resources:`;for(let I of u){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);C+=`
- ${I}`}m+=C}return`${g}
${m}`}E_();var NN={url:WD,storageKey:KD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function I_(e,t,n){return await n()}var Ko={},kp=(()=>{class e{constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},NN),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Wo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bu(i.fetch),this.lock=i.lock||I_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Be()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=xp:this.lock=I_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$u()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Np(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Np(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=Ko[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ko[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ku}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r=u_(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),Be()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),e_(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?{error:r}:{error:new qo("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ht}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,y=null;this.flowType==="pkce"&&([p,y]=await Tr(this.storage,this.storageKey)),s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},xform:ht})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ht})}else throw new Dr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rp})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rp})}else throw new Dr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new An}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,y;if("message"in n)p=n.message,y=n.signature;else{let{chain:g,wallet:m,statement:C,options:I}=n,E;if(Be())if(typeof m=="object")E=m;else{let Ot=window;if("ethereum"in Ot&&typeof Ot.ethereum=="object"&&"request"in Ot.ethereum&&typeof Ot.ethereum.request=="function")E=Ot.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=m}let B=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),ve=await E.request({method:"eth_requestAccounts"}).then(Ot=>Ot).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ve||ve.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let G=Op(ve[0]),J=(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){let Ot=await E.request({method:"eth_chainId"});J=D_(Ot)}let S_={domain:B.host,address:G,statement:C,uri:B.href,version:"1",chainId:J,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=b_(S_),y=await E.request({method:"personal_sign",params:[__(p),G]})}try{let{data:g,error:m}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new An}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(k(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let y,g;if("message"in n)y=n.message,g=n.signature;else{let{chain:m,wallet:C,statement:I,options:E}=n,B;if(Be())if(typeof C=="object")B=C;else{let G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))B=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}let ve=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){let G=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),I?{statement:I}:null)),J;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")J=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)J=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)y=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),g=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${ve.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);let G=await B.signMessage(new TextEncoder().encode(y),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=G}}try{let{data:m,error:C}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:s_(g)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ht});if(C)throw C;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new An}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:C})}catch(m){if(k(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(n){let r=await Rn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:ht});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new An}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(k(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ht}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new An}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Tr(this.storage,this.storageKey));let{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Dr("You must provide either an email or phone number.")}catch(c){if(k(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ht});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(k(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Tr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:v_})}catch(s){if(k(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new et;let{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(k(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Dr("You must provide either an email or phone number and a type")}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Lu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Rn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Hu()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(u,l,d)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:xt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xt})})}catch(r){if(k(r))return XD(r)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new et;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Tr(this.storage,this.storageKey));let{data:l,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:xt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(k(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new et;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Vu(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(k(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new et;let{session:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!Be())throw new _r("No browser detected.");if(n.error||n.error_description||n.error_code)throw new _r(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Us("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Us("No code detected.");let{data:I,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new _r("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);let{data:g,error:m}=await this._getUser(s);if(m)throw m;let C={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:n.type},error:null}}catch(o){if(k(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Rn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(QD(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){let r=c_(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Tr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(k(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Be()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(k(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await f_(async i=>(i>0&&await d_(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ht})),(i,s)=>{let a=200*Math.pow(2,i);return s&&ju(s)&&Date.now()+a-o<Er})}catch(o){if(this._debug(r,"error",o),k(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),Be()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Rn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Cr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Hu()}else if(i&&!i.user&&!i.user){let a=await Rn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Qt(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,i)):i.user=Hu()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lu;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Lu}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ju(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Bs;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new et;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),k(s)){let a={session:null,error:s};return ju(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=Ap(i);await Cr(this.storage,this.storageKey,s)}else{let i=Ap(r);await Cr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Er}ms, refresh threshold is ${Pu} ticks`),i<=Pu&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Vs)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Tr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await U(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:u,error:l}=await U(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await U(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){let{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Vu(i.access_token),c=null;a.aal&&(c=a.aal);let u=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+JD>i)return o;let{data:s,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Vu(o);r?.allowExpired||p_(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=g_(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,i_(`${c}.${u}`)))throw new br("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(k(o))return{data:null,error:o};throw o}}}return e.nextInstanceID=0,e})();var xN=kp,Pp=xN;var Gu=class extends Pp{constructor(t){super(t)}};var ON=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Wu=class{constructor(t,n,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=n;let a=GD(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:BD,realtime:HD,auth:Object.assign(Object.assign({},VD),{storageKey:c}),global:$D},l=qD(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=zD(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new TD(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Ps(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Es(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ON(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gu({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new xs(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var C_=(e,t,n)=>new Wu(e,t,n);function kN(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kN()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var T_=(()=>{class e{supabaseToken=v(hD);supabase;supabaseStorageURL=`${this.supabaseToken.supabaseUrl}/storage/v1/upload/resumable`;constructor(){this.supabase=C_(this.supabaseToken.supabaseUrl,this.supabaseToken.supabaseKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var C6=(()=>{class e{supabaseService=v(T_);router=v(ft);initPromise=null;_inFlight=ke(0);busy=It(()=>this._inFlight()>0);user=ke(null);isAuthenticated=It(()=>!!this.user());async runBusy(n){this._inFlight.update(r=>r+1);try{return await n()}finally{this._inFlight.update(r=>Math.max(0,r-1))}}constructor(){this.initPromise=this.init()}async waitForInit(){return this.initPromise??Promise.resolve()}async init(){await this.runBusy(async()=>{let{data:n}=await this.supabaseService.supabase.auth.getSession();this.user.set(n?.session?.user??null),this.supabaseService.supabase.auth.onAuthStateChange((r,o)=>{this.user.set(o?.user??null)})})}login(n,r){return this.runBusy(async()=>{let{data:o,error:i}=await this.supabaseService.supabase.auth.signInWithPassword({email:n,password:r});if(i)throw i;return this.user.set(o.user),o.session??null})}signUp(n,r){return this.runBusy(async()=>{let{data:o,error:i}=await this.supabaseService.supabase.auth.signUp({email:n,password:r});if(i)throw i;return this.user.set(o.user),o.user??null})}logout(){return this.runBusy(async()=>{let{error:n}=await this.supabaseService.supabase.auth.signOut();if(n)throw n;this.user.set(null),this.router.navigate(["auth"])})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{Q as a,F as b,Ur as c,ne as d,De as e,ei as f,G_ as g,W_ as h,re as i,S as j,fl as k,$ as l,oi as m,Gr as n,ii as o,ub as p,hl as q,le as r,mb as s,gt as t,vb as u,Ft as v,yb as w,un as x,Db as y,_b as z,bb as A,vl as B,ye as C,Ea as D,de as E,D as F,Ta as G,_ as H,Bt as I,b as J,v as K,ae as L,we as M,nm as N,rm as O,gm as P,mm as Q,Te as R,oe as S,We as T,vd as U,ke as V,tI as W,nI as X,mo as Y,mc as Z,qt as _,ec as $,yc as aa,yo as ba,MI as ca,Ec as da,PI as ea,aC as fa,fo as ga,nr as ha,Fi as ia,Gt as ja,_n as ka,ho as la,Ff as ma,bn as na,ir as oa,Ry as pa,XT as qa,Oy as ra,Re as sa,ie as ta,Bf as ua,ji as va,ar as wa,Gf as xa,gS as ya,mS as za,vS as Aa,yS as Ba,wS as Ca,Vy as Da,Kf as Ea,Zf as Fa,Nc as Ga,Yf as Ha,Jf as Ia,Hy as Ja,qy as Ka,IS as La,Gy as Ma,eh as Na,TS as Oa,MS as Pa,AS as Qa,NS as Ra,Zy as Sa,Yy as Ta,xS as Ua,OS as Va,kS as Wa,Xy as Xa,ew as Ya,qS as Za,n0 as _a,aw as $a,th as ab,cw as bb,i0 as cb,uw as db,dw as eb,s0 as fb,a0 as gb,c0 as hb,h0 as ib,p0 as jb,g0 as kb,E0 as lb,Ee as mb,It as nb,yw as ob,sh as pb,S0 as qb,fh as rb,V0 as sb,qz as tb,Nw as ub,Gz as vb,Wz as wb,Kz as xb,Hi as yb,Ow as zb,Pw as Ab,nM as Bb,Zz as Cb,Wt as Db,In as Eb,sM as Fb,aM as Gb,Vw as Hb,_q as Ib,bq as Jb,bM as Kb,Kt as Lb,aE as Mb,YM as Nb,fE as Ob,Zt as Pb,Qh as Qb,ft as Rb,SR as Sb,MR as Tb,AR as Ub,C6 as Vb,Vo as Wb,hD as Xb,T_ as Yb};
