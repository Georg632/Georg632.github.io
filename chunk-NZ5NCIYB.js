import{a as w,b as V,d as Nn,e as B_,f as V_,h as Up,i as $p,l as H_,m as Bp}from"./chunk-BUCGFPOZ.js";var pp=Nn(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});var fp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hp.default=fp});var mp=Nn(bs=>{"use strict";var MD=bs&&bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});var XR=MD((Bp(),V_(H_))),eN=MD(pp()),gp=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=XR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let C=await i.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}let g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new eN.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};bs.default=gp});var yp=Nn(Is=>{"use strict";var tN=Is&&Is.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Is,"__esModule",{value:!0});var nN=tN(mp()),vp=class extends nN.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Is.default=vp});var Tu=Nn(Cs=>{"use strict";var rN=Cs&&Cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});var oN=rN(yp()),wp=class extends oN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Cs.default=wp});var Dp=Nn(Ss=>{"use strict";var iN=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ss,"__esModule",{value:!0});var Ts=iN(Tu()),Ep=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Ts.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ts.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ts.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ts.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ts.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ss.default=Ep});var RD=Nn(Ms=>{"use strict";var AD=Ms&&Ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ms,"__esModule",{value:!0});var sN=AD(Dp()),aN=AD(Tu()),_p=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new sN.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new aN.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Ms.default=_p});var FD=Nn(Ie=>{"use strict";var Vo=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;var ND=Vo(RD());Ie.PostgrestClient=ND.default;var xD=Vo(Dp());Ie.PostgrestQueryBuilder=xD.default;var OD=Vo(Tu());Ie.PostgrestFilterBuilder=OD.default;var kD=Vo(yp());Ie.PostgrestTransformBuilder=kD.default;var PD=Vo(mp());Ie.PostgrestBuilder=PD.default;var LD=Vo(pp());Ie.PostgrestError=LD.default;Ie.default={PostgrestClient:ND.default,PostgrestQueryBuilder:xD.default,PostgrestFilterBuilder:OD.default,PostgrestTransformBuilder:kD.default,PostgrestBuilder:PD.default,PostgrestError:LD.default}});var Qu;function qs(){return Qu}function pt(e){let t=Qu;return Qu=e,t}var Vp=Symbol("NotFound");function Rr(e){return e===Vp||e?.name==="\u0275NotFound"}function Qo(e,t){return Object.is(e,t)}var Ce=null,Gs=!1,Xu=1,z_=null,se=Symbol("SIGNAL");function N(e){let t=Ce;return Ce=e,t}function Ws(){return Ce}var nn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rn(e){if(Gs)throw new Error("");if(Ce===null)return;Ce.consumerOnSignalRead(e);let t=Ce.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ce.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ce.producers,n!==void 0&&n.producer===e)){Ce.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Ce&&(!r||G_(o,Ce)))return;let i=Or(Ce),s={producer:e,consumer:Ce,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Ce.producersTail=s,t!==void 0?t.nextProducer=s:Ce.producers=s,i&&Gp(e,s)}function Hp(){Xu++}function On(e){if(!(Or(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Xu)){if(!e.producerMustRecompute(e)&&!xr(e)){Nr(e);return}e.producerRecomputeValue(e),Nr(e)}}function el(e){if(e.consumers===void 0)return;let t=Gs;Gs=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||q_(r)}}finally{Gs=t}}function tl(){return Ce?.consumerAllowSignalWrites!==!1}function q_(e){e.dirty=!0,el(e),e.consumerMarkedDirty?.(e)}function Nr(e){e.dirty=!1,e.lastCleanEpoch=Xu}function on(e){return e&&zp(e),N(e)}function zp(e){e.producersTail=void 0,e.recomputing=!0}function kn(e,t){N(t),e&&qp(e)}function qp(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Or(e))do n=nl(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function xr(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(On(n),r!==n.version))return!0}return!1}function Pn(e){if(Or(e)){let t=e.producers;for(;t!==void 0;)t=nl(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Gp(e,t){let n=e.consumersTail,r=Or(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)Gp(o.producer,o)}function nl(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!Or(t)){let i=t.producers;for(;i!==void 0;)i=nl(i)}return n}function Or(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Xo(e){z_?.(e)}function G_(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ei(e,t){let n=Object.create(W_);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(On(n),rn(n),n.value===kt)throw n.error;return n.value};return r[se]=n,Xo(n),r}var tn=Symbol("UNSET"),xn=Symbol("COMPUTING"),kt=Symbol("ERRORED"),W_=V(w({},nn),{value:tn,dirty:!0,error:null,equal:Qo,kind:"computed",producerMustRecompute(e){return e.value===tn||e.value===xn},producerRecomputeValue(e){if(e.value===xn)throw new Error("");let t=e.value;e.value=xn;let n=on(e),r,o=!1;try{r=e.computation(),N(null),o=t!==tn&&t!==kt&&r!==kt&&e.equal(t,r)}catch(i){r=kt,e.error=i}finally{kn(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function K_(){throw new Error}var Wp=K_;function Kp(e){Wp(e)}function rl(e){Wp=e}var Z_=null;function ol(e,t){let n=Object.create(Zs);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Zp(n);return r[se]=n,Xo(n),[r,s=>sn(n,s),s=>Ks(n,s)]}function Zp(e){return rn(e),e.value}function sn(e,t){tl()||Kp(e),e.equal(e.value,t)||(e.value=t,Y_(e))}function Ks(e,t){tl()||Kp(e),sn(e,t(e.value))}var Zs=V(w({},nn),{equal:Qo,value:void 0,kind:"signal"});function Y_(e){e.version++,Hp(),el(e),Z_?.(e)}function R(e){return typeof e=="function"}function kr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ys=kr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ln(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Q=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(i){t=i instanceof Ys?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Yp(i)}catch(s){t=t??[],s instanceof Ys?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ys(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Yp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ln(n,t)}remove(t){let{_finalizers:n}=this;n&&Ln(n,t),t instanceof e&&t._removeParent(this)}};Q.EMPTY=(()=>{let e=new Q;return e.closed=!0,e})();var il=Q.EMPTY;function Js(e){return e instanceof Q||e&&"closed"in e&&R(e.remove)&&R(e.add)&&R(e.unsubscribe)}function Yp(e){R(e)?e():e.unsubscribe()}var rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pr={setTimeout(e,t,...n){let{delegate:r}=Pr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Pr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qs(e){Pr.setTimeout(()=>{let{onUnhandledError:t}=rt;if(t)t(e);else throw e})}function ti(){}var Jp=sl("C",void 0,void 0);function Qp(e){return sl("E",void 0,e)}function Xp(e){return sl("N",e,void 0)}function sl(e,t,n){return{kind:e,value:t,error:n}}var Fn=null;function Lr(e){if(rt.useDeprecatedSynchronousErrorHandling){let t=!Fn;if(t&&(Fn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Fn;if(Fn=null,n)throw r}}else e()}function eg(e){rt.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=e)}var jn=class extends Q{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Js(t)&&t.add(this)):this.destination=X_}static create(t,n,r){return new Pt(t,n,r)}next(t){this.isStopped?cl(Xp(t),this):this._next(t)}error(t){this.isStopped?cl(Qp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?cl(Jp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},J_=Function.prototype.bind;function al(e,t){return J_.call(e,t)}var ul=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xs(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xs(r)}else Xs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xs(n)}}},Pt=class extends jn{constructor(t,n,r){super();let o;if(R(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&rt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&al(t.next,i),error:t.error&&al(t.error,i),complete:t.complete&&al(t.complete,i)}):o=t}this.destination=new ul(o)}};function Xs(e){rt.useDeprecatedSynchronousErrorHandling?eg(e):Qs(e)}function Q_(e){throw e}function cl(e,t){let{onStoppedNotification:n}=rt;n&&Pr.setTimeout(()=>n(e,t))}var X_={closed:!0,next:ti,error:Q_,complete:ti};var Fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Me(e){return e}function ll(...e){return dl(e)}function dl(e){return e.length===0?Me:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var F=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=tb(n)?n:new Pt(n,r,o);return Lr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tg(r),new r((o,i)=>{let s=new Pt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fr](){return this}pipe(...n){return dl(n)(this)}toPromise(n){return n=tg(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function tg(e){var t;return(t=e??rt.Promise)!==null&&t!==void 0?t:Promise}function eb(e){return e&&R(e.next)&&R(e.error)&&R(e.complete)}function tb(e){return e&&e instanceof jn||eb(e)&&Js(e)}function fl(e){return R(e?.lift)}function P(e){return t=>{if(fl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(e,t,n,r,o){return new hl(e,t,n,r,o)}var hl=class extends jn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function jr(){return P((e,t)=>{let n=null;e._refCount++;let r=O(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ur=class extends F{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Q;let n=this.getSubject();t.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Q.EMPTY)}return t}refCount(){return jr()(this)}};var $r={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=$r;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);let o=t(i=>{n=void 0,e(i)});return new Q(()=>n?.(o))},requestAnimationFrame(...e){let{delegate:t}=$r;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=$r;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var ng=kr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class e extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ea(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ng}next(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?il:(this.currentObservers=null,i.push(n),new Q(()=>{this.currentObservers=null,Ln(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return e.create=(t,n)=>new ea(t,n),e})(),ea=class extends ne{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:il}};var _e=class extends ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ni={now(){return(ni.delegate||Date).now()},delegate:void 0};var ri=class extends ne{constructor(t=1/0,n=1/0,r=ni){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ta=class extends Q{constructor(t,n){super()}schedule(t,n=0){return this}};var oi={setInterval(e,t,...n){let{delegate:r}=oi;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=oi;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var an=class extends ta{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return oi.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&oi.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ln(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var nb=1,pl,gl={};function rg(e){return e in gl?(delete gl[e],!0):!1}var og={setImmediate(e){let t=nb++;return gl[t]=!0,pl||(pl=Promise.resolve()),pl.then(()=>rg(t)&&e()),t},clearImmediate(e){rg(e)}};var{setImmediate:rb,clearImmediate:ob}=og,ii={setImmediate(...e){let{delegate:t}=ii;return(t?.setImmediate||rb)(...e)},clearImmediate(e){let{delegate:t}=ii;return(t?.clearImmediate||ob)(e)},delegate:void 0};var na=class extends an{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=ii.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:i}=t;n!=null&&((o=i[i.length-1])===null||o===void 0?void 0:o.id)!==n&&(ii.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}};var Br=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Br.now=ni.now;var cn=class extends Br{constructor(t,n=Br.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var ra=class extends cn{flush(t){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,o;t=t||r.shift();do if(o=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw o}}};var ib=new ra(na);var si=new cn(an),ig=si;var oa=class extends an{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=$r.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:i}=t;n!=null&&n===t._scheduled&&((o=i[i.length-1])===null||o===void 0?void 0:o.id)!==n&&($r.cancelAnimationFrame(n),t._scheduled=void 0)}};var ia=class extends cn{flush(t){this._active=!0;let n;t?n=t.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,o;t=t||r.shift();do if(o=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw o}}};var sb=new ia(oa);var Oe=new F(e=>e.complete());function sa(e){return e&&R(e.schedule)}function sg(e){return e[e.length-1]}function aa(e){return R(sg(e))?e.pop():void 0}function un(e){return sa(sg(e))?e.pop():void 0}function cg(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function ag(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Un(e){return this instanceof Un?(this.v=e,this):new Un(e)}function ug(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(y){return new Promise(function(g,m){i.push([f,y,g,m])>1||c(f,y)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(y){h(i[0][3],y)}}function u(f){f.value instanceof Un?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function lg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ag=="function"?ag(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Vr=e=>e&&typeof e.length=="number"&&typeof e!="function";function ca(e){return R(e?.then)}function ua(e){return R(e[Fr])}function la(e){return Symbol.asyncIterator&&R(e?.[Symbol.asyncIterator])}function da(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ab(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fa=ab();function ha(e){return R(e?.[fa])}function pa(e){return ug(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Un(n.read());if(o)return yield Un(void 0);yield yield Un(r)}}finally{n.releaseLock()}})}function ga(e){return R(e?.getReader)}function K(e){if(e instanceof F)return e;if(e!=null){if(ua(e))return cb(e);if(Vr(e))return ub(e);if(ca(e))return lb(e);if(la(e))return dg(e);if(ha(e))return db(e);if(ga(e))return fb(e)}throw da(e)}function cb(e){return new F(t=>{let n=e[Fr]();if(R(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ub(e){return new F(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function lb(e){return new F(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Qs)})}function db(e){return new F(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function dg(e){return new F(t=>{hb(e,t).catch(n=>t.error(n))})}function fb(e){return dg(pa(e))}function hb(e,t){var n,r,o,i;return cg(this,void 0,void 0,function*(){try{for(n=lg(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function ke(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function ma(e,t=0){return P((n,r)=>{n.subscribe(O(r,o=>ke(r,e,()=>r.next(o),t),()=>ke(r,e,()=>r.complete(),t),o=>ke(r,e,()=>r.error(o),t)))})}function va(e,t=0){return P((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function fg(e,t){return K(e).pipe(va(t),ma(t))}function hg(e,t){return K(e).pipe(va(t),ma(t))}function pg(e,t){return new F(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function gg(e,t){return new F(n=>{let r;return ke(n,t,()=>{r=e[fa](),ke(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>R(r?.return)&&r.return()})}function ya(e,t){if(!e)throw new Error("Iterable cannot be null");return new F(n=>{ke(n,t,()=>{let r=e[Symbol.asyncIterator]();ke(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function mg(e,t){return ya(pa(e),t)}function vg(e,t){if(e!=null){if(ua(e))return fg(e,t);if(Vr(e))return pg(e,t);if(ca(e))return hg(e,t);if(la(e))return ya(e,t);if(ha(e))return gg(e,t);if(ga(e))return mg(e,t)}throw da(e)}function re(e,t){return t?vg(e,t):K(e)}function S(...e){let t=un(e);return re(e,t)}function Hr(e,t){let n=R(e)?e:()=>e,r=o=>o.error(n());return new F(t?o=>t.schedule(r,0,o):r)}function ml(e){return!!e&&(e instanceof F||R(e.lift)&&R(e.subscribe))}var Lt=kr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function yg(e){return e instanceof Date&&!isNaN(e)}function $(e,t){return P((n,r)=>{let o=0;n.subscribe(O(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:pb}=Array;function gb(e,t){return pb(t)?e(...t):e(t)}function zr(e){return $(t=>gb(e,t))}var{isArray:mb}=Array,{getPrototypeOf:vb,prototype:yb,keys:wb}=Object;function wa(e){if(e.length===1){let t=e[0];if(mb(t))return{args:t,keys:null};if(Eb(t)){let n=wb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Eb(e){return e&&typeof e=="object"&&vb(e)===yb}function Ea(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function ai(...e){let t=un(e),n=aa(e),{args:r,keys:o}=wa(e);if(r.length===0)return re([],t);let i=new F(Db(r,t,o?s=>Ea(o,s):Me));return n?i.pipe(zr(n)):i}function Db(e,t,n=Me){return r=>{wg(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)wg(t,()=>{let u=re(e[c],t),l=!1;u.subscribe(O(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wg(e,t,n){e?ke(n,e,t):t()}function Eg(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=y=>u<r?p(y):c.push(y),p=y=>{i&&t.next(y),u++;let g=!1;K(n(y,l++)).subscribe(O(t,m=>{o?.(m),i?f(m):t.next(m)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){let m=c.shift();s?ke(t,s,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(O(t,f,()=>{d=!0,h()})),()=>{a?.()}}function ee(e,t,n=1/0){return R(t)?ee((r,o)=>$((i,s)=>t(r,i,o,s))(K(e(r,o))),n):(typeof t=="number"&&(n=t),P((r,o)=>Eg(r,o,e,n)))}function qr(e=1/0){return ee(Me,e)}function Dg(){return qr(1)}function Gr(...e){return Dg()(re(e,un(e)))}function ci(e){return new F(t=>{K(e()).subscribe(t)})}function _b(...e){let t=aa(e),{args:n,keys:r}=wa(e),o=new F(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;K(n[l]).subscribe(O(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?Ea(r,a):a),i.complete())}))}});return t?o.pipe(zr(t)):o}var bb=["addListener","removeListener"],Ib=["addEventListener","removeEventListener"],Cb=["on","off"];function vl(e,t,n,r){if(R(n)&&(r=n,n=void 0),r)return vl(e,t,n).pipe(zr(r));let[o,i]=Mb(e)?Ib.map(s=>a=>e[s](t,a,n)):Tb(e)?bb.map(_g(e,t)):Sb(e)?Cb.map(_g(e,t)):[];if(!o&&Vr(e))return ee(s=>vl(s,t,n))(K(e));if(!o)throw new TypeError("Invalid event target");return new F(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function _g(e,t){return n=>r=>e[n](t,r)}function Tb(e){return R(e.addListener)&&R(e.removeListener)}function Sb(e){return R(e.on)&&R(e.off)}function Mb(e){return R(e.addEventListener)&&R(e.removeEventListener)}function bg(e=0,t,n=ig){let r=-1;return t!=null&&(sa(t)?n=t:r=t),new F(o=>{let i=yg(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function de(e,t){return P((n,r)=>{let o=0;n.subscribe(O(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Ig(e){return P((t,n)=>{let r=!1,o=null,i=null,s=!1,a=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let u=o;o=null,n.next(u)}s&&n.complete()},c=()=>{i=null,s&&n.complete()};t.subscribe(O(n,u=>{r=!0,o=u,i||K(e(u)).subscribe(i=O(n,a,c))},()=>{s=!0,(!r||!i||i.closed)&&n.complete()}))})}function Ab(e,t=si){return Ig(()=>bg(e,t))}function gt(e){return P((t,n)=>{let r=null,o=!1,i;r=t.subscribe(O(n,void 0,void 0,s=>{i=K(e(s,gt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Cg(e,t,n,r,o){return(i,s)=>{let a=n,c=t,u=0;i.subscribe(O(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function mt(e,t){return R(t)?ee(e,t,1):ee(e,1)}function Rb(e,t=si){return P((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(O(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function ln(e){return P((t,n)=>{let r=!1;t.subscribe(O(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Ft(e){return e<=0?()=>Oe:P((t,n)=>{let r=0;t.subscribe(O(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Nb(e,t=Me){return e=e??xb,P((n,r)=>{let o,i=!0;n.subscribe(O(r,s=>{let a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function xb(e,t){return e===t}function Da(e=Ob){return P((t,n)=>{let r=!1;t.subscribe(O(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Ob(){return new Lt}function dn(e){return P((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function jt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?de((o,i)=>e(o,i,r)):Me,Ft(1),n?ln(t):Da(()=>new Lt))}function Wr(e){return e<=0?()=>Oe:P((t,n)=>{let r=[];t.subscribe(O(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function yl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?de((o,i)=>e(o,i,r)):Me,Wr(1),n?ln(t):Da(()=>new Lt))}function kb(){return P((e,t)=>{let n,r=!1;e.subscribe(O(t,o=>{let i=n;n=o,r&&t.next([i,o]),r=!0}))})}function wl(e,t){return P(Cg(e,t,arguments.length>=2,!0))}function Tg(e={}){let{connector:t=()=>new ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{let y=s;f(),y?.unsubscribe()};return P((y,g)=>{u++,!d&&!l&&h();let m=c=c??t();g.add(()=>{u--,u===0&&!d&&!l&&(a=El(p,o))}),m.subscribe(g),!s&&u>0&&(s=new Pt({next:C=>m.next(C),error:C=>{d=!0,h(),a=El(f,n,C),m.error(C)},complete:()=>{l=!0,h(),a=El(f,r),m.complete()}}),K(y).subscribe(s))})(i)}}function El(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Pt({next:()=>{r.unsubscribe(),e()}});return K(t(...n)).subscribe(r)}function Pb(e,t,n){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e:r=e??1/0,Tg({connector:()=>new ri(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Lb(e){return de((t,n)=>e<=n)}function Dl(...e){let t=un(e);return P((n,r)=>{(t?Gr(e,n,t):Gr(e,n)).subscribe(r)})}function ye(e,t){return P((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(O(r,c=>{o?.unsubscribe();let u=0,l=i++;K(e(c,l)).subscribe(o=O(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function _a(e){return P((t,n)=>{K(e).subscribe(O(n,()=>n.complete(),ti)),!n.closed&&t.subscribe(n)})}function we(e,t,n){let r=R(e)||t||n?{next:e,error:t,complete:n}:e;return r?P((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(O(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Me}function _l(e,t,n){let r=Object.create(Fb);r.source=e,r.computation=t,n!=null&&(r.equal=n);let i=()=>{if(On(r),rn(r),r.value===kt)throw r.error;return r.value};return i[se]=r,Xo(r),i}function Sg(e,t){On(e),sn(e,t),Nr(e)}function Mg(e,t){On(e),Ks(e,t),Nr(e)}var Fb=V(w({},nn),{value:tn,dirty:!0,error:null,equal:Qo,kind:"linkedSignal",producerMustRecompute(e){return e.value===tn||e.value===xn},producerRecomputeValue(e){if(e.value===xn)throw new Error("");let t=e.value;e.value=xn;let n=on(e),r;try{let o=e.source(),i=t===tn||t===kt?void 0:{source:e.sourceValue,value:t};r=e.computation(o,i),e.sourceValue=o}catch(o){r=kt,e.error=o}finally{kn(e,n)}if(t!==tn&&r!==kt&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function Ag(e){let t=N(null);try{return e()}finally{N(t)}}var Rg=V(w({},nn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Ng(e){if(e.dirty=!1,e.version>0&&!xr(e))return;e.version++;let t=on(e);try{e.cleanup(),e.fn()}finally{kn(e,t)}}var Ta="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,n){super(hn(t,n)),this.code=t}};function jb(e){return`NG0${Math.abs(e)}`}function hn(e,t){return`${jb(e)}${t?": "+t:""}`}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function kg(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $t(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($t).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Sa(e,t){return e?t?`${e} ${t}`:e:t||""}var Ub=z({__forward_ref__:z});function Ma(e){return e.__forward_ref__=Ma,e.toString=function(){return $t(this())},e}function fe(e){return kl(e)?e():e}function kl(e){return typeof e=="function"&&e.hasOwnProperty(Ub)&&e.__forward_ref__===Ma}function _(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bt(e){return{providers:e.providers||[],imports:e.imports||[]}}function hi(e){return $b(e,Aa)}function Pl(e){return hi(e)!==null}function $b(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Bb(e){let t=e?.[Aa]??null;return t||null}function Il(e){return e&&e.hasOwnProperty(Ia)?e[Ia]:null}var Aa=z({\u0275prov:z}),Ia=z({\u0275inj:z}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=_({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ll(e){return e&&!!e.\u0275providers}var Fl=z({\u0275cmp:z}),jl=z({\u0275dir:z}),Ul=z({\u0275pipe:z}),$l=z({\u0275mod:z}),li=z({\u0275fac:z}),qn=z({__NG_ELEMENT_ID__:z}),xg=z({__NG_ENV_ID__:z});function pi(e){return typeof e=="string"?e:e==null?"":String(e)}function Pg(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():pi(e)}var Lg=z({ngErrorCode:z}),Vb=z({ngErrorMessage:z}),Hb=z({ngTokenPath:z});function Bl(e,t){return Fg("",-200,t)}function Ra(e,t){throw new D(-201,!1)}function Fg(e,t,n){let r=new D(t,e);return r[Lg]=t,r[Vb]=e,n&&(r[Hb]=n),r}function zb(e){return e[Lg]}var Cl;function jg(){return Cl}function Fe(e){let t=Cl;return Cl=e,t}function Vl(e,t,n){let r=hi(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ra(e,"Injector")}var qb={},$n=qb,Tl="__NG_DI_FLAG__",Sl=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Bn(n)||0;try{return this.injector.get(t,r&8?null:$n,r)}catch(o){if(Rr(o))return o;throw o}}};function Gb(e,t=0){let n=qs();if(n===void 0)throw new D(-203,!1);if(n===null)return Vl(e,void 0,t);{let r=Wb(t),o=n.retrieve(e,r);if(Rr(o)){if(r.optional)return null;throw o}return o}}function T(e,t=0){return(jg()||Gb)(fe(e),t)}function v(e,t){return T(e,Bn(t))}function Bn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wb(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Ml(e){let t=[];for(let n=0;n<e.length;n++){let r=fe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=Kb(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(T(o,i))}else t.push(T(r))}return t}function Hl(e,t){return e[Tl]=t,e.prototype[Tl]=t,e}function Kb(e){return e[Tl]}function Vn(e,t){let n=e.hasOwnProperty(li);return n?e[li]:null}function Ug(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function $g(e){return e.flat(Number.POSITIVE_INFINITY)}function Na(e,t){e.forEach(n=>Array.isArray(n)?Na(n,t):t(n))}function zl(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bg(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Vg(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function mi(e,t,n){let r=Zr(e,t);return r>=0?e[r|1]=n:(r=~r,Vg(e,r,t,n)),r}function xa(e,t){let n=Zr(e,t);if(n>=0)return e[n|1]}function Zr(e,t){return Zb(e,t,1)}function Zb(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var ot={},Te=[],pn=new b(""),ql=new b("",-1),Gl=new b(""),di=class{get(t,n=$n){if(n===$n){let o=Fg("",-201);throw o.name="\u0275NotFound",o}return n}};function Wl(e){return e[$l]||null}function vt(e){return e[Fl]||null}function Oa(e){return e[jl]||null}function Hg(e){return e[Ul]||null}function gn(e){return{\u0275providers:e}}function zg(...e){return{\u0275providers:Kl(!0,e),\u0275fromNgModule:!0}}function Kl(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Na(t,s=>{let a=s;Ca(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&qg(o,i),n}function qg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Zl(o,i=>{t(i,r)})}}function Ca(e,t,n,r){if(e=fe(e),!e)return!1;let o=null,i=Il(e),s=!i&&vt(e);if(!i&&!s){let c=e.ngModule;if(i=Il(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ca(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Na(i.imports,l=>{Ca(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&qg(u,t)}if(!a){let u=Vn(o)||(()=>new o);t({provide:o,useFactory:u,deps:Te},o),t({provide:Gl,useValue:o,multi:!0},o),t({provide:pn,useValue:()=>T(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;Zl(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Zl(e,t){for(let n of e)Ll(n)&&(n=n.\u0275providers),Array.isArray(n)?Zl(n,t):t(n)}var Yb=z({provide:String,useValue:z});function Gg(e){return e!==null&&typeof e=="object"&&Yb in e}function Jb(e){return!!(e&&e.useExisting)}function Qb(e){return!!(e&&e.useFactory)}function Hn(e){return typeof e=="function"}function Wg(e){return!!e.useClass}var vi=new b(""),ba={},Og={},bl;function Yr(){return bl===void 0&&(bl=new di),bl}var ae=class{},zn=class extends ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Rl(t,s=>this.processProvider(s)),this.records.set(ql,Kr(void 0,this)),o.has("environment")&&this.records.set(ae,Kr(void 0,this));let i=this.records.get(vi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Gl,Te,{self:!0}))}retrieve(t,n){let r=Bn(n)||0;try{return this.get(t,$n,r)}catch(o){if(Rr(o))return o;throw o}}destroy(){ui(this),this._destroyed=!0;let t=N(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N(t)}}onDestroy(t){return ui(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ui(this);let n=pt(this),r=Fe(void 0),o;try{return t()}finally{pt(n),Fe(r)}}get(t,n=$n,r){if(ui(this),t.hasOwnProperty(xg))return t[xg](this);let o=Bn(r),i,s=pt(this),a=Fe(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=rI(t)&&hi(t);l&&this.injectableDefInScope(l)?u=Kr(Al(t),ba):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?Yr():this.parent;return n=o&8&&n===$n?null:n,c.get(t,n)}catch(c){let u=zb(c);throw u===-200||u===-201?new D(u,null):c}finally{Fe(a),pt(s)}}resolveInjectorInitializers(){let t=N(null),n=pt(this),r=Fe(void 0),o;try{let i=this.get(pn,Te,{self:!0});for(let s of i)s()}finally{pt(n),Fe(r),N(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push($t(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=fe(t);let n=Hn(t)?t:fe(t&&t.provide),r=eI(t);if(!Hn(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Kr(void 0,ba,!0),o.factory=()=>Ml(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=N(null);try{if(n.value===Og)throw Bl($t(t));return n.value===ba&&(n.value=Og,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&nI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{N(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=fe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Al(e){let t=hi(e),n=t!==null?t.factory:Vn(e);if(n!==null)return n;if(e instanceof b)throw new D(204,!1);if(e instanceof Function)return Xb(e);throw new D(204,!1)}function Xb(e){if(e.length>0)throw new D(204,!1);let n=Bb(e);return n!==null?()=>n.factory(e):()=>new e}function eI(e){if(Gg(e))return Kr(void 0,e.useValue);{let t=Yl(e);return Kr(t,ba)}}function Yl(e,t,n){let r;if(Hn(e)){let o=fe(e);return Vn(o)||Al(o)}else if(Gg(e))r=()=>fe(e.useValue);else if(Qb(e))r=()=>e.useFactory(...Ml(e.deps||[]));else if(Jb(e))r=(o,i)=>T(fe(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=fe(e&&(e.useClass||e.provide));if(tI(e))r=()=>new o(...Ml(e.deps));else return Vn(o)||Al(o)}return r}function ui(e){if(e.destroyed)throw new D(205,!1)}function Kr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function tI(e){return!!e.deps}function nI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function rI(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Rl(e,t){for(let n of e)Array.isArray(n)?Rl(n,t):n&&Ll(n)?Rl(n.\u0275providers,t):t(n)}function Ee(e,t){let n;e instanceof zn?(ui(e),n=e):n=new Sl(e);let r,o=pt(n),i=Fe(void 0);try{return t()}finally{pt(o),Fe(i)}}function Kg(){return jg()!==void 0||qs()!=null}var it=0,M=1,x=2,he=3,Ge=4,Ae=5,Gn=6,Jr=7,ce=8,Qr=9,yt=10,q=11,Xr=12,Jl=13,Wn=14,Re=15,mn=16,Kn=17,wt=18,yi=19,Ql=20,Ut=21,ka=22,Vt=23,Ue=24,Zn=25,be=26,te=27,Zg=1,Xl=6,vn=7,wi=8,Yn=9,ue=10;function Et(e){return Array.isArray(e)&&typeof e[Zg]=="object"}function st(e){return Array.isArray(e)&&e[Zg]===!0}function ed(e){return(e.flags&4)!==0}function Ht(e){return e.componentOffset>-1}function eo(e){return(e.flags&1)===1}function at(e){return!!e.template}function to(e){return(e[x]&512)!==0}function Jn(e){return(e[x]&256)===256}var td="svg",Yg="math";function We(e){for(;Array.isArray(e);)e=e[it];return e}function nd(e,t){return We(t[e])}function Ke(e,t){return We(t[e.index])}function Ei(e,t){return e.data[t]}function Jg(e,t){return e[t]}function Pa(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Ze(e,t){let n=t[e];return Et(n)?n:n[it]}function Qg(e){return(e[x]&4)===4}function La(e){return(e[x]&128)===128}function Xg(e){return st(e[he])}function Ye(e,t){return t==null?null:e[t]}function rd(e){e[Kn]=0}function od(e){e[x]&1024||(e[x]|=1024,La(e)&&yn(e))}function em(e,t){for(;e>0;)t=t[Wn],e--;return t}function Di(e){return!!(e[x]&9216||e[Ue]?.dirty)}function Fa(e){e[yt].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),Di(e)&&yn(e)}function yn(e){e[yt].changeDetectionScheduler?.notify(0);let t=fn(e);for(;t!==null&&!(t[x]&8192||(t[x]|=8192,!La(t)));)t=fn(t)}function id(e,t){if(Jn(e))throw new D(911,!1);e[Ut]===null&&(e[Ut]=[]),e[Ut].push(t)}function tm(e,t){if(e[Ut]===null)return;let n=e[Ut].indexOf(t);n!==-1&&e[Ut].splice(n,1)}function fn(e){let t=e[he];return st(t)?t[he]:t}function sd(e){return e[Jr]??=[]}function ad(e){return e.cleanup??=[]}function nm(e,t,n,r){let o=sd(t);o.push(n),e.firstCreatePass&&ad(e).push(r,o.length-1)}var j={lFrame:gm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Nl=!1;function rm(){return j.lFrame.elementDepthCount}function om(){j.lFrame.elementDepthCount++}function cd(){j.lFrame.elementDepthCount--}function ja(){return j.bindingsEnabled}function ud(){return j.skipHydrationRootTNode!==null}function ld(e){return j.skipHydrationRootTNode===e}function dd(){j.skipHydrationRootTNode=null}function A(){return j.lFrame.lView}function Z(){return j.lFrame.tView}function im(e){return j.lFrame.contextLView=e,e[ce]}function sm(e){return j.lFrame.contextLView=null,e}function le(){let e=fd();for(;e!==null&&e.type===64;)e=e.parent;return e}function fd(){return j.lFrame.currentTNode}function am(){let e=j.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Qn(e,t){let n=j.lFrame;n.currentTNode=e,n.isParent=t}function hd(){return j.lFrame.isParent}function pd(){j.lFrame.isParent=!1}function cm(){return j.lFrame.contextLView}function gd(){return Nl}function no(e){let t=Nl;return Nl=e,t}function Ua(){let e=j.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function um(e){return j.lFrame.bindingIndex=e}function zt(){return j.lFrame.bindingIndex++}function md(e){let t=j.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function lm(){return j.lFrame.inI18n}function dm(e,t){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=e,$a(t)}function fm(){return j.lFrame.currentDirectiveIndex}function $a(e){j.lFrame.currentDirectiveIndex=e}function hm(e){let t=j.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Ba(){return j.lFrame.currentQueryIndex}function _i(e){j.lFrame.currentQueryIndex=e}function oI(e){let t=e[M];return t.type===2?t.declTNode:t.type===1?e[Ae]:null}function vd(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=oI(i),o===null||(i=i[Wn],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=j.lFrame=pm();return r.currentTNode=t,r.lView=e,!0}function Va(e){let t=pm(),n=e[M];j.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function pm(){let e=j.lFrame,t=e===null?null:e.child;return t===null?gm(e):t}function gm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function mm(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var yd=mm;function Ha(){let e=mm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vm(e){return(j.lFrame.contextLView=em(e,j.lFrame.contextLView))[ce]}function Dt(){return j.lFrame.selectedIndex}function wn(e){j.lFrame.selectedIndex=e}function ro(){let e=j.lFrame;return Ei(e.tView,e.selectedIndex)}function ym(){j.lFrame.currentNamespace=td}function wm(){iI()}function iI(){j.lFrame.currentNamespace=null}function Em(){return j.lFrame.currentNamespace}var Dm=!0;function za(){return Dm}function bi(e){Dm=e}function xl(e,t=null,n=null,r){let o=wd(e,t,n,r);return o.resolveInjectorInitializers(),o}function wd(e,t=null,n=null,r,o=new Set){let i=[n||Te,zg(e)];return r=r||(typeof e=="object"?void 0:$t(e)),new zn(i,t||Yr(),r||null,o)}var Se=class e{static THROW_IF_NOT_FOUND=$n;static NULL=new di;static create(t,n){if(Array.isArray(t))return xl({name:""},n,t,"");{let r=t.name??"";return xl({name:r},t.parent,t.providers,r)}}static \u0275prov=_({token:e,providedIn:"any",factory:()=>T(ql)});static __NG_ELEMENT_ID__=-1},oe=new b(""),Je=(()=>{class e{static __NG_ELEMENT_ID__=sI;static __NG_ENV_ID__=n=>n}return e})(),fi=class extends Je{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Jn(this._lView)}onDestroy(t){let n=this._lView;return id(n,t),()=>tm(n,t)}};function sI(){return new fi(A())}var je=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Qe=new b("",{providedIn:"root",factory:()=>{let e=v(ae),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(je),t.handleError(n))}}}),_m={provide:pn,useValue:()=>void v(je),multi:!0};function Ed(e){return typeof e=="function"&&e[se]!==void 0}function Pe(e,t){let[n,r,o]=ol(e,t?.equal),i=n,s=i[se];return i.set=r,i.update=o,i.asReadonly=oo.bind(i),i}function oo(){let e=this[se];if(e.readonlyFn===void 0){let t=()=>this();t[se]=e,e.readonlyFn=t}return e.readonlyFn}function Dd(e){return Ed(e)&&typeof e.set=="function"}var qe=class{},Ii=new b("",{providedIn:"root",factory:()=>!1});var _d=new b(""),qa=new b("");var io=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=aI}return e})();function aI(){return new io(A(),le())}var _t=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _e(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new F(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),so=(()=>{class e{internalPendingTasks=v(_t);scheduler=v(qe);errorHandler=v(Qe);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})();function Xn(...e){}var Ci=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new Ol})}return e})(),Ol=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function vo(e){return{toString:e}.toString()}var Ga="__parameters__";function hI(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function nv(e,t,n){return vo(()=>{let r=hI(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Ga)?c[Ga]:Object.defineProperty(c,Ga,{value:[]})[Ga];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var pI=Hl(nv("Inject",e=>({token:e})),-1),gI=Hl(nv("Optional"),8);function mI(e){return typeof e=="function"}var Xa=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var yo=(()=>{let e=()=>ov;return e.ngInherit=!0,e})();function ov(e){return e.type.prototype.ngOnChanges&&(e.setInput=yI),vI}function vI(){let e=sv(this),t=e?.current;if(t){let n=e.previous;if(n===ot)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function yI(e,t,n,r,o){let i=this.declaredInputs[r],s=sv(e)||wI(e,{previous:ot,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Xa(u&&u.currentValue,n,c===ot),rv(e,t,o,n)}var iv="__ngSimpleChanges__";function sv(e){return e[iv]||null}function wI(e,t){return e[iv]=t}var bm=[];var G=function(e,t=null,n){for(let r=0;r<bm.length;r++){let o=bm[r];o(e,t,n)}};function EI(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=ov(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function av(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function Ka(e,t,n){cv(e,t,3,n)}function Za(e,t,n,r){(e[x]&3)===n&&cv(e,t,n,r)}function bd(e,t){let n=e[x];(n&3)===t&&(n&=16383,n+=1,e[x]=n)}function cv(e,t,n,r){let o=r!==void 0?e[Kn]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Kn]+=65536),(a<i||i==-1)&&(DI(e,n,t,c),e[Kn]=(e[Kn]&4294901760)+c+2),c++}function Im(e,t){G(4,e,t);let n=N(null);try{t.call(e)}finally{N(n),G(5,e,t)}}function DI(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[x]>>14<e[Kn]>>16&&(e[x]&3)===t&&(e[x]+=16384,Im(a,i)):Im(a,i)}var co=-1,tr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function _I(e){return(e.flags&8)!==0}function bI(e){return(e.flags&16)!==0}function II(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];CI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function uv(e){return e===3||e===4||e===6}function CI(e){return e.charCodeAt(0)===64}function uo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Cm(e,n,o,null,t[++r]):Cm(e,n,o,null,null))}}return e}function Cm(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function lv(e){return e!==co}function ec(e){return e&32767}function TI(e){return e>>16}function tc(e,t){let n=TI(e),r=t;for(;n>0;)r=r[Wn],n--;return r}var kd=!0;function Tm(e){let t=kd;return kd=e,t}var SI=256,dv=SI-1,fv=5,MI=0,bt={};function AI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(qn)&&(r=n[qn]),r==null&&(r=n[qn]=MI++);let o=r&dv,i=1<<o;t.data[e+(o>>fv)]|=i}function nc(e,t){let n=hv(e,t);if(n!==-1)return n;let r=t[M];r.firstCreatePass&&(e.injectorIndex=t.length,Id(r.data,e),Id(t,null),Id(r.blueprint,null));let o=ff(e,t),i=e.injectorIndex;if(lv(o)){let s=ec(o),a=tc(o,t),c=a[M].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function Id(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function ff(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=yv(o),r===null)return co;if(n++,o=o[Wn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return co}function Pd(e,t,n){AI(e,t,n)}function RI(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(uv(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function pv(e,t,n){if(n&8||e!==void 0)return e;Ra(t,"NodeInjector")}function gv(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Qr],i=Fe(void 0);try{return o?o.get(t,r,n&8):Vl(t,r,n&8)}finally{Fe(i)}}return pv(r,t,n)}function mv(e,t,n,r=0,o){if(e!==null){if(t[x]&2048&&!(r&2)){let s=kI(e,t,n,r,bt);if(s!==bt)return s}let i=vv(e,t,n,r,bt);if(i!==bt)return i}return gv(t,n,r,o)}function vv(e,t,n,r,o){let i=xI(n);if(typeof i=="function"){if(!vd(t,e,r))return r&1?pv(o,n,r):gv(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Ra(n);else return s}finally{yd()}}else if(typeof i=="number"){let s=null,a=hv(e,t),c=co,u=r&1?t[Re][Ae]:null;for((a===-1||r&4)&&(c=a===-1?ff(e,t):t[a+8],c===co||!Mm(r,!1)?a=-1:(s=t[M],a=ec(c),t=tc(c,t)));a!==-1;){let l=t[M];if(Sm(i,a,l.data)){let d=NI(a,t,n,s,r,u);if(d!==bt)return d}c=t[a+8],c!==co&&Mm(r,t[M].data[a+8]===u)&&Sm(i,a,t)?(s=l,a=ec(c),t=tc(c,t)):a=-1}}return o}function NI(e,t,n,r,o,i){let s=t[M],a=s.data[e+8],c=r==null?Ht(a)&&kd:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=Ya(a,s,n,c,u);return l!==null?Mi(t,s,l,a,o):bt}function Ya(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&at(f)&&f.type===n)return c}return null}function Mi(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof tr){let a=i;if(a.resolving){let f=Pg(s[n]);throw Bl(f)}let c=Tm(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Fe(a.injectImpl):null,h=vd(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&EI(n,s[n],t)}finally{d!==null&&Fe(d),Tm(c),a.resolving=!1,yd()}}return i}function xI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(qn)?e[qn]:void 0;return typeof t=="number"?t>=0?t&dv:OI:t}function Sm(e,t,n){let r=1<<e;return!!(n[t+(e>>fv)]&r)}function Mm(e,t){return!(e&2)&&!(e&1&&t)}var er=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mv(this._tNode,this._lView,t,Bn(r),n)}};function OI(){return new er(le(),A())}function wc(e){return vo(()=>{let t=e.prototype.constructor,n=t[li]||Ld(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[li]||Ld(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ld(e){return kl(e)?()=>{let t=Ld(fe(e));return t&&t()}:Vn(e)}function kI(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[x]&2048&&!to(s);){let a=vv(i,s,n,r|2,bt);if(a!==bt)return a;let c=i.parent;if(!c){let u=s[Ql];if(u){let l=u.get(n,bt,r);if(l!==bt)return l}c=yv(s),s=s[Wn]}i=c}return o}function yv(e){let t=e[M],n=t.type;return n===2?t.declTNode:n===1?e[Ae]:null}function Ec(e){return RI(le(),e)}function PI(){return wo(le(),A())}function wo(e,t){return new Wt(Ke(e,t))}var Wt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=PI}return e})();function wv(e){return e instanceof Wt?e.nativeElement:e}function LI(){return this._results[Symbol.iterator]()}var rc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ne}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=$g(t);(this._changesDetected=!Ug(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=LI};function Ev(e){return(e.flags&128)===128}var hf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(hf||{}),Dv=new Map,FI=0;function jI(){return FI++}function UI(e){Dv.set(e[yi],e)}function Fd(e){Dv.delete(e[yi])}var Am="__ngContext__";function lo(e,t){Et(t)?(e[Am]=t[yi],UI(t)):e[Am]=t}function _v(e){return Iv(e[Xr])}function bv(e){return Iv(e[Ge])}function Iv(e){for(;e!==null&&!st(e);)e=e[Ge];return e}var jd;function pf(e){jd=e}function Cv(){if(jd!==void 0)return jd;if(typeof document<"u")return document;throw new D(210,!1)}var Dc=new b("",{providedIn:"root",factory:()=>$I}),$I="ng",_c=new b(""),Eo=new b("",{providedIn:"platform",factory:()=>"unknown"});var BI=new b(""),bc=new b("",{providedIn:"root",factory:()=>Cv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VI="h",HI="b";var Tv="r";var Sv="di";var Mv=!1,Av=new b("",{providedIn:"root",factory:()=>Mv});var gf=new b("");var zI=(e,t,n,r)=>{};function qI(e,t,n,r){zI(e,t,n,r)}function Ic(e){return(e.flags&32)===32}var GI=()=>null;function Rv(e,t,n=!1){return GI(e,t,n)}function Nv(e,t){let n=e.contentQueries;if(n!==null){let r=N(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];_i(i),a.contentQueries(2,t[s],s)}}}finally{N(r)}}}function Ud(e,t,n){_i(0);let r=N(null);try{t(e,n)}finally{N(r)}}function mf(e,t,n){if(ed(t)){let r=N(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{N(r)}}}var qt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(qt||{});var oc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ta})`}};function Do(e){return e instanceof oc?e.changingThisBreaksApplicationSecurity:e}function xv(e,t){let n=Ov(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ta})`)}return n===t}function Ov(e){return e instanceof oc&&e.getTypeName()||null}var WI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kv(e){return e=String(e),e.match(WI)?e:"unsafe:"+e}var vf=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(vf||{});function KI(e){let t=ZI();return t?t.sanitize(vf.URL,e)||"":xv(e,"URL")?Do(e):kv(pi(e))}function ZI(){let e=A();return e&&e[yt].sanitizer}var YI=/^>|^->|<!--|-->|--!>|<!-$/g,JI=/(<|>)/g,QI="\u200B$1\u200B";function XI(e){return e.replace(YI,t=>t.replace(JI,QI))}function Pv(e){return e instanceof Function?e():e}function eC(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Lv="ng-template";function tC(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&eC(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(yf(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function yf(e){return e.type===4&&e.value!==Lv}function nC(e,t,n){let r=e.type===4&&!n?Lv:e.value;return t===r}function rC(e,t,n){let r=4,o=e.attrs,i=o!==null?sC(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ct(r)&&!ct(c))return!1;if(s&&ct(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!nC(e,c,n)||c===""&&t.length===1){if(ct(r))return!1;s=!0}}else if(r&8){if(o===null||!tC(e,o,c,n)){if(ct(r))return!1;s=!0}}else{let u=t[++a],l=oC(c,o,yf(e),n);if(l===-1){if(ct(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(ct(r))return!1;s=!0}}}}return ct(r)||s}function ct(e){return(e&1)===0}function oC(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return aC(t,e)}function Fv(e,t,n=!1){for(let r=0;r<t.length;r++)if(rC(e,t[r],n))return!0;return!1}function iC(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function sC(e){for(let t=0;t<e.length;t++){let n=e[t];if(uv(n))return t}return e.length}function aC(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function cC(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Rm(e,t){return e?":not("+t.trim()+")":t}function uC(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ct(s)&&(t+=Rm(i,o),o=""),r=s,i=i||!ct(r);n++}return o!==""&&(t+=Rm(i,o)),t}function lC(e){return e.map(uC).join(",")}function dC(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!ct(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Be={};function fC(e,t){return e.createText(t)}function hC(e,t,n){e.setValue(t,n)}function pC(e,t){return e.createComment(XI(t))}function jv(e,t,n){return e.createElement(t,n)}function ic(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Uv(e,t,n){e.appendChild(t,n)}function Nm(e,t,n,r,o){r!==null?ic(e,t,n,r,o):Uv(e,t,n)}function $v(e,t,n,r){e.removeChild(null,t,n,r)}function gC(e,t,n){e.setAttribute(t,"style",n)}function mC(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Bv(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&II(e,t,r),o!==null&&mC(e,t,o),i!==null&&gC(e,t,i)}function wf(e,t,n,r,o,i,s,a,c,u,l){let d=te+r,h=d+o,f=vC(d,h),p=typeof u=="function"?u():u;return f[M]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function vC(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Be);return n}function yC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=wf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ef(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[it]=o,d[x]=r|4|128|8|64|1024,(u!==null||e&&e[x]&2048)&&(d[x]|=2048),rd(d),d[he]=d[Wn]=e,d[ce]=n,d[yt]=s||e&&e[yt],d[q]=a||e&&e[q],d[Qr]=c||e&&e[Qr]||null,d[Ae]=i,d[yi]=jI(),d[Gn]=l,d[Ql]=u,d[Re]=t.type==2?e[Re]:d,d}function wC(e,t,n){let r=Ke(t,e),o=yC(n),i=e[yt].rendererFactory,s=Df(e,Ef(e,o,null,Vv(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Vv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Hv(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Df(e,t){return e[Xr]?e[Jl][Ge]=t:e[Xr]=t,e[Jl]=t,t}function EC(e=1){zv(Z(),A(),Dt()+e,!1)}function zv(e,t,n,r){if(!r)if((t[x]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ka(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Za(t,i,0,n)}wn(n)}var Cc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Cc||{});function $d(e,t,n,r){let o=N(null);try{let[i,s,a]=e.inputs[n],c=null;(s&Cc.SignalBased)!==0&&(c=t[i][se]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):rv(t,c,i,r)}finally{N(o)}}var Gt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Gt||{}),DC;function _f(e,t){return DC(e,t)}var Tc=new Set;function ao(e,t,n,r,o,i){if(r!=null){let s,a=!1;st(r)?s=r:Et(r)&&(a=!0,r=r[it]);let c=We(r);e===0&&n!==null?o==null?Uv(t,n,c):ic(t,n,c,o||null,!0):e===1&&n!==null?ic(t,n,c,o||null,!0):e===2?xm(i,u=>{$v(t,c,a,u)}):e===3&&xm(i,()=>{t.destroyNode(c)}),s!=null&&xC(t,e,s,n,o)}}function _C(e,t){qv(e,t),t[it]=null,t[Ae]=null}function bC(e,t,n,r,o,i){r[it]=o,r[Ae]=t,Mc(e,r,n,1,o,i)}function qv(e,t){t[yt].changeDetectionScheduler?.notify(9),Mc(e,t,t[q],2,null,null)}function IC(e){let t=e[Xr];if(!t)return Cd(e[M],e);for(;t;){let n=null;if(Et(t))n=t[Xr];else{let r=t[ue];r&&(n=r)}if(!n){for(;t&&!t[Ge]&&t!==e;)Et(t)&&Cd(t[M],t),t=t[he];t===null&&(t=e),Et(t)&&Cd(t[M],t),n=t&&t[Ge]}t=n}}function bf(e,t){let n=e[Yn],r=n.indexOf(t);n.splice(r,1)}function Sc(e,t){if(Jn(t))return;let n=t[q];n.destroyNode&&Mc(e,t,n,3,null,null),IC(t)}function Cd(e,t){if(Jn(t))return;let n=N(null);try{t[x]&=-129,t[x]|=256,t[Ue]&&Pn(t[Ue]),SC(e,t),TC(e,t),t[M].type===1&&t[q].destroy();let r=t[mn];if(r!==null&&st(t[he])){r!==t[he]&&bf(r,t);let o=t[wt];o!==null&&o.detachView(e)}Fd(t)}finally{N(n)}}function xm(e,t){if(e&&e[be]&&e[be].leave)if(e[be].skipLeaveAnimations)e[be].skipLeaveAnimations=!1;else{let n=e[be].leave,r=[];for(let o=0;o<n.length;o++){let i=n[o];r.push(i())}e[be].running=Promise.allSettled(r),e[be].leave=void 0}CC(e,t)}function CC(e,t){if(e&&e[be]&&e[be].running){e[be].running.then(()=>{e[be]&&e[be].running&&(e[be].running=void 0),Tc.delete(e),t(!0)});return}t(!1)}function TC(e,t){let n=e.cleanup,r=t[Jr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Jr]=null);let o=t[Ut];if(o!==null){t[Ut]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Vt];if(i!==null){t[Vt]=null;for(let s of i)s.destroy()}}function SC(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof tr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];G(4,a,c);try{c.call(a)}finally{G(5,a,c)}}else{G(4,o,i);try{i.call(o)}finally{G(5,o,i)}}}}}function Gv(e,t,n){return MC(e,t.parent,n)}function MC(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[it];if(Ht(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===qt.None||o===qt.Emulated)return null}return Ke(r,n)}function Wv(e,t,n){return RC(e,t,n)}function AC(e,t,n){return e.type&40?Ke(e,n):null}var RC=AC,Om;function If(e,t,n,r){let o=Gv(e,r,t),i=t[q],s=r.parent||t[Ae],a=Wv(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Nm(i,o,n[c],a,!1);else Nm(i,o,n,a,!1);Om!==void 0&&Om(i,r,t,n,o)}function Ti(e,t){if(t!==null){let n=t.type;if(n&3)return Ke(t,e);if(n&4)return Bd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ti(e,r);{let o=e[t.index];return st(o)?Bd(-1,o):We(o)}}else{if(n&128)return Ti(e,t.next);if(n&32)return _f(t,e)()||We(e[t.index]);{let r=Kv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=fn(e[Re]);return Ti(o,r)}else return Ti(e,t.next)}}}return null}function Kv(e,t){if(t!==null){let r=e[Re][Ae],o=t.projection;return r.projection[o]}return null}function Bd(e,t){let n=ue+e+1;if(n<t.length){let r=t[n],o=r[M].firstChild;if(o!==null)return Ti(r,o)}return t[vn]}function Cf(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&lo(We(a),r),n.flags|=2),!Ic(n))if(c&8)Cf(e,t,n.child,r,o,i,!1),ao(t,e,o,a,i,r);else if(c&32){let u=_f(n,r),l;for(;l=u();)ao(t,e,o,l,i,r);ao(t,e,o,a,i,r)}else c&16?Zv(e,t,r,n,o,i):ao(t,e,o,a,i,r);n=s?n.projectionNext:n.next}}function Mc(e,t,n,r,o,i){Cf(n,r,e.firstChild,t,o,i,!1)}function NC(e,t,n){let r=t[q],o=Gv(e,n,t),i=n.parent||t[Ae],s=Wv(i,n,t);Zv(r,0,t,n,o,s)}function Zv(e,t,n,r,o,i){let s=n[Re],c=s[Ae].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ao(t,e,o,l,i,n)}else{let u=c,l=s[he];Ev(r)&&(u.flags|=128),Cf(e,t,u,l,o,i,!0)}}function xC(e,t,n,r,o){let i=n[vn],s=We(n);i!==s&&ao(t,e,r,i,o);for(let a=ue;a<n.length;a++){let c=n[a];Mc(c[M],c,e,t,r,i)}}function OC(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Gt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Gt.Important),e.setStyle(n,r,o,i))}}function Yv(e,t,n,r,o){let i=Dt(),s=r&2;try{wn(-1),s&&t.length>te&&zv(e,t,te,!1),G(s?2:0,o,n),n(r,o)}finally{wn(i),G(s?3:1,o,n)}}function Ac(e,t,n){jC(e,t,n),(n.flags&64)===64&&UC(e,t,n)}function Pi(e,t,n=Ke){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function kC(e,t,n,r){let i=r.get(Av,Mv)||n===qt.ShadowDom,s=e.selectRootElement(t,i);return PC(s),s}function PC(e){LC(e)}var LC=()=>null;function FC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Jv(e,t,n,r,o,i){let s=t[M];if(Rc(e,s,t,n,r)){Ht(e)&&Xv(t,e.index);return}e.type&3&&(n=FC(n)),Qv(e,t,n,r,o,i)}function Qv(e,t,n,r,o,i){if(e.type&3){let s=Ke(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function Xv(e,t){let n=Ze(t,e);n[x]&16||(n[x]|=64)}function jC(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Ht(n)&&wC(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||nc(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Mi(t,e,s,n);if(lo(c,t),i!==null&&VC(t,s-r,c,a,n,i),at(a)){let u=Ze(n.index,t);u[ce]=Mi(t,e,s,n)}}}function UC(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=fm();try{wn(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];$a(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&$C(c,u)}}finally{wn(-1),$a(s)}}function $C(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Tf(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Fv(t,i.selectors,!1)&&(r??=[],at(i)?r.unshift(i):r.push(i))}return r}function BC(e,t,n,r,o,i){let s=Ke(e,t);ey(t[q],s,i,e.value,n,r,o)}function ey(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?pi(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function VC(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];$d(r,n,c,u)}}function Sf(e,t,n,r,o){let i=te+n,s=t[M],a=o(s,t,e,r,n);t[i]=a,Qn(e,!0);let c=e.type===2;return c?(Bv(t[q],a,e),(rm()===0||eo(e))&&lo(a,t),om()):lo(a,t),za()&&(!c||!Ic(e))&&If(s,t,a,e),e}function Mf(e){let t=e;return hd()?pd():(t=t.parent,Qn(t,!1)),t}function HC(e,t){let n=e[Qr];if(!n)return;let r;try{r=n.get(Qe,null)}catch{r=null}r?.(t)}function Rc(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];$d(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];$d(l,u,r,o),a=!0}return a}function zC(e,t){let n=Ze(t,e),r=n[M];qC(r,n);let o=n[it];o!==null&&n[Gn]===null&&(n[Gn]=Rv(o,n[Qr])),G(18),Af(r,n,n[ce]),G(19,n[ce])}function qC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Af(e,t,n){Va(t);try{let r=e.viewQuery;r!==null&&Ud(1,r,n);let o=e.template;o!==null&&Yv(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[wt]?.finishViewCreation(e),e.staticContentQueries&&Nv(e,t),e.staticViewQueries&&Ud(2,e.viewQuery,n);let i=e.components;i!==null&&GC(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Ha()}}function GC(e,t){for(let n=0;n<t.length;n++)zC(e,t[n])}function Li(e,t,n,r){let o=N(null);try{let i=t.tView,a=e[x]&4096?4096:16,c=Ef(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[mn]=u;let l=e[wt];return l!==null&&(c[wt]=l.createEmbeddedView(i)),Af(i,c,n),c}finally{N(o)}}function fo(e,t){return!t||t.firstChild===null||Ev(e)}function Ai(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(We(i)),st(i)&&ty(i,r);let s=n.type;if(s&8)Ai(e,t,n.child,r);else if(s&32){let a=_f(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Kv(t,n);if(Array.isArray(a))r.push(...a);else{let c=fn(t[Re]);Ai(c[M],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function ty(e,t){for(let n=ue;n<e.length;n++){let r=e[n],o=r[M].firstChild;o!==null&&Ai(r[M],r,o,t)}e[vn]!==e[it]&&t.push(e[vn])}function ny(e){if(e[Zn]!==null){for(let t of e[Zn])t.impl.addSequence(t);e[Zn].length=0}}var ry=[];function WC(e){return e[Ue]??KC(e)}function KC(e){let t=ry.pop()??Object.create(YC);return t.lView=e,t}function ZC(e){e.lView[Ue]!==e&&(e.lView=null,ry.push(e))}var YC=V(w({},nn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{yn(e.lView)},consumerOnSignalRead(){this.lView[Ue]=this}});function JC(e){let t=e[Ue]??Object.create(QC);return t.lView=e,t}var QC=V(w({},nn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=fn(e.lView);for(;t&&!oy(t[M]);)t=fn(t);t&&od(t)},consumerOnSignalRead(){this.lView[Ue]=this}});function oy(e){return e.type!==2}function iy(e){if(e[Vt]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Vt])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[x]&8192)}}var XC=100;function sy(e,t=0){let r=e[yt].rendererFactory,o=!1;o||r.begin?.();try{eT(e,t)}finally{o||r.end?.()}}function eT(e,t){let n=gd();try{no(!0),Vd(e,t);let r=0;for(;Di(e);){if(r===XC)throw new D(103,!1);r++,Vd(e,1)}}finally{no(n)}}function tT(e,t,n,r){if(Jn(t))return;let o=t[x],i=!1,s=!1;Va(t);let a=!0,c=null,u=null;i||(oy(e)?(u=WC(t),c=on(u)):Ws()===null?(a=!1,u=JC(t),c=on(u)):t[Ue]&&(Pn(t[Ue]),t[Ue]=null));try{rd(t),um(e.bindingStartIndex),n!==null&&Yv(e,t,n,2,r),nT(t);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&Ka(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Za(t,f,0,null),bd(t,0)}if(s||rT(t),iy(t),ay(t,0),e.contentQueries!==null&&Nv(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&Ka(t,f)}else{let f=e.contentHooks;f!==null&&Za(t,f,1),bd(t,1)}iT(e,t);let d=e.components;d!==null&&uy(t,d,0);let h=e.viewQuery;if(h!==null&&Ud(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&Ka(t,f)}else{let f=e.viewHooks;f!==null&&Za(t,f,2),bd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ka]){for(let f of t[ka])f();t[ka]=null}i||(ny(t),t[x]&=-73)}catch(l){throw i||yn(t),l}finally{u!==null&&(kn(u,c),a&&ZC(u)),Ha()}}function nT(e){let t=e[be];if(t?.enter){for(let n of t.enter)n();t.enter=void 0}}function ay(e,t){for(let n=_v(e);n!==null;n=bv(n))for(let r=ue;r<n.length;r++){let o=n[r];cy(o,t)}}function rT(e){for(let t=_v(e);t!==null;t=bv(t)){if(!(t[x]&2))continue;let n=t[Yn];for(let r=0;r<n.length;r++){let o=n[r];od(o)}}}function oT(e,t,n){G(18);let r=Ze(t,e);cy(r,n),G(19,r[ce])}function cy(e,t){La(e)&&Vd(e,t)}function Vd(e,t){let r=e[M],o=e[x],i=e[Ue],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&xr(i)),s||=!1,i&&(i.dirty=!1),e[x]&=-9217,s)tT(r,e,r.template,e[ce]);else if(o&8192){let a=N(null);try{iy(e),ay(e,1);let c=r.components;c!==null&&uy(e,c,1),ny(e)}finally{N(a)}}}function uy(e,t,n){for(let r=0;r<t.length;r++)oT(e,t[r],n)}function iT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)wn(~o);else{let i=o,s=n[++r],a=n[++r];dm(s,i);let c=t[i];G(24,c),a(2,c),G(25,c)}}}finally{wn(-1)}}function Rf(e,t){let n=gd()?64:1088;for(e[yt].changeDetectionScheduler?.notify(t);e;){e[x]|=n;let r=fn(e);if(to(e)&&!r)return e;e=r}return null}function ly(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function dy(e,t){let n=ue+t;if(n<e.length)return e[n]}function Fi(e,t,n,r=!0){let o=t[M];if(sT(o,t,e,n),r){let s=Bd(n,e),a=t[q],c=a.parentNode(e[vn]);c!==null&&bC(o,e[Ae],a,t,c,s)}let i=t[Gn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function fy(e,t){let n=Ri(e,t);return n!==void 0&&Sc(n[M],n),n}function Ri(e,t){if(e.length<=ue)return;let n=ue+t,r=e[n];if(r){let o=r[mn];o!==null&&o!==e&&bf(o,r),t>0&&(e[n-1][Ge]=r[Ge]);let i=gi(e,ue+t);_C(r[M],r);let s=i[wt];s!==null&&s.detachView(i[M]),r[he]=null,r[Ge]=null,r[x]&=-129}return r}function sT(e,t,n,r){let o=ue+r,i=n.length;r>0&&(n[o-1][Ge]=t),r<i-ue?(t[Ge]=n[o],zl(n,ue+r,t)):(n.push(t),t[Ge]=null),t[he]=n;let s=t[mn];s!==null&&n!==s&&hy(s,t);let a=t[wt];a!==null&&a.insertView(e),Fa(t),t[x]|=128}function hy(e,t){let n=e[Yn],r=t[he];if(Et(r))e[x]|=2;else{let o=r[he][Re];t[Re]!==o&&(e[x]|=2)}n===null?e[Yn]=[t]:n.push(t)}var En=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[M];return Ai(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ce]}set context(t){this._lView[ce]=t}get destroyed(){return Jn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[he];if(st(t)){let n=t[wi],r=n?n.indexOf(this):-1;r>-1&&(Ri(t,r),gi(n,r))}this._attachedToViewContainer=!1}Sc(this._lView[M],this._lView)}onDestroy(t){id(this._lView,t)}markForCheck(){Rf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Fa(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,sy(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=to(this._lView),n=this._lView[mn];n!==null&&!t&&bf(n,this._lView),qv(this._lView[M],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=to(this._lView),r=this._lView[mn];r!==null&&!n&&hy(r,this._lView),Fa(this._lView)}};var ho=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=aT;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Li(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new En(i)}}return e})();function aT(){return Nf(le(),A())}function Nf(e,t){return e.type&4?new ho(t,e,wo(e,t)):null}function or(e,t,n,r,o){let i=e.data[t];if(i===null)i=cT(e,t,n,r,o),lm()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=am();i.injectorIndex=s===null?-1:s.injectorIndex}return Qn(i,!0),i}function cT(e,t,n,r,o){let i=fd(),s=hd(),a=s?i:i&&i.parent,c=e.data[t]=lT(e,a,n,t,r,o);return uT(e,c,i,s),c}function uT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function lT(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return ud()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var e$=new RegExp(`^(\\d+)*(${HI}|${VI})*(.*)`);function dT(e){let t=e[Xl]??[],r=e[he][q],o=[];for(let i of t)i.data[Sv]!==void 0?o.push(i):fT(i,r);e[Xl]=o}function fT(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[Tv];for(;n<o;){let i=r.nextSibling;$v(t,r,!1),r=i,n++}}}var hT=()=>null,pT=()=>null;function sc(e,t){return hT(e,t)}function py(e,t,n){return pT(e,t,n)}var gy=class{},Nc=class{},Hd=class{resolveComponentFactory(t){throw new D(917,!1)}},ji=class{static NULL=new Hd},nr=class{},Ui=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>gT()}return e})();function gT(){let e=A(),t=le(),n=Ze(t.index,e);return(Et(n)?n:e)[q]}var my=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>null})}return e})();var Ja={},zd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Ja,r);return o!==Ja||n===Ja?o:this.parentInjector.get(t,n,r)}};function ac(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Sa(o,a);else if(i==2){let c=a,u=t[++s];r=Sa(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Kt(e,t=0){let n=A();if(n===null)return T(e,t);let r=le();return mv(r,n,fe(e),t)}function xf(){let e="invalid";throw new Error(e)}function vy(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}yT(e,t,n,a,i,c,u)}i!==null&&r!==null&&mT(n,r,i)}function mT(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new D(-301,!1);r.push(t[o],i)}}function vT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function yT(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&at(f)&&(c=!0,vT(e,n,h)),Pd(nc(n,t),e,f.type)}IT(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Hv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=uo(n.mergedAttrs,f.hostAttrs),ET(e,n,t,d,f),bT(d,f,o),s!==null&&s.has(f)){let[y,g]=s.get(f);n.directiveToIndex.set(f.type,[d,y+n.directiveStart,g+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}wT(e,n,i)}function wT(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))km(0,t,o,r),km(1,t,o,r),Lm(t,r,!1);else{let i=n.get(o);Pm(0,t,i,r),Pm(1,t,i,r),Lm(t,r,!0)}}}function km(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),yy(t,i)}}function Pm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),yy(t,s)}}function yy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Lm(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||yf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ET(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Vn(o.type,!0)),s=new tr(i,at(o),Kt,null);e.blueprint[r]=s,n[r]=s,DT(e,t,r,Hv(e,n,o.hostVars,Be),o)}function DT(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;_T(s)!=a&&s.push(a),s.push(n,r,i)}}function _T(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function bT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;at(t)&&(n[""]=e)}}function IT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Of(e,t,n,r,o,i,s,a){let c=t[M],u=c.consts,l=Ye(u,s),d=or(c,e,n,r,l);return i&&vy(c,t,d,Ye(u,a),o),d.mergedAttrs=uo(d.mergedAttrs,d.attrs),d.attrs!==null&&ac(d,d.attrs,!1),d.mergedAttrs!==null&&ac(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function kf(e,t){av(e,t),ed(t)&&e.queries.elementEnd(t)}function CT(e,t,n,r,o,i){let s=t.consts,a=Ye(s,o),c=or(t,e,n,r,a);if(c.mergedAttrs=uo(c.mergedAttrs,c.attrs),i!=null){let u=Ye(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&ac(c,c.attrs,!1),c.mergedAttrs!==null&&ac(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Pf(e){return Ey(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function wy(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Ey(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Lf(e,t,n){return e[t]=n}function TT(e,t){return e[t]}function $e(e,t,n){if(n===Be)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function ST(e,t,n,r){let o=$e(e,t,n);return $e(e,t+1,r)||o}function Qa(e,t,n){return function r(o){let i=Ht(e)?Ze(e.index,t):t;Rf(i,5);let s=t[ce],a=Fm(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Fm(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Fm(e,t,n,r){let o=N(null);try{return G(6,t,n),n(r)!==!1}catch(i){return HC(e,i),!1}finally{G(7,t,n),N(o)}}function Dy(e,t,n,r,o,i,s,a){let c=eo(e),u=!1,l=null;if(!r&&c&&(l=AT(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Ke(e,n),h=r?r(d):d;qI(n,h,i,a);let f=o.listen(h,i,a);if(!MT(i)){let p=r?y=>r(We(y[e.index])):e.index;_y(p,t,n,i,a,f,!1)}}return u}function MT(e){return e.startsWith("animation")||e.startsWith("transition")}function AT(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Jr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function _y(e,t,n,r,o,i,s){let a=t.firstCreatePass?ad(t):null,c=sd(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function jm(e,t,n,r,o,i){let s=t[n],a=t[M],u=a.data[n].outputs[r],d=s[u].subscribe(i);_y(e.index,a,t,o,i,d,!0)}var qd=Symbol("BINDING");var cc=class extends ji{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=vt(t);return new Dn(n,this.ngModule)}};function RT(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Cc.SignalBased)!==0};return o&&(i.transform=o),i})}function NT(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function xT(e,t,n){let r=t instanceof ae?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new zd(n,r):n}function OT(e){let t=e.get(nr,null);if(t===null)throw new D(407,!1);let n=e.get(my,null),r=e.get(qe,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function kT(e,t){let n=by(e);return jv(t,n,n==="svg"?td:n==="math"?Yg:null)}function by(e){return(e.selectors[0][0]||"div").toLowerCase()}var Dn=class extends Nc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=RT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=NT(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=lC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){G(22);let a=N(null);try{let c=this.componentDef,u=PT(r,c,s,i),l=xT(c,o||this.ngModule,t),d=OT(l),h=d.rendererFactory.createRenderer(null,c),f=r?kC(h,r,c.encapsulation,l):kT(c,h),p=s?.some(Um)||i?.some(m=>typeof m!="function"&&m.bindings.some(Um)),y=Ef(null,u,null,512|Vv(c),null,null,d,h,l,null,Rv(f,l,!0));y[te]=f,Va(y);let g=null;try{let m=Of(te,y,2,"#host",()=>u.directiveRegistry,!0,0);Bv(h,f,m),lo(f,y),Ac(u,y,m),mf(u,m,y),kf(u,m),n!==void 0&&FT(m,this.ngContentSelectors,n),g=Ze(m.index,y),y[ce]=g[ce],Af(u,y,null)}catch(m){throw g!==null&&Fd(g),Fd(y),m}finally{G(23),Ha()}return new uc(this.componentType,y,!!p)}finally{N(a)}}};function PT(e,t,n,r){let o=e?["ng-version","20.3.2"]:dC(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[qd].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[qd].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=Oa(d);c.push(h)}return wf(0,null,LT(i,s),1,a,c,null,null,null,[o],null)}function LT(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Um(e){let t=e[qd].kind;return t==="input"||t==="twoWay"}var uc=class extends gy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ei(n[M],te),this.location=wo(this._tNode,n),this.instance=Ze(this._tNode.index,n)[ce],this.hostView=this.changeDetectorRef=new En(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Rc(r,o[M],o,t,n);this.previousInputValues.set(t,n);let s=Ze(r.index,o);Rf(s,1)}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function FT(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var _n=(()=>{class e{static __NG_ELEMENT_ID__=jT}return e})();function jT(){let e=le();return Cy(e,A())}var UT=_n,Iy=class extends UT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let t=ff(this._hostTNode,this._hostLView);if(lv(t)){let n=tc(t,this._hostLView),r=ec(t),o=n[M].data[r+8];return new er(o,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=$m(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ue}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=sc(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,fo(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!mI(t),u;if(c)u=n;else{let g=n||{};u=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef,s=g.directives,a=g.bindings}let l=c?t:new Dn(vt(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(c?d:this.parentInjector).get(ae,null);m&&(i=m)}let h=vt(l.componentType??{}),f=sc(this._lContainer,h?.id??null),p=f?.firstChild??null,y=l.create(d,o,p,i,s,a);return this.insertImpl(y.hostView,u,fo(this._hostTNode,f)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Xg(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[he],u=new Iy(c,c[Ae],c[he]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Fi(s,o,i,r),t.attachToViewContainerRef(),zl(Td(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=$m(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ri(this._lContainer,n);r&&(gi(Td(this._lContainer),n),Sc(r[M],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ri(this._lContainer,n);return r&&gi(Td(this._lContainer),n)!=null?new En(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function $m(e){return e[wi]}function Td(e){return e[wi]||(e[wi]=[])}function Cy(e,t){let n,r=t[e.index];return st(r)?n=r:(n=ly(r,t,null,e),t[e.index]=n,Df(t,n)),BT(n,t,e,r),new Iy(n,e,t)}function $T(e,t){let n=e[q],r=n.createComment(""),o=Ke(t,e),i=n.parentNode(o);return ic(n,i,r,n.nextSibling(o),!1),r}var BT=zT,VT=()=>!1;function HT(e,t,n){return VT(e,t,n)}function zT(e,t,n,r){if(e[vn])return;let o;n.type&8?o=We(r):o=$T(t,n),e[vn]=o}var Gd=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Wd=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)jf(t,n).matches!==null&&this.queries[n].setDirty()}},lc=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=YT(t):this.predicate=t}},Kd=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Zd=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,qT(n,i)),this.matchTNodeWithReadOption(t,n,Ya(n,t,i,!1,!1))}else r===ho?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ya(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Wt||o===_n||o===ho&&n.type&4)this.addMatch(n.index,-2);else{let i=Ya(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function qT(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function GT(e,t){return e.type&11?wo(e,t):e.type&4?Nf(e,t):null}function WT(e,t,n,r){return n===-1?GT(t,e):n===-2?KT(e,t,r):Mi(e,e[M],n,t)}function KT(e,t,n){if(n===Wt)return wo(t,e);if(n===ho)return Nf(t,e);if(n===_n)return Cy(t,e)}function Ty(e,t,n,r){let o=t[wt].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(WT(t,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Yd(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Ty(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=t[-c];for(let d=ue;d<l.length;d++){let h=l[d];h[mn]===h[he]&&Yd(h[M],h,u,r)}if(l[Yn]!==null){let d=l[Yn];for(let h=0;h<d.length;h++){let f=d[h];Yd(f[M],f,u,r)}}}}}return r}function Ff(e,t){return e[wt].queries[t].queryList}function Sy(e,t,n){let r=new rc((n&4)===4);return nm(e,t,r,r.destroy),(t[wt]??=new Wd).queries.push(new Gd(r))-1}function My(e,t,n){let r=Z();return r.firstCreatePass&&(Ay(r,new lc(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Sy(r,A(),t)}function ZT(e,t,n,r){let o=Z();if(o.firstCreatePass){let i=le();Ay(o,new lc(t,n,r),i.index),JT(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return Sy(o,A(),n)}function YT(e){return e.split(",").map(t=>t.trim())}function Ay(e,t,n){e.queries===null&&(e.queries=new Kd),e.queries.track(new Zd(t,n))}function JT(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function jf(e,t){return e.queries.getByIndex(t)}function Ry(e,t){let n=e[M],r=jf(n,t);return r.crossesNgTemplate?Yd(n,e,t,[]):Ty(n,e,r,t)}function Uf(e,t,n){let r,o=ei(()=>{r._dirtyCounter();let i=QT(r,e);if(t&&i===void 0)throw new D(-951,!1);return i});return r=o[se],r._dirtyCounter=Pe(0),r._flatValue=void 0,o}function Ny(e){return Uf(!0,!1,e)}function xy(e){return Uf(!0,!0,e)}function Oy(e){return Uf(!1,!1,e)}function ky(e,t){let n=e[se];n._lView=A(),n._queryIndex=t,n._queryList=Ff(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function QT(e,t){let n=e._lView,r=e._queryIndex;if(n===void 0||r===void 0||n[x]&4)return t?void 0:Te;let o=Ff(n,r),i=Ry(n,r);return o.reset(i,wv),t?o.first:o._changesDetected||e._flatValue===void 0?e._flatValue=o.toArray():e._flatValue}var Bm=new Set;function Xe(e){Bm.has(e)||(Bm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var po=class{},xc=class{};var dc=class extends po{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new cc(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Wl(t);this._bootstrapComponents=Pv(i.bootstrap),this._r3Injector=wd(t,n,[{provide:po,useValue:this},{provide:ji,useValue:this.componentFactoryResolver},...r],$t(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},fc=class extends xc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new dc(this.moduleType,t,[])}};var Ni=class extends po{injector;componentFactoryResolver=new cc(this);instance=null;constructor(t){super();let n=new zn([...t.providers,{provide:po,useValue:this},{provide:ji,useValue:this.componentFactoryResolver}],t.parent||Yr(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function _o(e,t,n=null){return new Ni({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var XT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Kl(!1,n.type),o=r.length>0?_o([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(T(ae))})}return e})();function $f(e){return vo(()=>{let t=Py(e),n=V(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(XT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qt.Emulated,styles:e.styles||Te,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Xe("NgStandalone"),Ly(n);let r=e.dependencies;return n.directiveDefs=Vm(r,eS),n.pipeDefs=Vm(r,Hg),n.id=rS(n),n})}function eS(e){return vt(e)||Oa(e)}function bn(e){return vo(()=>({type:e.type,bootstrap:e.bootstrap||Te,declarations:e.declarations||Te,imports:e.imports||Te,exports:e.exports||Te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function tS(e,t){if(e==null)return ot;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Cc.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function nS(e){if(e==null)return ot;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ir(e){return vo(()=>{let t=Py(e);return Ly(t),t})}function Py(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ot,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Te,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:tS(e.inputs,t),outputs:nS(e.outputs),debugInfo:null}}function Ly(e){e.features?.forEach(t=>t(e))}function Vm(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function rS(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function oS(e){return Object.getPrototypeOf(e.prototype).constructor}function Fy(e){let t=oS(e.type),n=!0,r=[e];for(;t;){let o;if(at(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Sd(e.inputs),s.declaredInputs=Sd(e.declaredInputs),s.outputs=Sd(e.outputs);let a=o.hostBindings;a&&uS(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&aS(e,c),u&&cS(e,u),iS(e,o),kg(e.outputs,o.outputs),at(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Fy&&(n=!1)}}t=Object.getPrototypeOf(t)}sS(r)}function iS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function sS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=uo(o.hostAttrs,n=uo(n,o.hostAttrs))}}function Sd(e){return e===ot?{}:e===Te?[]:e}function aS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function cS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function uS(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function lS(e){let t=n=>{let r=Array.isArray(e);n.hostDirectives===null?(n.resolveHostDirectives=dS,n.hostDirectives=r?e.map(Jd):[e]):r?n.hostDirectives.unshift(...e.map(Jd)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function dS(e){let t=[],n=!1,r=null,o=null;for(let i=0;i<e.length;i++){let s=e[i];if(s.hostDirectives!==null){let a=t.length;r??=new Map,o??=new Map,jy(s,t,r),o.set(s,[a,t.length-1])}i===0&&at(s)&&(n=!0,t.push(s))}for(let i=n?1:0;i<e.length;i++)t.push(e[i]);return[t,r,o]}function jy(e,t,n){if(e.hostDirectives!==null)for(let r of e.hostDirectives)if(typeof r=="function"){let o=r();for(let i of o)Hm(Jd(i),t,n)}else Hm(r,t,n)}function Hm(e,t,n){let r=Oa(e.directive);fS(r.declaredInputs,e.inputs),jy(r,t,n),n.set(r,e),t.push(r)}function Jd(e){return typeof e=="function"?{directive:fe(e),inputs:ot,outputs:ot}:{directive:fe(e.directive),inputs:zm(e.inputs),outputs:zm(e.outputs)}}function zm(e){if(e===void 0||e.length===0)return ot;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function fS(e,t){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o=e[n];e[r]=o}}function Uy(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=uo(e.mergedAttrs,e.attrs);let l=e.tView=wf(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Qn(e,!1);let c=pS(n,t,e,r);za()&&If(n,t,c,e),lo(c,t);let u=ly(c,t,c,e);t[r+te]=u,Df(t,u),HT(u,e,t)}function hS(e,t,n,r,o,i,s,a,c,u,l){let d=n+te,h;return t.firstCreatePass?(h=or(t,d,4,s||null,a||null),ja()&&vy(t,e,h,Ye(t.consts,u),Tf),av(t,h)):h=t.data[d],Uy(h,e,t,n,r,o,i,c),eo(h)&&Ac(t,e,h),u!=null&&Pi(e,h,l),h}function xi(e,t,n,r,o,i,s,a,c,u,l){let d=n+te,h;if(t.firstCreatePass){if(h=or(t,d,4,s||null,a||null),u!=null){let f=Ye(t.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return Uy(h,e,t,n,r,o,i,c),u!=null&&Pi(e,h,l),h}function $y(e,t,n,r,o,i,s,a){let c=A(),u=Z(),l=Ye(u.consts,i);return hS(c,u,e,t,n,r,o,l,void 0,s,a),$y}var pS=gS;function gS(e,t,n,r){return bi(!0),t[q].createComment("")}var Oc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Oc||{}),sr=new b(""),By=!1,Qd=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Kg()&&(this.destroyRef=v(Je,{optional:!0})??void 0,this.pendingTasks=v(_t,{optional:!0})??void 0)}emit(t){let n=N(null);try{super.next(t)}finally{N(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof Q&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ne=Qd;function Vy(e){let t,n;function r(){e=Xn;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function qm(e){return queueMicrotask(()=>e()),()=>{e=Xn}}var Bf="isAngularZone",hc=Bf+"_ID",mS=0,ie=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ne(!1);onMicrotaskEmpty=new Ne(!1);onStable=new Ne(!1);onError=new Ne(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=By}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,wS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,vS,Xn,Xn);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},vS={};function Vf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Vy(()=>{e.callbackScheduled=!1,Xd(e),e.isCheckStableRunning=!0,Vf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Xd(e)}function wS(e){let t=()=>{yS(e)},n=mS++;e._inner=e._inner.fork({name:"angular",properties:{[Bf]:!0,[hc]:n,[hc+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(ES(c))return r.invokeTask(i,s,a,c);try{return Gm(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Wm(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Gm(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!DS(c)&&t(),Wm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Xd(e),Vf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Xd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Gm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wm(e){e._nesting--,Vf(e)}var Oi=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ne;onMicrotaskEmpty=new Ne;onStable=new Ne;onError=new Ne;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function ES(e){return Hy(e,"__ignore_ng_zone__")}function DS(e){return Hy(e,"__scheduler_tick__")}function Hy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Hf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),zy=[0,1,2,3],qy=(()=>{class e{ngZone=v(ie);scheduler=v(qe);errorHandler=v(je,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(sr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&G(16),this.executing=!0;for(let r of zy)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&G(17)}register(n){let{view:r}=n;r!==void 0?((r[Zn]??=[]).push(n),yn(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Oc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})(),pc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Zn];t&&(this.view[Zn]=t.filter(n=>n!==this))}};function zf(e,t){let n=t?.injector??v(Se);return Xe("NgAfterNextRender"),bS(e,n,t,!0)}function _S(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function bS(e,t,n,r){let o=t.get(Hf);o.impl??=t.get(qy);let i=t.get(sr,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Je):null,a=t.get(io,null,{optional:!0}),c=new pc(o.impl,_S(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var qf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Gf=new b("");function $i(e){return!!e&&typeof e.then=="function"}function Gy(e){return!!e&&typeof e.subscribe=="function"}var Wf=new b("");function kc(e){return gn([{provide:Wf,multi:!0,useValue:e}])}var Kf=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(Wf,{optional:!0})??[];injector=v(Se);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ee(this.injector,o);if($i(i))n.push(i);else if(Gy(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bi=new b("");function Wy(){rl(()=>{let e="";throw new D(600,e)})}function Ky(e){return e.isBoundToModule}var IS=10;var ar=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(Qe);afterRenderManager=v(Hf);zonelessEnabled=v(Ii);rootEffectScheduler=v(Ci);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(_t);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe($(n=>!n))}constructor(){v(sr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Se.NULL){return this._injector.get(ie).run(()=>{G(10);let s=n instanceof Nc;if(!this._injector.get(Kf).done){let p="";throw new D(405,p)}let c;s?c=n:c=this._injector.get(ji).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Ky(c)?void 0:this._injector.get(po),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(Gf,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Si(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),G(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){G(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Oc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let n=N(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,N(n),this.afterTick.next(),G(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(nr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<IS;)G(14),this.synchronizeOnce(),G(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Di(o))continue;let i=r&&!this.zonelessEnabled?0:1;sy(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Di(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Si(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Bi,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Si(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Si(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Md="aria";function Zy(e,t){let n=A(),r=zt();if($e(n,r,t)){let o=Z(),i=ro();if(Rc(i,o,n,e,t))Ht(i)&&Xv(n,i.index);else{let a=Ke(i,n),c=CS(e);ey(n[q],a,null,i.value,c,t,null)}}return Zy}function CS(e){return e.charAt(Md.length)!=="-"?Md+"-"+e.slice(Md.length).toLowerCase():e}function Zf(e,t,n,r){let o=A(),i=zt();if($e(o,i,t)){let s=Z(),a=ro();BC(a,o,e,t,n,r)}return Zf}var a$=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ef=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t,!0))}};function Ad(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function TS(e,t,n){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;i<=s&&i<=c;){let u=e.at(i),l=t[i],d=Ad(i,u,i,l,n);if(d!==0){d<0&&e.updateValue(i,l),i++;continue}let h=e.at(s),f=t[c],p=Ad(s,h,c,f,n);if(p!==0){p<0&&e.updateValue(s,f),s--,c--;continue}let y=n(i,u),g=n(s,h),m=n(i,l);if(Object.is(m,g)){let C=n(c,f);Object.is(C,y)?(e.swap(i,s),e.updateValue(s,f),c--,s--):e.move(s,i),e.updateValue(i,l),i++;continue}if(r??=new gc,o??=Zm(e,i,s,n),tf(e,r,i,m))e.updateValue(i,l),i++,s++;else if(o.has(m))r.set(y,e.detach(i)),s--;else{let C=e.create(i,t[i]);e.attach(i,C),i++,s++}}for(;i<=c;)Km(e,r,n,i,t[i]),i++}else if(t!=null){let c=t[Symbol.iterator](),u=c.next();for(;!u.done&&i<=s;){let l=e.at(i),d=u.value,h=Ad(i,l,i,d,n);if(h!==0)h<0&&e.updateValue(i,d),i++,u=c.next();else{r??=new gc,o??=Zm(e,i,s,n);let f=n(i,d);if(tf(e,r,i,f))e.updateValue(i,d),i++,s++,u=c.next();else if(!o.has(f))e.attach(i,e.create(i,d)),i++,s++,u=c.next();else{let p=n(i,l);r.set(p,e.detach(i)),s--}}}for(;!u.done;)Km(e,r,n,e.length,u.value),u=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function tf(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Km(e,t,n,r,o){if(tf(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Zm(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var gc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function SS(e,t,n,r,o,i,s,a){Xe("NgControlFlow");let c=A(),u=Z(),l=Ye(u.consts,i);return xi(c,u,e,t,n,r,o,l,256,s,a),Yf}function Yf(e,t,n,r,o,i,s,a){Xe("NgControlFlow");let c=A(),u=Z(),l=Ye(u.consts,i);return xi(c,u,e,t,n,r,o,l,512,s,a),Yf}function MS(e,t){Xe("NgControlFlow");let n=A(),r=zt(),o=n[r]!==Be?n[r]:-1,i=o!==-1?mc(n,te+o):void 0,s=0;if($e(n,r,e)){let a=N(null);try{if(i!==void 0&&fy(i,s),e!==-1){let c=te+e,u=mc(n,c),l=sf(n[M],c),d=py(u,l,n),h=Li(n,l,t,{dehydratedView:d});Fi(u,h,s,fo(l,d))}}finally{N(a)}}else if(i!==void 0){let a=dy(i,s);a!==void 0&&(a[ce]=t)}}var nf=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ue}};function AS(e,t){return t}var rf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function RS(e,t,n,r,o,i,s,a,c,u,l,d,h){Xe("NgControlFlow");let f=A(),p=Z(),y=c!==void 0,g=A(),m=a?s.bind(g[Re][ce]):s,C=new rf(y,m);g[te+e]=C,xi(f,p,e+1,t,n,r,o,Ye(p.consts,i),256),y&&xi(f,p,e+2,c,u,l,d,Ye(p.consts,h),512)}var of=class extends ef{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ue}at(t){return this.getLView(t)[ce].$implicit}attach(t,n){let r=n[Gn];this.needsIndexUpdate||=t!==this.length,Fi(this.lContainer,n,t,fo(this.templateTNode,r))}detach(t,n){return this.needsIndexUpdate||=t!==this.length-1,n&&xS(this.lContainer,t),OS(this.lContainer,t)}create(t,n){let r=sc(this.lContainer,this.templateTNode.tView.ssrId),o=Li(this.hostLView,this.templateTNode,new nf(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){Sc(t[M],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ce].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ce].$index=t}getLView(t){return kS(this.lContainer,t)}};function NS(e){let t=N(null),n=Dt();try{let r=A(),o=r[M],i=r[n],s=n+1,a=mc(r,s);if(i.liveCollection===void 0){let u=sf(o,s);i.liveCollection=new of(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(TS(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let u=zt(),l=c.length===0;if($e(r,u,l)){let d=n+2,h=mc(r,d);if(l){let f=sf(o,d),p=py(h,f,r),y=Li(r,f,void 0,{dehydratedView:p});Fi(h,y,0,fo(f,p))}else o.firstUpdatePass&&dT(h),fy(h,0)}}}finally{N(t)}}function mc(e,t){return e[t]}function xS(e,t){if(e.length<=ue)return;let n=ue+t,r=e[n];r&&r[be]&&(r[be].skipLeaveAnimations=!0)}function OS(e,t){return Ri(e,t)}function kS(e,t){return dy(e,t)}function sf(e,t){return Ei(e,t)}function Yy(e,t,n){let r=A(),o=zt();if($e(r,o,t)){let i=Z(),s=ro();Jv(s,r,e,t,r[q],n)}return Yy}function af(e,t,n,r,o){Rc(t,e,n,o?"class":"style",r)}function Jf(e,t,n,r){let o=A(),i=o[M],s=e+te,a=i.firstCreatePass?Of(s,o,2,t,Tf,ja(),n,r):i.data[s];if(Sf(a,o,e,t,Qy),eo(a)){let c=o[M];Ac(c,o,a),mf(c,a,o)}return r!=null&&Pi(o,a),Jf}function Qf(){let e=Z(),t=le(),n=Mf(t);return e.firstCreatePass&&kf(e,n),ld(n)&&dd(),cd(),n.classesWithoutHost!=null&&_I(n)&&af(e,n,A(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&bI(n)&&af(e,n,A(),n.stylesWithoutHost,!1),Qf}function Pc(e,t,n,r){return Jf(e,t,n,r),Qf(),Pc}function Xf(e,t,n,r){let o=A(),i=o[M],s=e+te,a=i.firstCreatePass?CT(s,i,2,t,n,r):i.data[s];return Sf(a,o,e,t,Qy),r!=null&&Pi(o,a),Xf}function eh(){let e=le(),t=Mf(e);return ld(t)&&dd(),cd(),eh}function Jy(e,t,n,r){return Xf(e,t,n,r),eh(),Jy}var Qy=(e,t,n,r,o)=>(bi(!0),jv(t[q],r,Em()));function th(e,t,n){let r=A(),o=r[M],i=e+te,s=o.firstCreatePass?Of(i,r,8,"ng-container",Tf,ja(),t,n):o.data[i];if(Sf(s,r,e,"ng-container",PS),eo(s)){let a=r[M];Ac(a,r,s),mf(a,s,r)}return n!=null&&Pi(r,s),th}function nh(){let e=Z(),t=le(),n=Mf(t);return e.firstCreatePass&&kf(e,n),nh}function Xy(e,t,n){return th(e,t,n),nh(),Xy}var PS=(e,t,n,r,o)=>(bi(!0),pC(t[q],""));function LS(){return A()}function ew(e,t,n){let r=A(),o=zt();if($e(r,o,t)){let i=Z(),s=ro();Qv(s,r,e,t,r[q],n)}return ew}var Vi="en-US";var FS=Vi;function tw(e){typeof e=="string"&&(FS=e.toLowerCase().replace(/_/g,"-"))}function rh(e,t,n){let r=A(),o=Z(),i=le();return rw(o,r,r[q],i,e,t,n),rh}function nw(e,t,n){let r=A(),o=Z(),i=le();return(i.type&3||n)&&Dy(i,o,r,n,r[q],e,t,Qa(i,r,t)),nw}function rw(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Qa(r,t,i),Dy(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=Qa(r,t,i),jm(r,t,h,f,o,c)}if(u&&u.length)for(let d of u)c??=Qa(r,t,i),jm(r,t,d,o,o,c)}}function jS(e=1){return vm(e)}function US(e,t){let n=null,r=iC(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?Fv(e,i,!0):cC(r,i))return o}return n}function $S(e){let t=A()[Re][Ae];if(!t.projection){let n=e?e.length:1,r=t.projection=Bg(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?US(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function BS(e,t=0,n,r,o,i){let s=A(),a=Z(),c=r?e+1:null;c!==null&&xi(s,a,c,r,o,i,null,n);let u=or(a,te+e,16,null,n||null);u.projection===null&&(u.projection=t),pd();let d=!s[Gn]||ud();s[Re][Ae].projection[u.projection]===null&&c!==null?VS(s,a,c):d&&!Ic(u)&&NC(a,s,u)}function VS(e,t,n){let r=te+n,o=t.data[r],i=e[r],s=sc(i,o.tView.ssrId),a=Li(e,o,void 0,{dehydratedView:s});Fi(i,a,0,fo(o,s))}function HS(e,t,n){My(e,t,n)}function ow(e){let t=A(),n=Z(),r=Ba();_i(r+1);let o=jf(n,r);if(e.dirty&&Qg(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=Ry(t,r);e.reset(i,wv),e.notifyOnChanges()}return!0}return!1}function iw(){return Ff(A(),Ba())}function zS(e,t,n,r,o){ky(t,ZT(e,n,r,o))}function qS(e,t,n,r){ky(e,My(t,n,r))}function GS(e=1){_i(Ba()+e)}function Wa(e,t){return e<<17|t<<2}function rr(e){return e>>17&32767}function WS(e){return(e&2)==2}function KS(e,t){return e&131071|t<<17}function cf(e){return e|2}function go(e){return(e&131068)>>2}function Rd(e,t){return e&-131069|t<<2}function ZS(e){return(e&1)===1}function uf(e){return e|1}function YS(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=rr(s),c=go(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Zr(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=rr(e[a+1]);e[r+1]=Wa(h,a),h!==0&&(e[h+1]=Rd(e[h+1],r)),e[a+1]=KS(e[a+1],r)}else e[r+1]=Wa(a,0),a!==0&&(e[a+1]=Rd(e[a+1],r)),a=r;else e[r+1]=Wa(c,0),a===0?a=r:e[c+1]=Rd(e[c+1],r),c=r;u&&(e[r+1]=cf(e[r+1])),Ym(e,l,r,!0),Ym(e,l,r,!1),JS(t,l,e,r,i),s=Wa(a,c),i?t.classBindings=s:t.styleBindings=s}function JS(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Zr(i,t)>=0&&(n[r+1]=uf(n[r+1]))}function Ym(e,t,n,r){let o=e[n+1],i=t===null,s=r?rr(o):go(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];QS(c,t)&&(a=!0,e[s+1]=r?uf(u):cf(u)),s=r?rr(u):go(u)}a&&(e[n+1]=r?cf(o):uf(o))}function QS(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Zr(e,t)>=0:!1}var pe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sw(e){return e.substring(pe.key,pe.keyEnd)}function XS(e){return e.substring(pe.value,pe.valueEnd)}function e0(e){return uw(e),aw(e,mo(e,0,pe.textEnd))}function aw(e,t){let n=pe.textEnd;return n===t?-1:(t=pe.keyEnd=n0(e,pe.key=t,n),mo(e,t,n))}function t0(e){return uw(e),cw(e,mo(e,0,pe.textEnd))}function cw(e,t){let n=pe.textEnd,r=pe.key=mo(e,t,n);return n===r?-1:(r=pe.keyEnd=r0(e,r,n),r=Jm(e,r,n,58),r=pe.value=mo(e,r,n),r=pe.valueEnd=o0(e,r,n),Jm(e,r,n,59))}function uw(e){pe.key=0,pe.keyEnd=0,pe.value=0,pe.valueEnd=0,pe.textEnd=e.length}function mo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function n0(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function r0(e,t,n){let r;for(;t<n&&((r=e.charCodeAt(t))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)t++;return t}function Jm(e,t,n,r){return t=mo(e,t,n),t<n&&t++,t}function o0(e,t,n){let r=-1,o=-1,i=-1,s=t,a=s;for(;s<n;){let c=e.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=Qm(e,c,s,n):t===s-4&&i===85&&o===82&&r===76&&c===40?a=s=Qm(e,41,s,n):c>32&&(a=s),i=o,o=r,r=c&-33}return a}function Qm(e,t,n,r){let o=-1,i=n;for(;i<r;){let s=e.charCodeAt(i++);if(s==t&&o!==92)return i;s==92&&o===92?o=0:o=s}throw new Error}function lw(e,t,n){return fw(e,t,n,!1),lw}function dw(e,t){return fw(e,t,null,!0),dw}function i0(e){hw(mw,s0,e,!1)}function s0(e,t){for(let n=t0(t);n>=0;n=cw(t,n))mw(e,sw(t),XS(t))}function a0(e){hw(p0,c0,e,!0)}function c0(e,t){for(let n=e0(t);n>=0;n=aw(t,n))mi(e,sw(t),!0)}function fw(e,t,n,r){let o=A(),i=Z(),s=md(2);if(i.firstUpdatePass&&gw(i,e,s,r),t!==Be&&$e(o,s,t)){let a=i.data[Dt()];vw(i,a,o,o[q],e,o[s+1]=m0(t,n),r,s)}}function hw(e,t,n,r){let o=Z(),i=md(2);o.firstUpdatePass&&gw(o,null,i,r);let s=A();if(n!==Be&&$e(s,i,n)){let a=o.data[Dt()];if(yw(a,r)&&!pw(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Sa(c,n||"")),af(o,a,s,n,r)}else g0(o,a,s,s[q],s[i+1],s[i+1]=h0(e,t,n),r,i)}}function pw(e,t){return t>=e.expandoStartIndex}function gw(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Dt()],s=pw(e,n);yw(i,r)&&t===null&&!s&&(t=!1),t=u0(o,i,t,r),YS(o,i,t,n,s,r)}}function u0(e,t,n,r){let o=hm(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Nd(null,e,t,n,r),n=ki(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Nd(o,e,t,n,r),i===null){let c=l0(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Nd(null,e,t,c[1],r),c=ki(c,t.attrs,r),d0(e,t,r,c))}else i=f0(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function l0(e,t,n){let r=n?t.classBindings:t.styleBindings;if(go(r)!==0)return e[rr(r)]}function d0(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[rr(o)]=r}function f0(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=ki(r,s,n)}return ki(r,t.attrs,n)}function Nd(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=ki(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ki(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),mi(e,s,n?!0:t[++i]))}return e===void 0?null:e}function h0(e,t,n){if(n==null||n==="")return Te;let r=[],o=Do(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function mw(e,t,n){mi(e,t,Do(n))}function p0(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&mi(e,r,n)}function g0(e,t,n,r,o,i,s,a){o===Be&&(o=Te);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,y;l===d?(c+=2,u+=2,h!==f&&(p=d,y=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,y=f),p!==null&&vw(e,t,n,r,p,y,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function vw(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=ZS(u)?Xm(c,t,n,o,go(u),s):void 0;if(!vc(l)){vc(i)||WS(u)&&(i=Xm(c,null,n,o,a,s));let d=nd(Dt(),n);OC(r,s,d,o,i)}}function Xm(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===Be&&(h=d?Te:void 0);let f=d?xa(h,r):l===r?h:void 0;if(u&&!vc(f)&&(f=xa(c,r)),vc(f)&&(a=f,s))return a;let p=e[o+1];o=s?rr(p):go(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=xa(c,r))}return a}function vc(e){return e!==void 0}function m0(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=$t(Do(e)))),e}function yw(e,t){return(e.flags&(t?8:16))!==0}function v0(e,t=""){let n=A(),r=Z(),o=e+te,i=r.firstCreatePass?or(r,o,1,t,null):r.data[o],s=y0(r,n,i,t,e);n[o]=s,za()&&If(r,n,s,i),Qn(i,!1)}var y0=(e,t,n,r,o)=>(bi(!0),fC(t[q],r));function ww(e,t,n,r=""){return $e(e,zt(),n)?t+pi(n)+r:Be}function Ew(e){return oh("",e),Ew}function oh(e,t,n){let r=A(),o=ww(r,e,t,n);return o!==Be&&w0(r,Dt(),o),oh}function w0(e,t,n){let r=nd(t,e);hC(e[q],r,n)}function Dw(e,t,n){Dd(t)&&(t=t());let r=A(),o=zt();if($e(r,o,t)){let i=Z(),s=ro();Jv(s,r,e,t,r[q],n)}return Dw}function E0(e,t){let n=Dd(e);return n&&e.set(t),n}function _w(e,t){let n=A(),r=Z(),o=le();return rw(r,n,n[q],o,e,t),_w}var bw={};function Iw(e){let t=Z(),n=A(),r=e+te,o=or(t,r,128,null,null);return Qn(o,!1),Pa(t,n,r,bw),Iw}function D0(e){Xe("NgLet");let t=Z(),n=A(),r=Dt();return Pa(t,n,r,e),e}function _0(e){let t=cm(),n=Jg(t,te+e);if(n===bw)throw new D(314,!1);return n}function b0(e,t,n=""){return ww(A(),e,t,n)}function I0(e,t,n){let r=Z();if(r.firstCreatePass){let o=at(e);lf(n,r.data,r.blueprint,o,!0),lf(t,r.data,r.blueprint,o,!1)}}function lf(e,t,n,r,o){if(e=fe(e),Array.isArray(e))for(let i=0;i<e.length;i++)lf(e[i],t,n,r,o);else{let i=Z(),s=A(),a=le(),c=Hn(e)?e:fe(e.provide),u=Yl(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Hn(e)||!e.multi){let f=new tr(u,o,Kt,null),p=Od(c,t,o?l:l+h,d);p===-1?(Pd(nc(a,s),i,c),xd(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Od(c,t,l+h,d),p=Od(c,t,l,l+h),y=f>=0&&n[f],g=p>=0&&n[p];if(o&&!g||!o&&!y){Pd(nc(a,s),i,c);let m=S0(o?T0:C0,n.length,o,r,u,e);!o&&g&&(n[p].providerFactory=m),xd(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=Cw(n[o?p:f],u,!o&&r);xd(i,e,f>-1?f:p,m)}!o&&r&&g&&n[p].componentProviders++}}}function xd(e,t,n,r){let o=Hn(t),i=Wg(t);if(o||i){let c=(i?fe(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Cw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Od(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function C0(e,t,n,r,o){return df(this.multi,[])}function T0(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Mi(r,r[M],this.providerFactory.index,o);s=c.slice(0,a),df(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],df(i,s);return s}function df(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function S0(e,t,n,r,o,i){let s=new tr(e,n,Kt,null);return s.multi=[],s.index=t,s.componentProviders=0,Cw(s,o,r&&!n),s}function M0(e,t=[]){return n=>{n.providersResolver=(r,o)=>I0(r,o?o(e):e,t)}}function A0(e,t,n){let r=Ua()+e,o=A();return o[r]===Be?Lf(o,r,n?t.call(n):t()):TT(o,r)}function R0(e,t,n,r){return x0(A(),Ua(),e,t,n,r)}function N0(e,t,n,r,o){return O0(A(),Ua(),e,t,n,r,o)}function Tw(e,t){let n=e[t];return n===Be?void 0:n}function x0(e,t,n,r,o,i){let s=t+n;return $e(e,s,o)?Lf(e,s+1,i?r.call(i,o):r(o)):Tw(e,s+1)}function O0(e,t,n,r,o,i,s){let a=t+n;return ST(e,a,o,i)?Lf(e,a+2,s?r.call(s,o,i):r(o,i)):Tw(e,a+2)}var yc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},ih=(()=>{class e{compileModuleSync(n){return new fc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Wl(n),i=Pv(o.declarations).reduce((s,a)=>{let c=vt(a);return c&&s.push(new Dn(c)),s},[]);return new yc(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var k0=(()=>{class e{zone=v(ie);changeDetectionScheduler=v(qe);applicationRef=v(ar);applicationErrorHandler=v(Qe);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ie(V(w({},Mw()),{scheduleInRootZone:n})),[{provide:ie,useFactory:e},{provide:pn,multi:!0,useFactory:()=>{let r=v(k0,{optional:!0});return()=>r.initialize()}},{provide:pn,multi:!0,useFactory:()=>{let r=v(P0);return()=>{r.initialize()}}},t===!0?{provide:_d,useValue:!0}:[],{provide:qa,useValue:n??By},{provide:Qe,useFactory:()=>{let r=v(ie),o=v(ae),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(je),i.handleError(s))})}}}]}function Mw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var P0=(()=>{class e{subscription=new Q;initialized=!1;zone=v(ie);pendingTasks=v(_t);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sh=(()=>{class e{applicationErrorHandler=v(Qe);appRef=v(ar);taskService=v(_t);ngZone=v(ie);zonelessEnabled=v(Ii);tracing=v(sr,{optional:!0});disableScheduling=v(_d,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Q;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(qa,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Oi||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?qm:Vy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function L0(){return Xe("NgZoneless"),gn([{provide:qe,useExisting:sh},{provide:ie,useClass:Oi},{provide:Ii,useValue:!0},{provide:qa,useValue:!1},[]])}function F0(){return typeof $localize<"u"&&$localize.locale||Vi}var ah=new b("",{providedIn:"root",factory:()=>v(ah,{optional:!0,skipSelf:!0})||F0()});var Hi=class{destroyed=!1;listeners=null;errorHandler=v(je,{optional:!0});destroyRef=v(Je);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new D(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(hn(953,!1));return}if(this.listeners===null)return;let n=N(null);try{for(let r of this.listeners)try{r(t)}catch(o){this.errorHandler?.handleError(o)}}finally{N(n)}}};function De(e){return Ag(e)}function It(e,t){return ei(e,t?.equal)}var ch=class{[se];constructor(t){this[se]=t}destroy(){this[se].destroy()}};function Nw(e,t){let n=t?.injector??v(Se),r=t?.manualCleanup!==!0?n.get(Je):null,o,i=n.get(io,null,{optional:!0}),s=n.get(qe);return i!==null?(o=$0(i.view,s,e),r instanceof fi&&r._lView===i.view&&(r=null)):o=B0(e,n.get(Ci),s),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new ch(o)}var xw=V(w({},Rg),{cleanupFns:void 0,zone:null,onDestroyFn:Xn,run(){let e=no(!1);try{Ng(this)}finally{no(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=N(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],N(e)}}}),j0=V(w({},xw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Pn(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),U0=V(w({},xw),{consumerMarkedDirty(){this.view[x]|=8192,yn(this.view),this.notifier.notify(13)},destroy(){Pn(this),this.onDestroyFn(),this.cleanup(),this.view[Vt]?.delete(this)}});function $0(e,t,n){let r=Object.create(U0);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=Ow(r,n),e[Vt]??=new Set,e[Vt].add(r),r.consumerMarkedDirty(r),r}function B0(e,t,n){let r=Object.create(j0);return r.fn=Ow(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Ow(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}var V0=e=>e;function uh(e,t){if(typeof e=="function"){let n=_l(e,V0,t?.equal);return Aw(n,t?.debugName)}else{let n=_l(e.source,e.computation,e.equal);return Aw(n,e.debugName)}}function Aw(e,t){let n=e[se],r=e;return r.set=o=>Sg(n,o),r.update=o=>Mg(n,o),r.asReadonly=oo.bind(e),r}var kw=!0;function H0(e){let t=e.request,n=e.params??t??(()=>null);return new Lc(n,q0(e),e.defaultValue,e.equal?z0(e.equal):void 0,e.injector??v(Se),kw)}var lh=class{value;constructor(t){this.value=t,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=oo}isError=It(()=>this.status()==="error");update(t){this.set(t(De(this.value)))}isLoading=It(()=>this.status()==="loading"||this.status()==="reloading");isValueDefined=It(()=>this.isError()?!1:this.value()!==void 0);hasValue(){return this.isValueDefined()}asReadonly(){return this}},Lc=class extends lh{loaderFn;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;unregisterOnDestroy;constructor(t,n,r,o,i,s=kw){super(It(()=>{let a=this.state().stream?.();if(!a||this.state().status==="loading"&&this.error())return r;if(!dh(a)){if(s)throw new fh(this.error());return r}return a.value},{equal:o})),this.loaderFn=n,this.equal=o,this.extRequest=uh({source:t,computation:a=>({request:a,reload:0})}),this.state=uh({source:this.extRequest,computation:(a,c)=>{let u=a.request===void 0?"idle":"loading";return c?{extRequest:a,status:u,previousStatus:Rw(c.value),stream:c.value.extRequest.request===a.request?c.value.stream:void 0}:{extRequest:a,status:u,previousStatus:"idle",stream:void 0}}}),this.effectRef=Nw(this.loadEffect.bind(this),{injector:i,manualCleanup:!0}),this.pendingTasks=i.get(so),this.unregisterOnDestroy=i.get(Je).onDestroy(()=>this.destroy())}status=It(()=>Rw(this.state()));error=It(()=>{let t=this.state().stream?.();return t&&!dh(t)?t.error:void 0});set(t){if(this.destroyed)return;let n=De(this.error),r=De(this.state);if(!n){let o=De(this.value);if(r.status==="local"&&(this.equal?this.equal(o,t):o===t))return}this.state.set({extRequest:r.extRequest,status:"local",previousStatus:"local",stream:Pe({value:t})}),this.abortInProgressLoad()}reload(){let{status:t}=De(this.state);return t==="idle"||t==="loading"?!1:(this.extRequest.update(({request:n,reload:r})=>({request:n,reload:r+1})),!0)}destroy(){this.destroyed=!0,this.unregisterOnDestroy(),this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:"idle",previousStatus:"idle",stream:void 0})}async loadEffect(){let t=this.extRequest(),{status:n,previousStatus:r}=De(this.state);if(t.request===void 0)return;if(n!=="loading")return;this.abortInProgressLoad();let o=this.resolvePendingTask=this.pendingTasks.add(),{signal:i}=this.pendingController=new AbortController;try{let s=await De(()=>this.loaderFn({params:t.request,request:t.request,abortSignal:i,previous:{status:r}}));if(i.aborted||De(this.extRequest)!==t)return;this.state.set({extRequest:t,status:"resolved",previousStatus:"resolved",stream:s})}catch(s){if(i.aborted||De(this.extRequest)!==t)return;this.state.set({extRequest:t,status:"resolved",previousStatus:"error",stream:Pe({error:ph(s)})})}finally{o?.(),o=void 0}}abortInProgressLoad(){De(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}};function z0(e){return(t,n)=>t===void 0||n===void 0?t===n:e(t,n)}function q0(e){return G0(e)?e.stream:async t=>{try{return Pe({value:await e.loader(t)})}catch(n){return Pe({error:ph(n)})}}}function G0(e){return!!e.stream}function Rw(e){switch(e.status){case"loading":return e.extRequest.reload===0?"loading":"reloading";case"resolved":return dh(e.stream())?"resolved":"error";default:return e.status}}function dh(e){return e.error===void 0}function ph(e){return e instanceof Error?e:new hh(e)}var fh=class extends Error{constructor(t){super(t.message,{cause:t})}},hh=class extends Error{constructor(t){super(String(t),{cause:t})}};var Uc=Symbol("InputSignalNode#UNSET"),Vw=V(w({},Zs),{transformFn:void 0,applyValueToInputSignal(e,t){sn(e,t)}});function Hw(e,t){let n=Object.create(Vw);n.value=e,n.transformFn=t?.transform;function r(){if(rn(n),n.value===Uc){let o=null;throw new D(-950,o)}return n.value}return r[se]=n,r}var gh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ec(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},oM=new b("");oM.__NG_ELEMENT_ID__=e=>{let t=le();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new D(204,!1)};function n8(e){return new Hi}function Pw(e,t){return Hw(e,t)}function iM(e){return Hw(Uc,e)}var zw=(Pw.required=iM,Pw);function Lw(e,t){return Ny(t)}function sM(e,t){return xy(t)}var r8=(Lw.required=sM,Lw);function o8(e,t){return Oy(t)}function qw(e,t){let n=Object.create(Vw),r=new Hi;n.value=e;function o(){return rn(n),Fw(n.value),n.value}return o[se]=n,o.asReadonly=oo.bind(o),o.set=i=>{n.equal(n.value,i)||(sn(n,i),r.emit(i))},o.update=i=>{Fw(n.value),o.set(i(n.value))},o.subscribe=r.subscribe.bind(r),o.destroyRef=r.destroyRef,o}function Fw(e){if(e===Uc)throw new D(952,!1)}function jw(e,t){return qw(e,t)}function aM(e){return qw(Uc,e)}var i8=(jw.required=aM,jw);var mh=new b(""),cM=new b("");function zi(e){return!e.moduleRef}function uM(e){let t=zi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ie);return n.run(()=>{zi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Qe),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),zi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(mh);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(mh);s.add(i),e.moduleRef.onDestroy(()=>{Si(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return dM(r,n,()=>{let i=t.get(_t),s=i.add(),a=t.get(Kf);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(ah,Vi);if(tw(c||Vi),!t.get(cM,!0))return zi(e)?t.get(ar):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(zi(e)){let l=t.get(ar);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return lM?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var lM;function dM(e,t,n){try{let r=n();return $i(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Fc=null;function fM(e=[],t){return Se.create({name:t,providers:[{provide:vi,useValue:"platform"},{provide:mh,useValue:new Set([()=>Fc=null])},...e]})}function hM(e=[]){if(Fc)return Fc;let t=fM(e);return Fc=t,Wy(),pM(t),t}function pM(e){let t=e.get(_c,null);Ee(e,()=>{t?.forEach(n=>n())})}var qi=(()=>{class e{static __NG_ELEMENT_ID__=gM}return e})();function gM(e){return mM(le(),A(),(e&16)===16)}function mM(e,t,n){if(Ht(e)&&!n){let r=Ze(e.index,t);return new En(r,r)}else if(e.type&175){let r=t[Re];return new En(r,t)}return null}var vh=class{constructor(){}supports(t){return Pf(t)}create(t){return new yh(t)}},vM=(e,t)=>t,yh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||vM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Uw(r,o,i)?n:r,a=Uw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Pf(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,wy(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new wh(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new jc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},wh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Eh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},jc=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Eh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Uw(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function $w(){return new Gw([new vh])}var Gw=(()=>{class e{factories;static \u0275prov=_({token:e,providedIn:"root",factory:$w});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=v(e,{optional:!0,skipSelf:!0});return e.create(n,r||$w())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new D(901,!1)}}return e})();function Ww(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;G(8);try{let i=o?.injector??hM(r),s=[Sw({}),{provide:qe,useExisting:sh},_m,...n||[]],a=new Ni({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return uM({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{G(9)}}function Kw(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function yM(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function s8(e,t){let n=vt(e),r=t.elementInjector||Yr();return new Dn(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}function Zw(e){let t=vt(e);if(!t)return null;let n=new Dn(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Qw=null;function Zt(){return Qw}function Dh(e){Qw??=e}var Gi=class{},Wi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(Xw),providedIn:"platform"})}return e})(),_h=new b(""),Xw=(()=>{class e extends Wi{_location;_history;_doc=v(oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zt().getBaseHref(this._doc)}onPopState(n){let r=Zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $c(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Yw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function ut(e){return e&&e[0]!=="?"?`?${e}`:e}var Tt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(Vc),providedIn:"root"})}return e})(),Bc=new b(""),Vc=(()=>{class e extends Tt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $c(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ut(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(T(Wi),T(Bc,8))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),In=(()=>{class e{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=DM(Yw(Jw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ut(r))}normalize(n){return e.stripTrailingSlash(EM(this._basePath,Jw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ut(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ut(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=ut;static joinWithSlash=$c;static stripTrailingSlash=Yw;static \u0275fac=function(r){return new(r||e)(T(Tt))};static \u0275prov=_({token:e,factory:()=>wM(),providedIn:"root"})}return e})();function wM(){return new In(T(Tt))}function EM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Jw(e){return e.replace(/\/index.html$/,"")}function DM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Hc=(()=>{class e extends Tt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=$c(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+ut(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(T(Wi),T(Bc,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();var bh=/\s+/,eE=[],_M=(()=>{class e{_ngEl;_renderer;initialClasses=eE;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(bh):eE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(bh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(bh).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(Kt(Wt),Kt(Ui))};static \u0275dir=ir({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var bM=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||e)(Kt(_n))};static \u0275dir=ir({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[yo]})}return e})();var tE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=Bt({})}return e})();function Ki(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var cr=class{};var Ch="browser",CM="server";function Oq(e){return e===Ch}function kq(e){return e===CM}var nE=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new Ih(v(oe),window)})}return e})(),Ih=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(V(w({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=TM(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(hn(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(V(w({},n),{left:o-s[0],top:i-s[1]}))}};function TM(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var qc=new b(""),Rh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(T(qc),T(ie))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Zi=class{_doc;constructor(t){this._doc=t}manager},Th="ng-app-id";function rE(e){for(let t of e)t.remove()}function oE(e,t){let n=t.createElement("style");return n.textContent=e,n}function SM(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Th}="${t}"],link[${Th}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Th),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Mh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Nh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,SM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,oE);r?.forEach(o=>this.addUsage(o,this.external,Mh))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(rE(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])rE(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,oE(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Mh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(T(oe),T(Dc),T(bc,8),T(Eo))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Sh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xh=/%COMP%/g;var sE="%COMP%",MM=`_nghost-${sE}`,AM=`_ngcontent-${sE}`,RM=!0,NM=new b("",{providedIn:"root",factory:()=>RM});function xM(e){return AM.replace(xh,e)}function OM(e){return MM.replace(xh,e)}function aE(e,t){return t.map(n=>n.replace(xh,e))}var Oh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Yi(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof zc?o.applyToHost(n):o instanceof Ji&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case qt.Emulated:i=new zc(c,u,r,this.appId,l,s,a,d,h);break;case qt.ShadowDom:return new Ah(c,u,n,r,s,a,this.nonce,d,h);default:i=new Ji(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(T(Rh),T(Nh),T(Dc),T(NM),T(oe),T(Eo),T(ie),T(bc),T(sr,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Yi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Sh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(iE(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(iE(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Sh[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Sh[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Gt.DashCase|Gt.Important)?t.style.setProperty(n,r,o&Gt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Gt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Zt().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function iE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ah=class extends Yi{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=aE(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Mh(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ji=class extends Yi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?aE(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Tc.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zc=class extends Ji{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(t,n,r,i,s,a,c,u,l),this.contentAttr=xM(l),this.hostAttr=OM(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Gc=class e extends Gi{supportsDOMEvents=!0;static makeCurrent(){Dh(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=kM();return n==null?null:PM(n)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ki(document.cookie,t)}},Qi=null;function kM(){return Qi=Qi||document.head.querySelector("base"),Qi?Qi.getAttribute("href"):null}function PM(e){return new URL(e,document.baseURI).pathname}var LM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),uE=(()=>{class e extends Zi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(T(oe))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),cE=["alt","control","meta","shift"],FM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},lE=(()=>{class e extends Zi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cE.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=FM[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),cE.forEach(s=>{if(s!==o){let a=jM[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(T(oe))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function UM(e,t,n){let r=w({rootComponent:e,platformRef:n?.platformRef},$M(t));return Ww(r)}function $M(e){return{appProviders:[...qM,...e?.providers??[]],platformProviders:zM}}function BM(){Gc.makeCurrent()}function VM(){return new je}function HM(){return pf(document),document}var zM=[{provide:Eo,useValue:Ch},{provide:_c,useValue:BM,multi:!0},{provide:oe,useFactory:HM}];var qM=[{provide:vi,useValue:"root"},{provide:je,useFactory:VM},{provide:qc,useClass:uE,multi:!0,deps:[oe]},{provide:qc,useClass:lE,multi:!0,deps:[oe]},Oh,Nh,Rh,{provide:nr,useExisting:Oh},{provide:cr,useClass:LM},[]];var Co=class{},Xi=class{},Cn=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Kc=class{encodeKey(t){return dE(t)}encodeValue(t){return dE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function GM(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var WM=/%(\d[a-f0-9])/gi,KM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dE(e){return encodeURIComponent(e).replace(WM,(t,n)=>KM[n]??t)}function Wc(e){return`${e}`}var Yt=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Kc,t.fromString){if(t.fromObject)throw new D(2805,!1);this.map=GM(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(Wc):[Wc(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Wc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(Wc(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Zc=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function ZM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function hE(e){return typeof Blob<"u"&&e instanceof Blob}function pE(e){return typeof FormData<"u"&&e instanceof FormData}function YM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var gE="Content-Type",mE="Accept",vE="X-Request-URL",yE="text/plain",wE="application/json",JM=`${wE}, ${yE}, */*`,bo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(ZM(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new D(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Cn,this.context??=new Zc,!this.params)this.params=new Yt,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fE(this.body)||hE(this.body)||pE(this.body)||YM(this.body)?this.body:this.body instanceof Yt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pE(this.body)?null:hE(this.body)?this.body.type||null:fE(this.body)?null:typeof this.body=="string"?yE:this.body instanceof Yt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?wE:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.transferCache??this.transferCache,p=t.timeout??this.timeout,y=t.body!==void 0?t.body:this.body,g=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,C=t.headers||this.headers,I=t.params||this.params,E=t.context??this.context;return t.setHeaders!==void 0&&(C=Object.keys(t.setHeaders).reduce((B,ve)=>B.set(ve,t.setHeaders[ve]),C)),t.setParams&&(I=Object.keys(t.setParams).reduce((B,ve)=>B.set(ve,t.setParams[ve]),I)),new e(n,r,y,{params:I,headers:C,context:E,reportProgress:m,responseType:o,withCredentials:g,transferCache:f,keepalive:i,cache:a,priority:s,timeout:p,mode:c,redirect:u,credentials:l,referrer:d,integrity:h})}},ur=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(ur||{}),To=class{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new Cn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},Yc=class e extends To{constructor(t={}){super(t)}type=ur.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},es=class e extends To{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ur.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Io=class extends To{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},QM=200,XM=204;function kh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var EE=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof bo)i=n;else{let c;o.headers instanceof Cn?c=o.headers:c=new Cn(o.headers);let u;o.params&&(o.params instanceof Yt?u=o.params:u=new Yt({fromObject:o.params})),i=new bo(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=S(i).pipe(mt(c=>this.handler.handle(c)));if(n instanceof bo||o.observe==="events")return s;let a=s.pipe(de(c=>c instanceof es));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe($(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new D(2806,!1);return c.body}));case"blob":return a.pipe($(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new D(2807,!1);return c.body}));case"text":return a.pipe($(c=>{if(c.body!==null&&typeof c.body!="string")throw new D(2808,!1);return c.body}));case"json":default:return a.pipe($(c=>c.body))}case"response":return a;default:throw new D(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Yt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,kh(o,r))}post(n,r,o={}){return this.request("POST",n,kh(o,r))}put(n,r,o={}){return this.request("PUT",n,kh(o,r))}static \u0275fac=function(r){return new(r||e)(T(Co))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();var eA=new b("");function tA(e,t){return t(e)}function nA(e,t,n){return(r,o)=>Ee(n,()=>t(r,i=>e(i,o)))}var DE=new b(""),_E=new b(""),bE=new b("",{providedIn:"root",factory:()=>!0});var Jc=(()=>{class e extends Co{backend;injector;chain=null;pendingTasks=v(so);contributeToStability=v(bE);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(DE),...this.injector.get(_E,[])]));this.chain=r.reduceRight((o,i)=>nA(o,i,this.injector),tA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(dn(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(T(Xi),T(ae))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();var rA=/^\)\]\}',?\n/,oA=RegExp(`^${vE}:`,"m");function iA(e){return"responseURL"in e&&e.responseURL?e.responseURL:oA.test(e.getAllResponseHeaders())?e.getResponseHeader(vE):null}var Ph=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return S(null).pipe(ye(()=>new F(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(mE)||s.setRequestHeader(mE,JM),!n.headers.has(gE)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(gE,g)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",m=new Cn(s.getAllResponseHeaders()),C=iA(s)||n.url;return c=new Yc({headers:m,status:s.status,statusText:g,url:C}),c},l=()=>{let{headers:g,status:m,statusText:C,url:I}=u(),E=null;m!==XM&&(E=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=E?QM:0);let B=m>=200&&m<300;if(n.responseType==="json"&&typeof E=="string"){let ve=E;E=E.replace(rA,"");try{E=E!==""?JSON.parse(E):null}catch(W){E=ve,B&&(B=!1,E={error:W,text:E})}}B?(i.next(new es({body:E,headers:g,status:m,statusText:C,url:I||void 0})),i.complete()):i.error(new Io({error:E,headers:g,status:m,statusText:C,url:I||void 0}))},d=g=>{let{url:m}=u(),C=new Io({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});i.error(C)},h=d;n.timeout&&(h=g=>{let{url:m}=u(),C=new Io({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});i.error(C)});let f=!1,p=g=>{f||(i.next(u()),f=!0);let m={type:ur.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),i.next(m)},y=g=>{let m={type:ur.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),i.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),i.next({type:ur.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(T(cr))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),IE=new b(""),sA="XSRF-TOKEN",aA=new b("",{providedIn:"root",factory:()=>sA}),cA="X-XSRF-TOKEN",uA=new b("",{providedIn:"root",factory:()=>cA}),ts=class{},lA=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ki(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(T(oe),T(aA))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function dA(e,t){let n=e.url.toLowerCase();if(!v(IE)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=v(ts).getToken(),o=v(uA);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}function fA(...e){let t=[EE,Ph,Jc,{provide:Co,useExisting:Jc},{provide:Xi,useFactory:()=>v(eA,{optional:!0})??v(Ph)},{provide:DE,useValue:dA,multi:!0},{provide:IE,useValue:!0},{provide:ts,useClass:lA}];for(let n of e)t.push(...n.\u0275providers);return gn(t)}var CE=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(T(oe))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L="primary",ps=Symbol("RouteTitle"),$h=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fr(e){return new $h(e)}function OE(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function pA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!St(e[n],t[n]))return!1;return!0}function St(e,t){let n=e?Bh(e):void 0,r=t?Bh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!kE(e[o],t[o]))return!1;return!0}function Bh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function PE(e){return e.length>0?e[e.length-1]:null}function Qt(e){return ml(e)?e:$i(e)?re(Promise.resolve(e)):S(e)}var gA={exact:FE,subset:jE},LE={exact:mA,subset:vA,ignored:()=>!0};function TE(e,t,n){return gA[n.paths](e.root,t.root,n.matrixParams)&&LE[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function mA(e,t){return St(e,t)}function FE(e,t,n){if(!lr(e.segments,t.segments)||!eu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!FE(e.children[r],t.children[r],n))return!1;return!0}function vA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>kE(e[n],t[n]))}function jE(e,t,n){return UE(e,t,t.segments,n)}function UE(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!lr(o,n)||t.hasChildren()||!eu(o,n,r))}else if(e.segments.length===n.length){if(!lr(e.segments,n)||!eu(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!jE(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!lr(e.segments,o)||!eu(e.segments,o,r)||!e.children[L]?!1:UE(e.children[L],t,i,r)}}function eu(e,t,n){return t.every((r,o)=>LE[n](e[o].parameters,r.parameters))}var At=class{root;queryParams;fragment;_queryParamMap;constructor(t=new H([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fr(this.queryParams),this._queryParamMap}toString(){return EA.serialize(this)}},H=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tu(this)}},Tn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=fr(this.parameters),this._parameterMap}toString(){return BE(this)}};function yA(e,t){return lr(e,t)&&e.every((n,r)=>St(n.parameters,t[r].parameters))}function lr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function wA(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===L&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==L&&(n=n.concat(t(o,r)))}),n}var hr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new Sn,providedIn:"root"})}return e})(),Sn=class{parse(t){let n=new Hh(t);return new At(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ns(t.root,!0)}`,r=bA(t.queryParams),o=typeof t.fragment=="string"?`#${DA(t.fragment)}`:"";return`${n}${r}${o}`}},EA=new Sn;function tu(e){return e.segments.map(t=>BE(t)).join("/")}function ns(e,t){if(!e.hasChildren())return tu(e);if(t){let n=e.children[L]?ns(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==L&&r.push(`${o}:${ns(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=wA(e,(r,o)=>o===L?[ns(e.children[L],!1)]:[`${o}:${ns(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${tu(e)}/${n[0]}`:`${tu(e)}/(${n.join("//")})`}}function $E(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qc(e){return $E(e).replace(/%3B/gi,";")}function DA(e){return encodeURI(e)}function Vh(e){return $E(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nu(e){return decodeURIComponent(e)}function SE(e){return nu(e.replace(/\+/g,"%20"))}function BE(e){return`${Vh(e.path)}${_A(e.parameters)}`}function _A(e){return Object.entries(e).map(([t,n])=>`;${Vh(t)}=${Vh(n)}`).join("")}function bA(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Qc(n)}=${Qc(o)}`).join("&"):`${Qc(n)}=${Qc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var IA=/^[^\/()?;#]+/;function Lh(e){let t=e.match(IA);return t?t[0]:""}var CA=/^[^\/()?;=#]+/;function TA(e){let t=e.match(CA);return t?t[0]:""}var SA=/^[^=?&#]+/;function MA(e){let t=e.match(SA);return t?t[0]:""}var AA=/^[^&#]+/;function RA(e){let t=e.match(AA);return t?t[0]:""}var Hh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new H(t,n)),r}parseSegment(){let t=Lh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(t),new Tn(nu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=TA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Lh(this.remaining);o&&(r=o,this.capture(r))}t[nu(n)]=nu(r)}parseQueryParam(t){let n=MA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=RA(this.remaining);s&&(r=s,this.capture(r))}let o=SE(n),i=SE(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lh(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=L);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[L]:new H([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new D(4011,!1)}};function VE(e){return e.segments.length>0?new H([],{[L]:e}):e}function HE(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=HE(o);if(r===L&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new H(e.segments,t);return NA(n)}function NA(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new H(e.segments.concat(t.segments),t.children)}return e}function xo(e){return e instanceof At}function zE(e,t,n=null,r=null){let o=qE(e);return GE(o,t,n,r)}function qE(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new H(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=VE(r);return t??o}function GE(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Fh(o,o,o,n,r);let i=xA(t);if(i.toRoot())return Fh(o,o,new H([],{}),n,r);let s=OA(i,o,e),a=s.processChildren?os(s.segmentGroup,s.index,i.commands):KE(s.segmentGroup,s.index,i.commands);return Fh(o,s.segmentGroup,a,n,r)}function ru(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ss(e){return typeof e=="object"&&e!=null&&e.outlets}function Fh(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=WE(e,t,n);let a=VE(HE(s));return new At(a,i,o)}function WE(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=WE(i,t,n)}),new H(e.segments,r)}var ou=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ru(r[0]))throw new D(4003,!1);let o=r.find(ss);if(o&&o!==PE(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ou(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new ou(n,t,r)}var Ao=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function OA(e,t,n){if(e.isAbsolute)return new Ao(t,!0,0);if(!n)return new Ao(t,!1,NaN);if(n.parent===null)return new Ao(n,!0,0);let r=ru(e.commands[0])?0:1,o=n.segments.length-1+r;return kA(n,o,e.numberOfDoubleDots)}function kA(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new Ao(r,!1,o-i)}function PA(e){return ss(e[0])?e[0].outlets:{[L]:e}}function KE(e,t,n){if(e??=new H([],{}),e.segments.length===0&&e.hasChildren())return os(e,t,n);let r=LA(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new H(e.segments.slice(0,r.pathIndex),{});return i.children[L]=new H(e.segments.slice(r.pathIndex),e.children),os(i,0,o)}else return r.match&&o.length===0?new H(e.segments,{}):r.match&&!e.hasChildren()?zh(e,t,n):r.match?os(e,0,o):zh(e,t,n)}function os(e,t,n){if(n.length===0)return new H(e.segments,{});{let r=PA(n),o={};if(Object.keys(r).some(i=>i!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let i=os(e.children[L],t,n);return new H(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=KE(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new H(e.segments,o)}}function LA(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(ss(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!AE(c,u,s))return i;r+=2}else{if(!AE(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function zh(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(ss(i)){let c=FA(i.outlets);return new H(r,c)}if(o===0&&ru(n[0])){let c=e.segments[t];r.push(new Tn(c.path,ME(n[0]))),o++;continue}let s=ss(i)?i.outlets[L]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&ru(a)?(r.push(new Tn(s,ME(a))),o+=2):(r.push(new Tn(s,{})),o++)}return new H(r,{})}function FA(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=zh(new H([],{}),0,r))}),t}function ME(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function AE(e,t,n){return e==n.path&&St(t,n.parameters)}var Ro="imperative",ge=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ge||{}),He=class{id;url;constructor(t,n){this.id=t,this.url=n}},Mn=class extends He{type=ge.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dt=class extends He{urlAfterRedirects;type=ge.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xe=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(xe||{}),Oo=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Oo||{}),Mt=class extends He{reason;code;type=ge.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rt=class extends He{reason;code;type=ge.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},ko=class extends He{error;target;type=ge.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},as=class extends He{urlAfterRedirects;state;type=ge.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iu=class extends He{urlAfterRedirects;state;type=ge.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},su=class extends He{urlAfterRedirects;state;shouldActivate;type=ge.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},au=class extends He{urlAfterRedirects;state;type=ge.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends He{urlAfterRedirects;state;type=ge.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class{route;type=ge.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lu=class{route;type=ge.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},du=class{snapshot;type=ge.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fu=class{snapshot;type=ge.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hu=class{snapshot;type=ge.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pu=class{snapshot;type=ge.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Po=class{routerEvent;position;anchor;type=ge.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},cs=class{},Lo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function jA(e){return!(e instanceof cs)&&!(e instanceof Lo)}function UA(e,t){return e.providers&&!e._injector&&(e._injector=_o(e.providers,t,`Route: ${e.path}`)),e._injector??t}function lt(e){return e.outlet||L}function $A(e,t){let n=e.filter(r=>lt(r)===t);return n.push(...e.filter(r=>lt(r)!==t)),n}function Uo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Uo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new pr(this.rootInjector)}},pr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(T(ae))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=qh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=qh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Gh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Gh(t,this._root).map(n=>n.value)}};function qh(e,t){if(e===t.value)return t;for(let n of t.children){let r=qh(e,n);if(r)return r}return null}function Gh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Gh(e,n);if(r.length)return r.unshift(t),r}return[]}var Ve=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var us=class extends mu{snapshot;constructor(t,n){super(t),this.snapshot=n,ep(this,t)}toString(){return this.snapshot.toString()}};function ZE(e){let t=BA(e),n=new _e([new Tn("",{})]),r=new _e({}),o=new _e({}),i=new _e({}),s=new _e(""),a=new Jt(n,r,i,s,o,L,e,t.root);return a.snapshot=t.root,new us(new Ve(a,[]),t)}function BA(e){let t={},n={},r={},i=new dr([],t,r,"",n,L,e,null,{});return new ls("",new Ve(i,[]))}var Jt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[ps]))??S(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(t=>fr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(t=>fr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vu(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&JE(o)&&(r.resolve[ps]=o.title),r}var dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ps]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ls=class extends mu{url;constructor(t,n){super(n),this.url=t,ep(this,n)}toString(){return YE(this._root)}};function ep(e,t){t.value._routerState=e,t.children.forEach(n=>ep(e,n))}function YE(e){let t=e.children.length>0?` { ${e.children.map(YE).join(", ")} } `:"";return`${e.value}${t}`}function jh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,St(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),St(t.params,n.params)||e.paramsSubject.next(n.params),pA(t.url,n.url)||e.urlSubject.next(n.url),St(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Wh(e,t){let n=St(e.params,t.params)&&yA(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Wh(e.parent,t.parent))}function JE(e){return typeof e.title=="string"||e.title===null}var QE=new b(""),tp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new Ne;deactivateEvents=new Ne;attachEvents=new Ne;detachEvents=new Ne;routerOutletData=zw(void 0);parentContexts=v(pr);location=v(_n);changeDetector=v(qi);inputBinder=v(gs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kh(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ir({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[yo]})}return e})(),Kh=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Jt?this.route:t===pr?this.childContexts:t===QE?this.outletData:this.parent.get(t,n)}},gs=new b(""),np=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=ai([r.queryParams,r.params,r.data]).pipe(ye(([i,s,a],c)=>(a=w(w(w({},i),s),a),c===0?S(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Zw(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),rp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$f({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Pc(0,"router-outlet")},dependencies:[tp],encapsulation:2})}return e})();function op(e){let t=e.children&&e.children.map(op),n=t?V(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=rp),n}function VA(e,t,n){let r=ds(e,t._root,n?n._root:void 0);return new us(r,t)}function ds(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=HA(e,t,n);return new Ve(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ds(e,a)),s}}let r=zA(t.value),o=t.children.map(i=>ds(e,i));return new Ve(r,o)}}function HA(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ds(e,r,o);return ds(e,r)})}function zA(e){return new Jt(new _e(e.url),new _e(e.params),new _e(e.queryParams),new _e(e.fragment),new _e(e.data),e.outlet,e.component,e)}var Fo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},XE="ngNavigationCancelingError";function yu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=xo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=eD(!1,xe.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function eD(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[XE]=!0,n.cancellationCode=t,n}function qA(e){return tD(e)&&xo(e.url)}function tD(e){return!!e&&e[XE]}var GA=(e,t,n,r)=>$(o=>(new Zh(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Zh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),jh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Mo(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Mo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Mo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Mo(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new pu(i.value.snapshot))}),t.children.length&&this.forwardEvent(new fu(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(jh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},wu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},No=class{component;route;constructor(t,n){this.component=t,this.route=n}};function WA(e,t,n){let r=e._root,o=t?t._root:null;return rs(r,o,n,[r.value])}function KA(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function $o(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Pl(e)?e:t.get(e):r}function rs(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Mo(t);return e.children.forEach(s=>{ZA(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>is(a,n.getContext(s),o)),o}function ZA(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=YA(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new wu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?rs(e,t,a?a.children:null,r,o):rs(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new No(a.outlet.component,s))}else s&&is(t,a,o),o.canActivateChecks.push(new wu(r)),i.component?rs(e,null,a?a.children:null,r,o):rs(e,null,n,r,o);return o}function YA(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!lr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!lr(e.url,t.url)||!St(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wh(e,t)||!St(e.queryParams,t.queryParams);case"paramsChange":default:return!Wh(e,t)}}function is(e,t,n){let r=Mo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?is(s,t.children.getContext(i),n):is(s,null,n):is(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new No(t.outlet.component,o)):n.canDeactivateChecks.push(new No(null,o)):n.canDeactivateChecks.push(new No(null,o))}function ms(e){return typeof e=="function"}function JA(e){return typeof e=="boolean"}function QA(e){return e&&ms(e.canLoad)}function XA(e){return e&&ms(e.canActivate)}function eR(e){return e&&ms(e.canActivateChild)}function tR(e){return e&&ms(e.canDeactivate)}function nR(e){return e&&ms(e.canMatch)}function nD(e){return e instanceof Lt||e?.name==="EmptyError"}var Xc=Symbol("INITIAL_VALUE");function jo(){return ye(e=>ai(e.map(t=>t.pipe(Ft(1),Dl(Xc)))).pipe($(t=>{for(let n of t)if(n!==!0){if(n===Xc)return Xc;if(n===!1||rR(n))return n}return!0}),de(t=>t!==Xc),Ft(1)))}function rR(e){return xo(e)||e instanceof Fo}function oR(e,t){return ee(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?S(V(w({},n),{guardsResult:!0})):iR(s,r,o,e).pipe(ee(a=>a&&JA(a)?sR(r,i,e,t):S(a)),$(a=>V(w({},n),{guardsResult:a})))})}function iR(e,t,n,r){return re(e).pipe(ee(o=>dR(o.component,o.route,n,t,r)),jt(o=>o!==!0,!0))}function sR(e,t,n,r){return re(t).pipe(mt(o=>Gr(cR(o.route.parent,r),aR(o.route,r),lR(e,o.path,n),uR(e,o.route,n))),jt(o=>o!==!0,!0))}function aR(e,t){return e!==null&&t&&t(new hu(e)),S(!0)}function cR(e,t){return e!==null&&t&&t(new du(e)),S(!0)}function uR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let o=r.map(i=>ci(()=>{let s=Uo(t)??n,a=$o(i,s),c=XA(a)?a.canActivate(t,e):Ee(s,()=>a(t,e));return Qt(c).pipe(jt())}));return S(o).pipe(jo())}function lR(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>KA(s)).filter(s=>s!==null).map(s=>ci(()=>{let a=s.guards.map(c=>{let u=Uo(s.node)??n,l=$o(c,u),d=eR(l)?l.canActivateChild(r,e):Ee(u,()=>l(r,e));return Qt(d).pipe(jt())});return S(a).pipe(jo())}));return S(i).pipe(jo())}function dR(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return S(!0);let s=i.map(a=>{let c=Uo(t)??o,u=$o(a,c),l=tR(u)?u.canDeactivate(e,t,n,r):Ee(c,()=>u(e,t,n,r));return Qt(l).pipe(jt())});return S(s).pipe(jo())}function fR(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return S(!0);let i=o.map(s=>{let a=$o(s,e),c=QA(a)?a.canLoad(t,n):Ee(e,()=>a(t,n));return Qt(c)});return S(i).pipe(jo(),rD(r))}function rD(e){return ll(we(t=>{if(typeof t!="boolean")throw yu(e,t)}),$(t=>t===!0))}function hR(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return S(!0);let i=o.map(s=>{let a=$o(s,e),c=nR(a)?a.canMatch(t,n):Ee(e,()=>a(t,n));return Qt(c)});return S(i).pipe(jo(),rD(r))}var fs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},hs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function So(e){return Hr(new fs(e))}function pR(e){return Hr(new D(4e3,!1))}function gR(e){return Hr(eD(!1,xe.GuardRejected))}var Yh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return S(r);if(o.numberOfChildren>1||!o.children[L])return pR(`${t.redirectTo}`);o=o.children[L]}}applyRedirectCommands(t,n,r,o,i){return mR(n,o,i).pipe($(s=>{if(s instanceof At)throw new hs(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new hs(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new At(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new H(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function mR(e,t,n){if(typeof e=="string")return S(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return Qt(Ee(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var Jh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vR(e,t,n,r,o){let i=oD(e,t,n);return i.matched?(r=UA(t,r),hR(r,t,n,o).pipe($(s=>s===!0?i:w({},Jh)))):S(i)}function oD(e,t,n){if(t.path==="**")return yR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Jh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||OE)(n,e,t);if(!o)return w({},Jh);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function yR(e){return{matched:!0,parameters:e.length>0?PE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function RE(e,t,n,r){return n.length>0&&DR(e,n,r)?{segmentGroup:new H(t,ER(r,new H(n,e.children))),slicedSegments:[]}:n.length===0&&_R(e,n,r)?{segmentGroup:new H(e.segments,wR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new H(e.segments,e.children),slicedSegments:n}}function wR(e,t,n,r){let o={};for(let i of n)if(Du(e,t,i)&&!r[lt(i)]){let s=new H([],{});o[lt(i)]=s}return w(w({},r),o)}function ER(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&lt(r)!==L){let o=new H([],{});n[lt(r)]=o}return n}function DR(e,t,n){return n.some(r=>Du(e,t,r)&&lt(r)!==L)}function _R(e,t,n){return n.some(r=>Du(e,t,r))}function Du(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function bR(e,t,n){return t.length===0&&!e.children[n]}var Qh=class{};function IR(e,t,n,r,o,i,s="emptyOnly"){return new Xh(e,t,n,r,o,s,i).recognize()}var CR=31,Xh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yh(this.urlSerializer,this.urlTree)}noMatchError(t){return new D(4002,`'${t.segmentGroup}'`)}recognize(){let t=RE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe($(({children:n,rootSnapshot:r})=>{let o=new Ve(r,n),i=new ls("",o),s=zE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new dr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,L,n).pipe($(r=>({children:r,rootSnapshot:n})),gt(r=>{if(r instanceof hs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe($(s=>s instanceof Ve?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return re(i).pipe(mt(s=>{let a=r.children[s],c=$A(n,s);return this.processSegmentGroup(t,c,a,s,o)}),wl((s,a)=>(s.push(...a),s)),ln(null),yl(),ee(s=>{if(s===null)return So(r);let a=iD(s);return TR(a),S(a)}))}processSegment(t,n,r,o,i,s,a){return re(n).pipe(mt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(gt(u=>{if(u instanceof fs)return S(null);throw u}))),jt(c=>!!c),gt(c=>{if(nD(c))return bR(r,o,i)?S(new Qh):So(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return lt(r)!==s&&(s===L||!Du(o,i,r))?So(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):So(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=oD(n,o,i);if(!c)return So(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>CR&&(this.allowRedirects=!1));let f=new dr(i,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,NE(o),lt(o),o.component??o._loadedComponent??null,o,xE(o)),p=vu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t).pipe(ye(g=>this.applyRedirects.lineralizeSegments(o,g)),ee(g=>this.processSegment(t,r,n,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=vR(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ye(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(ye(({routes:u})=>{let l=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new dr(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,NE(r),lt(r),r.component??r._loadedComponent??null,r,xE(r)),y=vu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:g,slicedSegments:m}=RE(n,h,f,u);if(m.length===0&&g.hasChildren())return this.processChildren(l,u,g,p).pipe($(I=>new Ve(p,I)));if(u.length===0&&m.length===0)return S(new Ve(p,[]));let C=lt(r)===i;return this.processSegment(l,u,g,m,C?L:i,!0,p).pipe($(I=>new Ve(p,I instanceof Ve?[I]:[])))}))):So(n)))}getChildConfig(t,n,r){return n.children?S({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):fR(t,n,r,this.urlSerializer).pipe(ee(o=>o?this.configLoader.loadChildren(t,n).pipe(we(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):gR(n))):S({routes:[],injector:t})}};function TR(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function SR(e){let t=e.value.routeConfig;return t&&t.path===""}function iD(e){let t=[],n=new Set;for(let r of e){if(!SR(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=iD(r.children);t.push(new Ve(r.value,o))}return t.filter(r=>!n.has(r))}function NE(e){return e.data||{}}function xE(e){return e.resolve||{}}function MR(e,t,n,r,o,i){return ee(s=>IR(e,t,n,r,s.extractedUrl,o,i).pipe($(({state:a,tree:c})=>V(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function AR(e,t){return ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return S(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of sD(c))s.add(u);let a=0;return re(s).pipe(mt(c=>i.has(c)?RR(c,r,e,t):(c.data=vu(c,c.parent,e).resolve,S(void 0))),we(()=>a++),Wr(1),ee(c=>a===s.size?S(n):Oe))})}function sD(e){let t=e.children.map(n=>sD(n)).flat();return[e,...t]}function RR(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!JE(o)&&(i[ps]=o.title),ci(()=>(e.data=vu(e,e.parent,n).resolve,NR(i,e,t,r).pipe($(s=>(e._resolvedData=s,e.data=w(w({},e.data),s),null)))))}function NR(e,t,n,r){let o=Bh(e);if(o.length===0)return S({});let i={};return re(o).pipe(ee(s=>xR(e[s],t,n,r).pipe(jt(),we(a=>{if(a instanceof Fo)throw yu(new Sn,a);i[s]=a}))),Wr(1),$(()=>i),gt(s=>nD(s)?Oe:Hr(s)))}function xR(e,t,n,r){let o=Uo(t)??r,i=$o(e,o),s=i.resolve?i.resolve(t,n):Ee(o,()=>i(t,n));return Qt(s)}function Uh(e){return ye(t=>{let n=e(t);return n?re(n).pipe($(()=>t)):S(t)})}var ip=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[ps]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(aD),providedIn:"root"})}return e})(),aD=(()=>{class e extends ip{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(T(CE))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gr=new b("",{providedIn:"root",factory:()=>({})}),mr=new b(""),_u=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(ih);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Qt(Ee(n,()=>r.loadComponent())).pipe($(uD),ye(lD),we(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),dn(()=>{this.componentLoaders.delete(r)})),i=new Ur(o,()=>new ne).pipe(jr());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return S({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=cD(r,this.compiler,n,this.onLoadEndListener).pipe(dn(()=>{this.childrenLoaders.delete(r)})),s=new Ur(i,()=>new ne).pipe(jr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cD(e,t,n,r){return Qt(Ee(n,()=>e.loadChildren())).pipe($(uD),ye(lD),ee(o=>o instanceof xc||Array.isArray(o)?S(o):re(t.compileModuleAsync(o))),$(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(mr,[],{optional:!0,self:!0}).flat()),{routes:s.map(op),injector:i}}))}function OR(e){return e&&typeof e=="object"&&"default"in e}function uD(e){return OR(e)?e.default:e}function lD(e){return S(e)}var bu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(kR),providedIn:"root"})}return e})(),kR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sp=new b(""),ap=new b("");function dD(e,t,n){let r=e.get(ap),o=e.get(oe);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),PR(e)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&Ee(e,()=>c({transition:a,from:t,to:n})),s}function PR(e){return new Promise(t=>{zf({read:()=>setTimeout(t)},{injector:e})})}var cp=new b(""),Iu=(()=>{class e{currentNavigation=Pe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortWithErrorSubject=new ne;configLoader=v(_u);environmentInjector=v(ae);destroyRef=v(Je);urlSerializer=v(hr);rootContexts=v(pr);location=v(In);inputBindingEnabled=v(gs,{optional:!0})!==null;titleStrategy=v(ip);options=v(gr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(bu);createViewTransition=v(sp,{optional:!0});navigationErrorHandler=v(cp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new uu(o)),r=o=>this.events.next(new lu(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;De(()=>{this.transitions?.next(V(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new _e(null),this.transitions.pipe(de(r=>r!==null),ye(r=>{let o=!1;return S(r).pipe(ye(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xe.SupersededByNewNavigation),Oe;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?V(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Rt(i.id,this.urlSerializer.serialize(i.rawUrl),"",Oo.IgnoredSameUrlNavigation)),i.resolve(!1),Oe;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return S(i).pipe(ye(c=>(this.events.next(new Mn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Oe:Promise.resolve(c))),MR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),we(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let u=new as(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:h}=i,f=new Mn(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let p=ZE(this.rootComponentType).snapshot;return this.currentTransition=r=V(w({},i),{targetSnapshot:p,urlAfterRedirects:u,extras:V(w({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=u,y)),S(r)}else return this.events.next(new Rt(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Oo.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Oe}),we(i=>{let s=new iu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),$(i=>(this.currentTransition=r=V(w({},i),{guards:WA(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),oR(this.environmentInjector,i=>this.events.next(i)),we(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw yu(this.urlSerializer,i.guardsResult);let s=new su(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),de(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",xe.GuardRejected),!1)),Uh(i=>{if(i.guards.canActivateChecks.length!==0)return S(i).pipe(we(s=>{let a=new au(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ye(s=>{let a=!1;return S(s).pipe(AR(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",xe.NoDataFromResolver)}}))}),we(s=>{let a=new cu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Uh(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=Uo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(we(l=>{a.component=l}),$(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return ai(s(i.targetSnapshot.root)).pipe(ln(null),Ft(1))}),Uh(()=>this.afterPreactivation()),ye(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?re(a).pipe($(()=>r)):S(r)}),$(i=>{let s=VA(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=V(w({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),we(()=>{this.events.next(new cs)}),GA(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Ft(1),_a(new F(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(de(()=>!o&&!r.targetRouterState),we(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",xe.Aborted)}))),we({next:i=>{o=!0,this.lastSuccessfulNavigation=De(this.currentNavigation),this.events.next(new dt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),_a(this.transitionAbortWithErrorSubject.pipe(we(i=>{throw i}))),dn(()=>{o||this.cancelNavigationTransition(r,"",xe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),gt(i=>{if(this.destroyed)return r.resolve(!1),Oe;if(o=!0,tD(i))this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),qA(i)?this.events.next(new Lo(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ko(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Ee(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Fo){let{message:c,cancellationCode:u}=yu(this.urlSerializer,a);this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Lo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Oe}))}))}cancelNavigationTransition(n,r,o){let i=new Mt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=De(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LR(e){return e!==Ro}var fD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(FR),providedIn:"root"})}return e})(),Eu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},FR=(()=>{class e extends Eu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=wc(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hD=(()=>{class e{urlSerializer=v(hr);options=v(gr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(In);urlHandlingStrategy=v(bu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new At;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof At?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=ZE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>v(jR),providedIn:"root"})}return e})(),jR=(()=>{class e extends hD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Mn?this.updateStateMemento():n instanceof Rt?this.commitTransition(r):n instanceof as?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof cs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mt&&n.code!==xe.SupersededByNewNavigation&&n.code!==xe.Redirect?this.restoreHistory(r):n instanceof ko?this.restoreHistory(r,!0):n instanceof dt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=wc(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cu(e,t){e.events.pipe(de(n=>n instanceof dt||n instanceof Mt||n instanceof ko||n instanceof Rt),$(n=>n instanceof dt||n instanceof Rt?0:(n instanceof Mt?n.code===xe.Redirect||n.code===xe.SupersededByNewNavigation:!1)?2:1),de(n=>n!==2),Ft(1)).subscribe(()=>{t()})}var UR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$R={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(qf);stateManager=v(hD);options=v(gr,{optional:!0})||{};pendingTasks=v(_t);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Iu);urlSerializer=v(hr);location=v(In);urlHandlingStrategy=v(bu);injector=v(ae);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(fD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(mr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(gs,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Q;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=De(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Mt&&r.code!==xe.Redirect&&r.code!==xe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof dt)this.navigated=!0;else if(r instanceof Lo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||LR(o.source)},s);this.scheduleNavigation(a,Ro,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}jA(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Qe)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return De(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(op),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=qE(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return GE(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=xo(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ro,null,r)}navigate(n,r={skipLocationChange:!1}){return BR(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},UR):r===!1?o=w({},$R):o=r,xo(n))return TE(this.currentUrlTree,n,o);let i=this.parseUrl(n);return TE(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Cu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BR(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new D(4008,!1)}var vs=class{};var pD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(de(n=>n instanceof dt),mt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=_o(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return re(o).pipe(qr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=S(null);let i=o.pipe(ee(s=>s===null?S(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return re([i,s]).pipe(qr())}else return i})}static \u0275fac=function(r){return new(r||e)(T(ft),T(ae),T(vs),T(_u))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gD=new b(""),VR=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ro;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof dt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Rt&&n.code===Oo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Po&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new Po(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){xf()};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function HR(e,...t){return gn([{provide:mr,multi:!0,useValue:e},[],{provide:Jt,useFactory:mD,deps:[ft]},{provide:Bi,multi:!0,useFactory:vD},t.map(n=>n.\u0275providers)])}function mD(e){return e.routerState.root}function Bo(e,t){return{\u0275kind:e,\u0275providers:t}}function vD(){let e=v(Se);return t=>{let n=e.get(ar);if(t!==n.components[0])return;let r=e.get(ft),o=e.get(yD);e.get(lp)===1&&r.initialNavigation(),e.get(DD,null,{optional:!0})?.setUpPreloading(),e.get(gD,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var yD=new b("",{factory:()=>new ne}),lp=new b("",{providedIn:"root",factory:()=>1});function wD(){let e=[{provide:gf,useValue:!0},{provide:lp,useValue:0},kc(()=>{let t=v(Se);return t.get(_h,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(ft),i=t.get(yD);Cu(o,()=>{r(!0)}),t.get(Iu).afterPreactivation=()=>(r(!0),i.closed?S(void 0):i),o.initialNavigation()}))})];return Bo(2,e)}function ED(){let e=[kc(()=>{v(ft).setUpLocationChangeListener()}),{provide:lp,useValue:2}];return Bo(3,e)}var DD=new b("");function _D(e){return Bo(0,[{provide:DD,useExisting:pD},{provide:vs,useExisting:e}])}function zR(){return Bo(6,[{provide:Tt,useClass:Hc}])}function bD(){return Bo(8,[np,{provide:gs,useExisting:np}])}function ID(e){Xe("NgRouterViewTransitions");let t=[{provide:sp,useValue:dD},{provide:ap,useValue:w({skipNextTransition:!!e?.skipInitialTransition},e)}];return Bo(9,t)}var CD=[In,{provide:hr,useClass:Sn},ft,pr,{provide:Jt,useFactory:mD,deps:[ft]},_u,[]],qR=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[CD,[],{provide:mr,multi:!0,useValue:n},[],r?.errorHandler?{provide:cp,useValue:r.errorHandler}:[],{provide:gr,useValue:r||{}},r?.useHash?WR():KR(),GR(),r?.preloadingStrategy?_D(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ZR(r):[],r?.bindToComponentInputs?bD().\u0275providers:[],r?.enableViewTransitions?ID().\u0275providers:[],YR()]}}static forChild(n){return{ngModule:e,providers:[{provide:mr,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=Bt({})}return e})();function GR(){return{provide:gD,useFactory:()=>{let e=v(nE),t=v(ie),n=v(gr),r=v(Iu),o=v(hr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new VR(o,r,e,t,n)}}}function WR(){return{provide:Tt,useClass:Hc}}function KR(){return{provide:Tt,useClass:Vc}}function ZR(e){return[e.initialNavigation==="disabled"?ED().\u0275providers:[],e.initialNavigation==="enabledBlocking"?wD().\u0275providers:[]]}var up=new b("");function YR(){return[{provide:up,useFactory:vD},{provide:Bi,multi:!0,useExisting:up}]}var TD=new b("SUPABASE_TOKEN");var SD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-NMAS5QM4.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var ys=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},ws=class extends ys{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Es=class extends ys{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ds=class extends ys{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},dp=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(dp||{});var QR=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},_s=class{constructor(t,{headers:n={},customFetch:r,region:o=dp.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=SD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return QR(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s,signal:a}=n,c={},{region:u}=n;u||(u=this.region);let l=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,l.searchParams.set("forceFunctionRegion",u));let d;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(c["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(c["Content-Type"]="application/json",d=JSON.stringify(s)));let h=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),o),body:d,signal:a}).catch(g=>{throw g.name==="AbortError"?g:new ws(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Es(h);if(!h.ok)throw new Ds(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ws(o)}:{data:null,error:o,response:o instanceof Ds||o instanceof Es?o.context:void 0}}})}};var jD=B_(FD(),1),{PostgrestClient:UD,PostgrestQueryBuilder:JW,PostgrestFilterBuilder:QW,PostgrestTransformBuilder:XW,PostgrestBuilder:e3,PostgrestError:cN}=jD.default;var bp=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Ip=bp;var $D="2.15.5";var BD=`realtime-js/${$D}`,VD="1.0.0";var As=1e4,HD=1e3,zD=100,Rs=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Rs||{}),me=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(me||{}),et=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(et||{}),Cp=(function(e){return e.websocket="websocket",e})(Cp||{}),vr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(vr||{});var Su=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var Ho=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Y=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Y||{}),Sp=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=uN(s,e,t,o),i),{})},uN=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?qD(i,s):Tp(s)},qD=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return hN(t,n)}switch(e){case Y.bool:return lN(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return dN(t);case Y.json:case Y.jsonb:return fN(t);case Y.timestamp:return pN(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Tp(t);default:return Tp(t)}},Tp=e=>e,lN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dN=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hN=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>qD(t,a))}return e},pN=e=>typeof e=="string"?e.replace(" ","T"):e,Mu=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};var zo=class{constructor(t,n,r={},o=As){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ns=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),p=l.filter(g=>f.indexOf(g.presence_ref)<0),y=d.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),y.length>0&&(c[u]=y)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xs=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(xs||{}),Xt=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(Xt||{});var Os=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zo(this,et.join,this.params,this.timeout),this.rejoinTimer=new Ho(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Ns(this),this.broadcastEndpointURL=Mu(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Xt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(Xt.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,g=(p=y?.length)!==null&&p!==void 0?p:0,m=[];for(let C=0;C<g;C++){let I=y[C],{filter:{event:E,schema:B,table:ve,filter:W}}=I,J=f&&f[C];if(J&&J.event===E&&J.schema===B&&J.table===ve&&J.filter===W)m.push(Object.assign(Object.assign({},I),{id:J.id}));else{this.unsubscribe(),this.state=me.errored,t?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Xt.SUBSCRIBED);return}}).receive("error",f=>{this.state=me.errored,t?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===me.joined&&t===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){let{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new zo(this,et.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new zo(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zD){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=et;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,y,g;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(y=f.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,y,g,m,C,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,B=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(B==="*"||B?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let E=(C=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return E==="*"||E===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:y,table:g,commit_timestamp:m,type:C,errors:I}=p;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:m,eventType:C,new:{},old:{},errors:I}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sp(t.columns,t.old_record)),n}};var Mp=()=>{},Au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mN=[1e3,2e3,5e3,1e4],vN=1e4,yN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ks=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=As,this.transport=null,this.heartbeatIntervalMs=Au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mp,this.ref=0,this.reconnectTimer=null,this.logger=Mp,this.conn=null,this.sendBuffer=[],this.serializer=new Su,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-NMAS5QM4.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Cp.websocket}`,this.httpEndpoint=Mu(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ip.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VD}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return vr.Connecting;case Rs.open:return vr.Open;case Rs.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Os(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([yN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:BD};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(et.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ho(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Au.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:As,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Au.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Mp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>mN[d-1]||vN,this.encode=(u=t?.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(l=t?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var qo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function X(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ru=class extends qo{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yr=class extends qo{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var wN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},xu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-NMAS5QM4.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},GD=()=>wN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NMAS5QM4.js")).Response:Response}),Nu=e=>{if(Array.isArray(e))return e.map(n=>Nu(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Nu(r)}),t},WD=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Ap=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EN=(e,t,n)=>wr(void 0,void 0,void 0,function*(){let r=yield GD();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";t(new Ru(Ap(o),i,s))}).catch(o=>{t(new yr(Ap(o),o))}):t(new yr(Ap(e),e))}),DN=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(WD(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Ps(e,t,n,r,o,i){return wr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,DN(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>EN(c,a,r))})})}function Go(e,t,n,r){return wr(this,void 0,void 0,function*(){return Ps(e,"GET",t,n,r)})}function tt(e,t,n,r,o){return wr(this,void 0,void 0,function*(){return Ps(e,"POST",t,r,o,n)})}function Ls(e,t,n,r,o){return wr(this,void 0,void 0,function*(){return Ps(e,"PUT",t,r,o,n)})}function KD(e,t,n,r){return wr(this,void 0,void 0,function*(){return Ps(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ou(e,t,n,r,o){return wr(this,void 0,void 0,function*(){return Ps(e,"DELETE",t,r,o,n)})}var _N=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},ku=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return _N(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}};var bN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Pu=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new ku(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return bN(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}};var Le=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},IN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Lu=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=xu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return Le(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},ZD),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(t=="PUT"?Ls:tt)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Le(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:ZD.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield Ls(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(X(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new qo("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}update(t,n,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Le(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Le(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield tt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Le(this,void 0,void 0,function*(){try{let o=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}download(t,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>Go(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Pu(c,this.shouldThrowOnError)}info(t){return Le(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Go(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}exists(t){return Le(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield KD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r)&&r instanceof yr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Le(this,void 0,void 0,function*(){try{return{data:yield Ou(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}list(t,n,r){return Le(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},IN),n),{prefix:t||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}listV2(t,n){return Le(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var YD="2.12.2";var JD={"X-Client-Info":`storage-js/${YD}`};var Wo=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Fu=class{constructor(t,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},JD),n),this.fetch=xu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Wo(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}getBucket(t){return Wo(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Wo(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Wo(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Wo(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Wo(this,void 0,void 0,function*(){try{return{data:yield Ou(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}};var Fs=class extends Fu{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new Lu(this.url,this.headers,t,this.fetch)}};var QD="2.58.0";var js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";var CN={"X-Client-Info":`supabase-js-${js}/${QD}`},XD={headers:CN},e_={schema:"public"},t_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n_={};Bp();var TN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},SN=e=>{let t;return e?t=e:typeof fetch>"u"?t=Up:t=fetch,(...n)=>t(...n)},MN=()=>typeof Headers>"u"?$p:Headers,r_=(e,t,n)=>{let r=SN(n),o=MN();return(i,s)=>TN(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var AN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function RN(e){return e.endsWith("/")?e:e+"/"}function o_(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>AN(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function i_(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ju="2.72.0";var Er=30*1e3,Uu=3,$u=Uu*Er,s_="http://localhost:9999",a_="supabase.auth.token";var c_={"X-Client-Info":`gotrue-js/${ju}`};var Us="X-Supabase-Api-Version",Rp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l_=600*1e3;var $s=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function k(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Bu=class extends $s{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function d_(e){return k(e)&&e.name==="AuthApiError"}var Ko=class extends $s{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Nt=class extends $s{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},nt=class extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function f_(e){return k(e)&&e.name==="AuthSessionMissingError"}var An=class extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Dr=class extends Nt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},_r=class extends Nt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function h_(e){return k(e)&&e.name==="AuthImplicitGrantRedirectError"}var Bs=class extends Nt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Zo=class extends Nt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Vu(e){return k(e)&&e.name==="AuthRetryableFetchError"}var Vs=class extends Nt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var br=class extends Nt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p_=` 	
\r=`.split(""),NN=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<p_.length;t+=1)e[p_[t].charCodeAt(0)]=-2;for(let t=0;t<Hu.length;t+=1)e[Hu[t].charCodeAt(0)]=t;return e})();function g_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Hu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Hu[r]),t.queuedBits-=6}}function m_(e,t,n){let r=NN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Np(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{kN(s,r,n)};for(let s=0;s<e.length;s+=1)m_(e.charCodeAt(s),o,i);return t.join("")}function xN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ON(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}xN(r,t)}}function kN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function v_(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)m_(e.charCodeAt(o),n,r);return new Uint8Array(t)}function y_(e){let t=[];return ON(e,n=>t.push(n)),new Uint8Array(t)}function w_(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>g_(o,n,r)),g_(null,n,r),t.join("")}function E_(e){return Math.round(Date.now()/1e3)+e}function D_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var ze=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},zu=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function __(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var qu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-NMAS5QM4.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},b_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},en=async(e,t)=>{await e.removeItem(t)},Hs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Hs.promiseConstructor=Promise;function Gu(e){let t=e.split(".");if(t.length!==3)throw new br("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!u_.test(t[r]))throw new br("JWT not in base64url format");return{header:JSON.parse(Np(t[0])),payload:JSON.parse(Np(t[1])),signature:v_(t[2]),raw:{header:t[0],payload:t[1]}}}async function I_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function C_(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function PN(e){return("0"+e.toString(16)).substr(-2)}function LN(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,PN).join("")}async function FN(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function jN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await FN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(e,t,n=!1){let r=LN(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Cr(e,`${t}-code-verifier`,o);let i=await jN(r);return[i,r===i?"plain":"s256"]}var UN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T_(e){let t=e.headers.get(Us);if(!t||!t.match(UN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function S_(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(e){if(!$N.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wu(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xp(e){return JSON.parse(JSON.stringify(e))}var BN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VN=[502,503,504];async function A_(e){var t;if(!b_(e))throw new Zo(Mr(e),0);if(VN.includes(e.status))throw new Zo(Mr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ko(Mr(i),i)}let r,o=T_(e);if(o&&o.getTime()>=Rp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vs(Mr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Vs(Mr(n),e.status,n.weak_password.reasons);throw new Bu(Mr(n),e.status||500,r)}var HN=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function U(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[Us]||(i[Us]=Rp["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await zN(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function zN(e,t,n,r,o,i){let s=HN(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new Zo(Mr(c),0)}if(a.ok||await A_(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await A_(c)}}function ht(e){var t;let n=null;qN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=E_(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Op(e){let t=ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function R_(e){return{data:e,error:null}}function N_(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=BN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function x_(e){return e}function qN(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ku=["global","local","others"];var GN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Yo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ku[0]){if(Ku.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=GN(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:N_,redirectTo:n?.redirectTo})}catch(n){if(k(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:x_});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(k(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sr(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Sr(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Sr(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Sr(t.userId);try{let{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(k(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Sr(t.userId),Sr(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(k(n))return{data:null,error:n};throw n}}};function kp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function O_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ar={debug:!!(globalThis&&zu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},zs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Zu=class extends zs{};async function Pp(e,t,n){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ar.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Lp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function k_(e){return parseInt(e,16)}function P_(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function L_(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Lp(e.address),p=l?`${l}://${r}`:r,y=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${y}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(m+=`
Expiration Time: ${o.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let C=`
Resources:`;for(let I of u){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);C+=`
- ${I}`}m+=C}return`${g}
${m}`}O_();var WN={url:s_,storageKey:a_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function F_(e,t,n){return await n()}var Jo={},Fp=(()=>{class e{constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},WN),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=qu(i.fetch),this.lock=i.lock||F_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ze()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Pp:this.lock=F_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kp(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=Jo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Jo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ju}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r=__(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),ze()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),h_(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?{error:r}:{error:new Ko("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ht}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,y=null;this.flowType==="pkce"&&([p,y]=await Tr(this.storage,this.storageKey)),s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},xform:ht})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ht})}else throw new Dr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Op})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Op})}else throw new Dr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new An}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,y;if("message"in n)p=n.message,y=n.signature;else{let{chain:g,wallet:m,statement:C,options:I}=n,E;if(ze())if(typeof m=="object")E=m;else{let Ot=window;if("ethereum"in Ot&&typeof Ot.ethereum=="object"&&"request"in Ot.ethereum&&typeof Ot.ethereum.request=="function")E=Ot.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=m}let B=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),ve=await E.request({method:"eth_requestAccounts"}).then(Ot=>Ot).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ve||ve.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let W=Lp(ve[0]),J=(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){let Ot=await E.request({method:"eth_chainId"});J=k_(Ot)}let $_={domain:B.host,address:W,statement:C,uri:B.href,version:"1",chainId:J,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=L_($_),y=await E.request({method:"personal_sign",params:[P_(p),W]})}try{let{data:g,error:m}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new An}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(k(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let y,g;if("message"in n)y=n.message,g=n.signature;else{let{chain:m,wallet:C,statement:I,options:E}=n,B;if(ze())if(typeof C=="object")B=C;else{let W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}let ve=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){let W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),I?{statement:I}:null)),J;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")J=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)J=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)y=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),g=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${ve.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);let W=await B.signMessage(new TextEncoder().encode(y),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=W}}try{let{data:m,error:C}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:w_(g)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ht});if(C)throw C;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new An}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:C})}catch(m){if(k(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(n){let r=await Rn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:ht});if(await en(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new An}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(k(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ht}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new An}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Tr(this.storage,this.storageKey));let{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Dr("You must provide either an email or phone number.")}catch(c){if(k(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ht});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(k(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(n){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Tr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:R_})}catch(s){if(k(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new nt;let{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(n){if(k(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Dr("You must provide either an email or phone number and a type")}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Rn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Wu()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(u,l,d)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:xt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xt})})}catch(r){if(k(r))return f_(r)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new nt;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Tr(this.storage,this.storageKey));let{data:l,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:xt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(k(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new nt;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Gu(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(k(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new nt;let{session:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!ze())throw new _r("No browser detected.");if(n.error||n.error_description||n.error_code)throw new _r(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Bs("No code detected.");let{data:I,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new _r("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);let{data:g,error:m}=await this._getUser(s);if(m)throw m;let C={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:n.type},error:null}}catch(o){if(k(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Rn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(d_(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){let r=D_(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Tr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(k(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ze()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(k(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await C_(async i=>(i>0&&await I_(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ht})),(i,s)=>{let a=200*Math.pow(2,i);return s&&Vu(s)&&Date.now()+a-o<Er})}catch(o){if(this._debug(r,"error",o),k(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ze()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Rn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Cr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Wu()}else if(i&&!i.user&&!i.user){let a=await Rn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await en(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,i)):i.user=Wu()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$u;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${$u}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Vu(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hs;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new nt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),k(s)){let a={session:null,error:s};return Vu(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=xp(i);await Cr(this.storage,this.storageKey,s)}else{let i=xp(r);await Cr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Er}ms, refresh threshold is ${Uu} ticks`),i<=Uu&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof zs)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Tr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await U(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:u,error:l}=await U(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(n.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await U(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(k(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){let{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Gu(i.access_token),c=null;a.aal&&(c=a.aal);let u=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+l_>i)return o;let{data:s,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Gu(o);r?.allowExpired||S_(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=M_(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,y_(`${c}.${u}`)))throw new br("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(k(o))return{data:null,error:o};throw o}}}return e.nextInstanceID=0,e})();var KN=Fp,jp=KN;var Yu=class extends jp{constructor(t){super(t)}};var ZN=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})},Ju=class{constructor(t,n,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=n;let a=i_(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:e_,realtime:n_,auth:Object.assign(Object.assign({},t_),{storageKey:c}),global:XD},l=o_(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=r_(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new UD(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Fs(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new _s(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ZN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yu({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ks(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var j_=(e,t,n)=>new Ju(e,t,n);function YN(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}YN()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var U_=(()=>{class e{supabaseToken=v(TD);supabase;supabaseStorageURL=`${this.supabaseToken.supabaseUrl}/storage/v1/upload/resumable`;constructor(){this.supabase=j_(this.supabaseToken.supabaseUrl,this.supabaseToken.supabaseKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L6=(()=>{class e{supabaseService=v(U_);router=v(ft);initPromise=null;_inFlight=Pe(0);busy=It(()=>this._inFlight()>0);user=Pe(null);isAuthenticated=It(()=>!!this.user());async runBusy(n){this._inFlight.update(r=>r+1);try{return await n()}finally{this._inFlight.update(r=>Math.max(0,r-1))}}constructor(){this.initPromise=this.init()}async waitForInit(){return this.initPromise??Promise.resolve()}async init(){await this.runBusy(async()=>{let{data:n}=await this.supabaseService.supabase.auth.getSession();this.user.set(n?.session?.user??null),this.supabaseService.supabase.auth.onAuthStateChange((r,o)=>{this.user.set(o?.user??null)})})}login(n,r){return this.runBusy(async()=>{let{data:o,error:i}=await this.supabaseService.supabase.auth.signInWithPassword({email:n,password:r});if(i)throw i;return this.user.set(o.user),o.session??null})}signUp(n,r){return this.runBusy(async()=>{let{data:o,error:i}=await this.supabaseService.supabase.auth.signUp({email:n,password:r});if(i)throw i;return this.user.set(o.user),o.user??null})}logout(){return this.runBusy(async()=>{let{error:n}=await this.supabaseService.supabase.auth.signOut();if(n)throw n;this.user.set(null),this.router.navigate(["auth"])})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{Q as a,F as b,Ur as c,ne as d,_e as e,ri as f,ib as g,sb as h,re as i,S as j,ml as k,$ as l,ai as m,Gr as n,ci as o,_b as p,vl as q,de as r,Ab as s,gt as t,Rb as u,Ft as v,Nb as w,dn as x,kb as y,Pb as z,Lb as A,Dl as B,ye as C,_a as D,we as E,D as F,Ma as G,_ as H,Bt as I,b as J,v as K,ae as L,Ee as M,im as N,sm as O,ym as P,wm as Q,Se as R,oe as S,Je as T,Ed as U,Pe as V,pI as W,gI as X,yo as Y,wc as Z,Wt as _,rc as $,Dc as aa,Eo as ba,BI as ca,bc as da,KI as ea,EC as fa,ho as ga,nr as ha,Ui as ia,Kt as ja,_n as ka,po as la,$f as ma,bn as na,ir as oa,Fy as pa,lS as qa,$y as ra,Ne as sa,ie as ta,zf as ua,$i as va,ar as wa,Zy as xa,Zf as ya,SS as za,MS as Aa,AS as Ba,RS as Ca,NS as Da,Yy as Ea,Jf as Fa,Qf as Ga,Pc as Ha,Xf as Ia,eh as Ja,Jy as Ka,Xy as La,LS as Ma,ew as Na,rh as Oa,nw as Pa,jS as Qa,$S as Ra,BS as Sa,HS as Ta,ow as Ua,iw as Va,zS as Wa,qS as Xa,GS as Ya,lw as Za,dw as _a,i0 as $a,a0 as ab,v0 as bb,Ew as cb,oh as db,Dw as eb,E0 as fb,_w as gb,Iw as hb,D0 as ib,_0 as jb,b0 as kb,M0 as lb,A0 as mb,R0 as nb,N0 as ob,L0 as pb,De as qb,It as rb,Nw as sb,uh as tb,H0 as ub,gh as vb,oM as wb,n8 as xb,zw as yb,r8 as zb,o8 as Ab,i8 as Bb,qi as Cb,Gw as Db,Kw as Eb,yM as Fb,s8 as Gb,Zt as Hb,In as Ib,_M as Jb,bM as Kb,tE as Lb,Oq as Mb,kq as Nb,UM as Ob,Yt as Pb,EE as Qb,fA as Rb,CE as Sb,Jt as Tb,tp as Ub,ft as Vb,HR as Wb,zR as Xb,qR as Yb,L6 as Zb,qo as _b,TD as $b,U_ as ac};
